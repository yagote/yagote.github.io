<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Java基础 | 虾壳</title><meta name="author" content="虾壳"><meta name="copyright" content="虾壳"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="现在看来，当时学Java基础走了很多弯路。  12345driver&#x3D;com.mysql.jdbc.Driverurl&#x3D;jdbc:mysql:&#x2F;&#x2F;192.168.222.137:3306&#x2F;JavaTest?serverTimezone&#x3D;GMT&amp;useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf-8&amp;useSSL&#x3D;falseusername&#x3D;root">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础">
<meta property="og:url" content="http://yagote.github.io/2023/10/01/java-ji-chu/index.html">
<meta property="og:site_name" content="虾壳">
<meta property="og:description" content="现在看来，当时学Java基础走了很多弯路。  12345driver&#x3D;com.mysql.jdbc.Driverurl&#x3D;jdbc:mysql:&#x2F;&#x2F;192.168.222.137:3306&#x2F;JavaTest?serverTimezone&#x3D;GMT&amp;useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf-8&amp;useSSL&#x3D;falseusername&#x3D;root">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yagote.github.io/img/favicon.png">
<meta property="article:published_time" content="2023-10-01T11:34:11.000Z">
<meta property="article:modified_time" content="2023-10-01T12:03:20.434Z">
<meta property="article:author" content="虾壳">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Java Web">
<meta property="article:tag" content="Java SE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yagote.github.io/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yagote.github.io/2023/10/01/java-ji-chu/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-10-01 20:03:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="虾壳"><span class="site-name">虾壳</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Java基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-10-01T11:34:11.000Z" title="发表于 2023-10-01 19:34:11">2023-10-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-01T12:03:20.434Z" title="更新于 2023-10-01 20:03:20">2023-10-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/Java%E6%95%99%E7%A8%8B/">Java教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">58.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>249分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java基础"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><blockquote>
<p>现在看来，当时学Java基础走了很多弯路。</p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://192.168.222.137:3306/JavaTest?serverTimezone=GMT&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment">#url只需要写出数据库，而数据库的表再用其他java代码写</span></span><br></pre></td></tr></table></figure>



<h3 id="Java-SE"><a href="#Java-SE" class="headerlink" title="Java SE"></a><strong>Java SE</strong></h3><h4 id="Java基本数据类型"><a href="#Java基本数据类型" class="headerlink" title="Java基本数据类型"></a>Java基本数据类型</h4><p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-basic-datatypes.html">菜鸟</a></p>
<p>Java数据类型分为两大类：<strong>基本数据类型</strong>和<strong>引用数据类型</strong>（抽象数据类型） 。其中基本数据类型共有八种，基本类型可以分为三类，字符类型char，布尔类型boolean以及数值类型。byte、short、int、long、float、double</p>
<blockquote>
<p>基本数据类型（8种  ）:</p>
</blockquote>
<ul>
<li><p>整型</p>
<ul>
<li><p>byte：1字节  8位(0000 0000)</p>
</li>
<li><p>short：2字节</p>
</li>
<li><p>int：4字节</p>
</li>
<li><p>long：8字节</p>
</li>
</ul>
</li>
<li><p>浮点型</p>
<ul>
<li>float：4字节</li>
<li>double：8字节  </li>
</ul>
</li>
<li><p>字符型</p>
<ul>
<li> char：2字节</li>
</ul>
</li>
<li><p>布尔型</p>
<ul>
<li>boolean    长度有争议（true,false）</li>
</ul>
</li>
</ul>
<blockquote>
<p>引用数据类型（内存中的地址） ：  </p>
</blockquote>
<ul>
<li>类，接口，数组 </li>
</ul>
<p>补充：boolean 是Java中最基本8种类型中的一种；Boolean是boolean 的封装类，和其他类一样，有属性有方法，可以new。基本数据类型对应的包装类型首字符大写，所以Boolean与boolean 是不一样的，int—–&gt;Integer ，char—-&gt;Character </p>
<h4 id="Java枚举"><a href="#Java枚举" class="headerlink" title="Java枚举"></a>Java枚举</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35385687/article/details/90147104">csdn</a></p>
<h4 id="十大经典排序"><a href="#十大经典排序" class="headerlink" title="十大经典排序"></a>十大经典排序</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/onepixel/p/7674659.html">博客园</a></p>
<h4 id="IO流复制文件"><a href="#IO流复制文件" class="headerlink" title="IO流复制文件"></a>IO流复制文件</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/huanyinghanlang/article/details/78825958">csdn</a></p>
<h4 id="java常见容器"><a href="#java常见容器" class="headerlink" title="java常见容器"></a>java常见容器</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42574142/article/details/87125363">csdn</a></p>
<h4 id="一、循环-amp-条件-amp-选择"><a href="#一、循环-amp-条件-amp-选择" class="headerlink" title="一、循环&amp;条件&amp;选择"></a>一、循环&amp;条件&amp;选择</h4><h5 id="1、for"><a href="#1、for" class="headerlink" title="1、for"></a>1、for</h5><p>for(初始；条件；迭代){}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入第&quot;</span>+i+<span class="string">&quot;位同学的成绩：&quot;</span>);</span><br><span class="line">    <span class="keyword">double</span> score = input.nextDouble();</span><br><span class="line">    <span class="keyword">if</span>(score&lt;<span class="number">0</span>||score&gt;<span class="number">100</span>)&#123;</span><br><span class="line">        flag = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sum = sum+score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、while"><a href="#2、while" class="headerlink" title="2、while"></a>2、while</h5><p>while(){}</p>
<h5 id="3、do-while"><a href="#3、do-while" class="headerlink" title="3、do while"></a>3、do while</h5><p>do{}while();</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;请提交作业……&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;(教师评语处)__________&quot;</span>);</span><br><span class="line">    answer=input.next();</span><br><span class="line">&#125;<span class="keyword">while</span>(!answer.equals(<span class="string">&quot;y&quot;</span>));</span><br></pre></td></tr></table></figure>

<h5 id="4、if（条件）"><a href="#4、if（条件）" class="headerlink" title="4、if（条件）"></a>4、if（条件）</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(flag==<span class="keyword">true</span>)&#123;</span><br><span class="line">    <span class="keyword">double</span> avg = sum/<span class="number">5</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;这5位同学的平均分为&quot;</span>+avg);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;输入数据有误！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">if</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<h5 id="5、switch（选择）"><a href="#5、switch（选择）" class="headerlink" title="5、switch（选择）"></a>5、switch（选择）</h5><h4 id="二、方法-函数"><a href="#二、方法-函数" class="headerlink" title="二、方法/函数"></a>二、方法/函数</h4><blockquote>
<p>实现特定功能的一段代码，可反复使用。</p>
</blockquote>
<p>public static void 方法名称(形式参数){</p>
<p>​        //方法体</p>
<p>} </p>
<p>定义的位置与main函数并列（同一个级别）</p>
<h5 id="1、调用"><a href="#1、调用" class="headerlink" title="1、调用"></a>1、调用</h5><p>方法名称(实际参数);</p>
<h5 id="2、方法的参数"><a href="#2、方法的参数" class="headerlink" title="2、方法的参数"></a>2、方法的参数</h5><p>形参、实参</p>
<h5 id="3、返回值与返回类型"><a href="#3、返回值与返回类型" class="headerlink" title="3、返回值与返回类型"></a>3、返回值与返回类型</h5><ul>
<li>定义语法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> 返回值类型(如<span class="keyword">void</span>无返回)  方法名称(形式参数列表)&#123;</span><br><span class="line">	<span class="comment">//方法主体</span></span><br><span class="line">	<span class="keyword">return</span> value;<span class="comment">//返回值 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>调用：变量 = 方法名称();    //变量类型与返回值类型一致</li>
<li>return 值    //<strong>结束当前方法，方法后即使有语句也不在执行了</strong>，语句执行回到调用方法的地方继续下去。</li>
</ul>
<h4 id="三、递归"><a href="#三、递归" class="headerlink" title="三、递归"></a>三、递归</h4><p>应用：求阶乘</p>
<h4 id="四、数组"><a href="#四、数组" class="headerlink" title="四、数组"></a>四、数组</h4><p> <strong>Java中数组是对象，不是基本数据类型（原生类），大小不可变且连续存储，因为是对象所以存在堆中。</strong></p>
<h5 id="1、定义"><a href="#1、定义" class="headerlink" title="1、定义"></a>1、定义</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];	<span class="comment">//在内存中创建长度为5的整数数组</span></span><br></pre></td></tr></table></figure>

<h5 id="2、数组的遍历"><a href="#2、数组的遍历" class="headerlink" title="2、数组的遍历"></a>2、数组的遍历</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">    System.out.println(arr[i]);	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、数组的默认值"><a href="#3、数组的默认值" class="headerlink" title="3、数组的默认值"></a>3、数组的默认值</h5><p>在数组没有进行复制的情况下也是可以访问的，因为有数组默认值。int型的数组的默认值是0；double型的数组的默认值是0.0；字符型\u0000（空白的意思）;布尔型false；其他型（如string型的）null。</p>
<h5 id="4、数组的创建方式"><a href="#4、数组的创建方式" class="headerlink" title="4、数组的创建方式"></a>4、数组的创建方式</h5><h6 id="1、先声明再分配空间"><a href="#1、先声明再分配空间" class="headerlink" title="1、先声明再分配空间"></a>1、先声明再分配空间</h6><p>int[] arr;</p>
<p>arr = new int arr[5];</p>
<h6 id="2、声明并分配空间"><a href="#2、声明并分配空间" class="headerlink" title="2、声明并分配空间"></a>2、声明并分配空间</h6><p>int[] arr = new int arr[5];</p>
<h6 id="3、声明并赋值（繁）"><a href="#3、声明并赋值（繁）" class="headerlink" title="3、声明并赋值（繁）"></a>3、声明并赋值（繁）</h6><p>int[] arr = new int arr[]{1,2,3,4,5};</p>
<p>也可以 </p>
<p>int[] arr;</p>
<p>arr = new int arr[]{1,2,3,4,5};</p>
<h6 id="4、声明并赋值（简）"><a href="#4、声明并赋值（简）" class="headerlink" title="4、声明并赋值（简）"></a>4、声明并赋值（简）</h6><p>int[] arr = {1,2,3,4,5}</p>
<p>不能</p>
<p>int[] arr;</p>
<p>arr = {1,2,3,4,5};</p>
<h5 id="5、求数组中的平均值"><a href="#5、求数组中的平均值" class="headerlink" title="5、求数组中的平均值"></a>5、求数组中的平均值</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> JiCuLianXI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 数组中元素的平均值 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length;i++)&#123;</span><br><span class="line">            sum = sum+num[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> avg = sum/(num.length);</span><br><span class="line">        System.out.println(<span class="string">&quot;数组中的平均值是&quot;</span>+avg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6、数组排序"><a href="#6、数组排序" class="headerlink" title="6、数组排序"></a>6、数组排序</h5><ul>
<li><strong>升序</strong>借助JDK中的包</li>
</ul>
<p>import java.util.Arrays;</p>
<p>Arrays.sort(nums)；    //这是使用的方法，其中nums是定定义好的数组</p>
<ul>
<li><strong>降序</strong>需要使用手工的方式完成</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> JiCuLianXI;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;    <span class="comment">//升序借助JDK中的包</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 数组中元素的排序 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="comment">//升序</span></span><br><span class="line">        Arrays.sort(num);</span><br><span class="line">        <span class="comment">//输出升序的数组</span></span><br><span class="line">    System.out.println(<span class="string">&quot;升序后的数组为：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length;i++)&#123;</span><br><span class="line">        System.out.print(num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//降序,一下的这个降序方法是先升序排好了，在进行交换位置成降序</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length/<span class="number">2</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = num[i];</span><br><span class="line">            num[i] = num[num.length-<span class="number">1</span>-i];</span><br><span class="line">            num[num.length-<span class="number">1</span>-i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//输出降序的数组</span></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;降序后的数组为：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;num.length;i++)&#123;</span><br><span class="line">            System.out.print(num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="五、面向对象"><a href="#五、面向对象" class="headerlink" title="五、面向对象"></a>五、面向对象</h4><h5 id="1、类中的方法"><a href="#1、类中的方法" class="headerlink" title="1、类中的方法"></a>1、类中的方法</h5><p>通过函数表示，又称<strong>实例方法</strong>（参考下面的实例方法介绍）</p>
<p>public 返回值类型 方法名称(形参){</p>
<p>​    //方法体</p>
<p>}</p>
<p>//注：不再书写static</p>
<h5 id="2、定义类"><a href="#2、定义类" class="headerlink" title="2、定义类"></a>2、定义类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*狗狗类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">dog</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义属性</span></span><br><span class="line">    String breed;   <span class="comment">//品种</span></span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String sex;</span><br><span class="line">    String color;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡觉了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、创建对象"><a href="#3、创建对象" class="headerlink" title="3、创建对象"></a>3、创建对象</h5><p>调用用上面创建的类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">duixiang</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建一个对象dog 对象的引用名为mydog</span></span><br><span class="line">        dog mydog = <span class="keyword">new</span> dog();</span><br><span class="line">        <span class="comment">//属性赋值</span></span><br><span class="line">        mydog.breed = <span class="string">&quot;哈士奇&quot;</span>;</span><br><span class="line">        mydog.age = <span class="number">1</span>;</span><br><span class="line">        mydog.color = <span class="string">&quot;黑色&quot;</span>;</span><br><span class="line">        mydog.sex  = <span class="string">&quot;公狗&quot;</span>;</span><br><span class="line">        <span class="comment">//获取属性</span></span><br><span class="line">        System.out.println(mydog.breed);</span><br><span class="line">        System.out.println(mydog.age);</span><br><span class="line">        System.out.println(mydog.color);</span><br><span class="line">        System.out.println(mydog.sex);</span><br><span class="line">        <span class="comment">//调用类中的方法</span></span><br><span class="line">        mydog.eat();</span><br><span class="line">        mydog.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类（模板，一个）——&gt;对象（实例，多个）</p>
<h5 id="4、实例变量-如属性"><a href="#4、实例变量-如属性" class="headerlink" title="4、实例变量(如属性)"></a>4、实例变量(如属性)</h5><p>比如，类中的属性。</p>
<p>对于实例变量而言，未赋值并不会导致编译错误</p>
<p>实例变量的默认值：int型的数组的默认值是0；double型的数组的默认值是0.0；字符型\u0000（空白的意思）;布尔型false；其他型（如string型的）null。</p>
<h5 id="5、实例变量与局部变量的区别"><a href="#5、实例变量与局部变量的区别" class="headerlink" title="5、实例变量与局部变量的区别"></a>5、实例变量与局部变量的区别</h5><p>很简单，不区别了</p>
<h5 id="6、实例方法"><a href="#6、实例方法" class="headerlink" title="6、实例方法"></a>6、实例方法</h5><h5 id="7、方法重载"><a href="#7、方法重载" class="headerlink" title="7、方法重载"></a>7、方法重载</h5><p>对象的同一种行为可能存在多种实现过程。方法的重载是指一个类中可以定义有相同的名字，但参数不同的多个方法。调用时，会根据不同的参数表选择对应的方法。</p>
<p><strong>方法名相同</strong>，参数列表不同(类型、个数、顺序)，和返回值和修饰符无关</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955158.png" alt="image-20210909103538972" style="zoom:67%;" />



<h5 id="8、构造方法"><a href="#8、构造方法" class="headerlink" title="8、构造方法"></a>8、构造方法</h5><p>构造方法可以为属性赋值</p>
<ul>
<li>类中的特殊方法、主要用于创建对象</li>
</ul>
<ul>
<li><p>名称与类名完全相同</p>
</li>
<li><p><strong>没有返回值类型，即void也不用写，什么都不写</strong></p>
</li>
<li><p>创建对象时，调用构造方法不可通过句点来调用，即直接new一个</p>
</li>
<li><p>创建类时，若不添加构造方法，系统会自动默认创建一个没有参数的构造方法，若创建了构造方法就没有系统默认的构造方法了</p>
<p>public    默认的方法名称(){    //注意，构造方法没有返回值，即连void都没有</p>
<p>//默认的方法体</p>
<p>}</p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 11:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lei</span>中的构造方法 </span>&#123;</span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String sex;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个构造方法,方法名称要和类名完全一致，即为Lei中的构造方法</span></span><br><span class="line">    <span class="keyword">public</span> Lei中的构造方法()&#123;</span><br><span class="line">        <span class="comment">//在构造方法中为属性赋值，普通方法也可用这个值</span></span><br><span class="line">        age = <span class="number">11</span>;</span><br><span class="line">        name = <span class="string">&quot;xiaohua&quot;</span>;</span><br><span class="line">        sex = <span class="string">&quot;女&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是构造方法--你好,我叫&quot;</span>+name+<span class="string">&quot;,今年&quot;</span>+age+<span class="string">&quot;岁了,&quot;</span>+<span class="string">&quot;我是一名活泼开朗的&quot;</span>+sex+<span class="string">&quot;生。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//普通方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是普通方法--你好,我叫&quot;</span>+name+<span class="string">&quot;,今年&quot;</span>+age+<span class="string">&quot;岁了,&quot;</span>+<span class="string">&quot;我是一名活泼开朗的&quot;</span>+sex+<span class="string">&quot;生。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象调用这个类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 11:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 调用构造方法 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        Lei中的构造方法 xiaohua = <span class="keyword">new</span> Lei中的构造方法();</span><br><span class="line">        xiaohua.sayHi();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​            运行结果：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">这是构造方法<span class="comment">--你好,我叫xiaohua,今年11岁了,我是一名活泼开朗的女生。</span></span><br><span class="line">这是普通方法<span class="comment">--你好,我叫xiaohua,今年11岁了,我是一名活泼开朗的女生。</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="9、构造方法重载"><a href="#9、构造方法重载" class="headerlink" title="9、构造方法重载"></a>9、构造方法重载</h5><p>和方法重载差不多</p>
<h5 id="10、this关键字"><a href="#10、this关键字" class="headerlink" title="10、this关键字"></a>10、this关键字</h5><p><strong>this.类中的属性</strong>    <strong>this.类中的方法</strong>    <strong>不是放在形参或实参前</strong>        <strong>谁调用指向谁(实例化对象)</strong></p>
<p>使用：</p>
<ul>
<li>在方法的属性前加this.        比如 :</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//普通方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;这是普通方法--你好,我叫&quot;</span>+<span class="keyword">this</span>.name+<span class="string">&quot;,今年&quot;</span>+<span class="keyword">this</span>.age+<span class="string">&quot;岁了,&quot;</span>+<span class="string">&quot;我是一名活泼开朗的&quot;</span>+<span class="keyword">this</span>.sex+<span class="string">&quot;生。&quot;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>当实例变量(如属性)与构造方法中的变量名相同，给实例变量赋值时，可在实例变量前加this.        如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建属性(实例变量)</span></span><br><span class="line">String name;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这是构造方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">student</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;	<span class="comment">//this.name指的是属性的name,name指的是构造方法的name,给参数name赋值，this.name=这个值，也就是谁调用this就指向哪个实例化对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>调用实例方法</p>
</li>
</ul>
<ul>
<li><p>调用本类中的其他构造方法，例如：this()、this(实参)</p>
<p>this();    //调用无参构造方法。</p>
</li>
</ul>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955159.png" alt="image-20210909120429551" style="zoom:50%;" />

<p>注意：this()或this(实参)必须是第一条语句，而且只能调用一次</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zheting/p/7751752.html">this关键字(博客园)</a></p>
<p><strong>this总结</strong>：</p>
<p>this代表其所在方法的当前对象的引用</p>
<ul>
<li><ol>
<li> 构造方法中指该构造器所创建的新对象；</li>
</ol>
</li>
<li><ol start="2">
<li> 方法中指调用该方法的对象；</li>
</ol>
</li>
<li><ol start="3">
<li> 在类本身的方法或构造器中引用该类的实例变量（全局变量）和方法。</li>
</ol>
</li>
<li>4）当实例变量和局部变量重名，JAVA平台会按照先局部变量、后实例变量的顺序寻找。即，方法中使用到的变量的寻找规律是先找局部变量，再找实例变量。</li>
<li>5）如果使用this.a，则不会在方法（局部变量）中寻找变量a,而是直接去实例变量中去寻找，如果寻找不到，则会有一个编译错误。</li>
</ul>
<h4 id="六、面向对象的三大特性"><a href="#六、面向对象的三大特性" class="headerlink" title="六、面向对象的三大特性"></a>六、面向对象的三大特性</h4><h5 id="1、封装"><a href="#1、封装" class="headerlink" title="1、封装"></a>1、封装</h5><p>概念：尽可能隐藏对象内部实现细节，控制对象的修改及访问权限。可用于对属性的赋值加以限制。</p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 19:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 封装 </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;  <span class="comment">//设置age为私有，方便封装</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="comment">//赋值set</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age &gt; <span class="number">0</span> &amp;&amp; age &lt; <span class="number">120</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = <span class="number">18</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取get</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sex.equals(<span class="string">&quot;男&quot;</span>)||sex.equals(<span class="string">&quot;女&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.sex = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.sex;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//设置一个方法</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span></span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;你好,我叫&quot;</span>+name+<span class="string">&quot;,今年&quot;</span>+age+<span class="string">&quot;岁了,&quot;</span>+<span class="string">&quot;我是一名活泼开朗的&quot;</span>+sex+<span class="string">&quot;生。&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>调用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.LeiStudy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 19:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 调用封装后的 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        封装 xiaoming = <span class="keyword">new</span> 封装();</span><br><span class="line">        xiaoming.name = <span class="string">&quot;小明&quot;</span>;</span><br><span class="line">        xiaoming.setAge(<span class="number">20</span>);</span><br><span class="line">        xiaoming.setSex(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">        xiaoming.sayHi();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>get/set是外界访问对象内私有属性的唯一通道，方法内可对属性的赋值进行检测和过滤。</strong></p>
<h5 id="2、继承"><a href="#2、继承" class="headerlink" title="2、继承"></a>2、继承</h5><p>概念：类与类之间特征和行为的一种赠与或获得</p>
<p>语法：</p>
<p>​    public class 子类 extends 父类{</p>
<p>​            </p>
<p>​    }</p>
<p>//子类可以使用父类中的属性和方法，也可定义子类独有的属性和方法。</p>
<p><strong>Java为单继承。一个类只能有一个直接父类，但可以多级继承，属性和方法逐级叠加。</strong></p>
<p>例子:</p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.jicheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 父类animal</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 20:55</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String name;</span><br><span class="line">    String sex;</span><br><span class="line">    <span class="comment">//定义方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃饭了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡觉了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.jicheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 20:58</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">dog</span> <span class="keyword">extends</span> <span class="title">animal</span></span>&#123;    <span class="comment">//继承父类animal</span></span><br><span class="line">    String color;</span><br><span class="line">    <span class="comment">//定义一个方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jiao</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小狗在叫……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xiaodog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一只&quot;</span>+sex+<span class="string">&quot;狗&quot;</span>+<span class="string">&quot;,今年&quot;</span>+age+<span class="string">&quot;岁了,&quot;</span>+<span class="string">&quot;,名字&quot;</span>+name+<span class="string">&quot;,毛色&quot;</span>+color);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.jicheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 21:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testDog</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        dog wang = <span class="keyword">new</span> dog();</span><br><span class="line">        wang.age = <span class="number">1</span>;</span><br><span class="line">        wang.color=<span class="string">&quot;黑色&quot;</span>;</span><br><span class="line">        wang.name = <span class="string">&quot;旺财&quot;</span>;</span><br><span class="line">        wang.sex = <span class="string">&quot;公&quot;</span>;</span><br><span class="line">        wang.jiao();</span><br><span class="line">        wang.eat();</span><br><span class="line">        wang.sleep();</span><br><span class="line">        wang.xiaodog();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小狗在叫……</span><br><span class="line">吃饭了……</span><br><span class="line">睡觉了……</span><br><span class="line">这是一只公狗,今年<span class="number">1</span>岁了,,名字旺财,毛色黑色</span><br></pre></td></tr></table></figure>

<h6 id="1、不可继承的情况"><a href="#1、不可继承的情况" class="headerlink" title="1、不可继承的情况"></a>1、不可继承的情况</h6><ul>
<li><p>构造方法；</p>
</li>
<li><p>private修饰的属性和方法；</p>
</li>
<li><p>父子类不在同一个package中时，default修饰的属性和方法。</p>
</li>
</ul>
<h6 id="2、修饰符"><a href="#2、修饰符" class="headerlink" title="2、修饰符"></a>2、修饰符</h6><p>public、default、protected、public</p>
<p>四个修饰符修饰属性和方法时的访问情况：</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955161.png" alt="image-20210910183159876" style="zoom:50%;" />



<p><strong>修饰符default是默认添加的，不用写在属性前面了</strong></p>
<p>*<em>例子————-这是在不同包文件下的测试，即父类和子类不在同一个包下</em></p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.jicheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 父类animal</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 20:55</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">     <span class="keyword">public</span> String name;		<span class="comment">//注意这里是public修饰</span></span><br><span class="line">     <span class="keyword">public</span> String sex;			<span class="comment">//注意这里是public修饰</span></span><br><span class="line">    <span class="comment">//定义方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃饭了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡觉了……&quot;</span>+<span class="string">&quot;我是一只&quot;</span>+sex+<span class="string">&quot;的小动物&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xiushifu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.myjava.jicheng.animal;   <span class="comment">//ALT+ENTER快速导入，要导入才可以在不同包下继承父类animal</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/10 18:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">cat</span> <span class="keyword">extends</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xiushifu;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/10 19:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testCat</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        cat xiaomao = <span class="keyword">new</span> cat();</span><br><span class="line">        xiaomao.sex = <span class="string">&quot;公&quot;</span>;</span><br><span class="line">        xiaomao.eat();</span><br><span class="line">        xiaomao.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">吃饭了……</span><br><span class="line">睡觉了……我是公的小动物</span><br></pre></td></tr></table></figure>

<h6 id="3、方法的覆盖-方法重写"><a href="#3、方法的覆盖-方法重写" class="headerlink" title="3、方法的覆盖(方法重写)"></a>3、方法的覆盖(方法重写)</h6><p><strong>(override)</strong></p>
<p>子类中可以定义和父类一样方法，满足子类的需求，对父类的相同方法进行覆盖。<strong>方法名称、参数列表、返回值类型必须与父类相同</strong>。访问修饰符不能比父类更严格。调用时会优先执行子类覆盖后的方法。</p>
<p>快速添加方法重写，写父类的方法名称，再按回车键，会出现方法名称以及一个注解@override //这个注解可以检查方法重写是否遵循准则，不遵循会报错。</p>
<h6 id="4、super关键字-与方法重写有关"><a href="#4、super关键字-与方法重写有关" class="headerlink" title="4、super关键字(与方法重写有关)"></a>4、super关键字(与方法重写有关)</h6><p><strong>应用</strong></p>
<ul>
<li>方法重写时会自动生成一个 super.方法名称() 的代码，这是父类的方法，并不是子类重写后的方法。<br><strong>父类的方法</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;----这是父类的方法----吃饭了……&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类进行方法重写</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>   <span class="comment">//方法重写的注解</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;     <span class="comment">//子类进行方法重写</span></span><br><span class="line">    <span class="keyword">super</span>.eat();<span class="comment">//调用父类的方法</span></span><br><span class="line">   System.out.println(<span class="string">&quot;-----这是父类animal的方法eat()重写后的-----一只小狗正在吃东西……&quot;</span>);<span class="comment">//子类进行方法重写</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>应用二</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955162.png" alt="image-20210910202742155" style="zoom:67%;" /></li>
</ul>
<ul>
<li><p>super可以调用父类的构造方法</p>
<p>super();    //调用父类无参的构造方法，默认添加在子类无参构造方法的第一行，不写也有的，默认有的</p>
<p>supet(参数1，参数2，……)；    //调用父类中的有参构造方法</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955163.png" alt="image-20210910223043278" style="zoom: 50%;" /></li>
</ul>
<h6 id="5、this与super区别"><a href="#5、this与super区别" class="headerlink" title="5、this与super区别"></a>5、this与super区别</h6><ul>
<li>this();this(实参)；        super();super(实参)；</li>
<li>this表示当前对象引用调用本类（包括继承）的属性、方法、本类构造方法。</li>
<li>super表示父类对象引用，调用父类的属性、方法、构造方法。、</li>
<li>this和super使用在构造方法中时均要求在首行。</li>
<li>this和super不可在子类中同时使用。</li>
</ul>
<h5 id="3、多态-polymorphism"><a href="#3、多态-polymorphism" class="headerlink" title="3、多态(polymorphism)"></a>3、多态(polymorphism)</h5><h6 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h6><p>父类引用指向子类对象，从而产生多种形态。</p>
<h6 id="Java中的两种多态机制："><a href="#Java中的两种多态机制：" class="headerlink" title="Java中的两种多态机制："></a>Java中的两种多态机制：</h6><ul>
<li>通过子类对父类方法的覆盖实现多态。（方法重写）</li>
<li>利用重载来实现多态.即在同一个类中定义多个同名的不同方法来实现多态。（方法重载）</li>
</ul>
<p>父类引用，把子类对象赋给父类对象，调用时只能调用父类的属性和方法。例子：</p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.duotai;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 多态学习</span></span><br><span class="line"><span class="comment"> * 父类animal</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/9 20:55</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> String sex;</span><br><span class="line">    <span class="comment">//定义方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;----这是父类的方法----吃饭了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;睡觉了……&quot;</span>+<span class="string">&quot;我是一只&quot;</span>+sex+<span class="string">&quot;的小动物&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.duotai;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 多态学习</span></span><br><span class="line"><span class="comment"> * 子类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/11 10:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">bird</span> <span class="keyword">extends</span> <span class="title">animal</span> </span>&#123;</span><br><span class="line">    String color;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jiao</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小鸟在叫……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.duotai;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021/9/11 10:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testBird</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建父类引用型（即多态）</span></span><br><span class="line">        animal xiaoniao = <span class="keyword">new</span> bird();</span><br><span class="line">        <span class="comment">//调用属性和方法了，只能用父类的属性和方法</span></span><br><span class="line">        xiaoniao.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、多态中的方法覆盖-重写"><a href="#2、多态中的方法覆盖-重写" class="headerlink" title="2、多态中的方法覆盖(重写)"></a>2、多态中的方法覆盖(重写)</h6><p>多态中如果子类重写了父类的方法，那么在父类型引用此方法时，调用的是子类重写后的方法，而不是父类中的方法。</p>
<h6 id="3、多态的应用"><a href="#3、多态的应用" class="headerlink" title="3、多态的应用"></a>3、<strong>多态的应用</strong></h6><p>这个比较难理解，但很重要，这个没有写代码。</p>
<ul>
<li><p>以父类作为方法形参实现多态，使方法参数的类型更为广泛。</p>
</li>
<li><p>使用父类作为方法返回值实现多态，使方法可以返回不同子类对象。</p>
</li>
</ul>
<h6 id="4、向上转型-装箱"><a href="#4、向上转型-装箱" class="headerlink" title="4、向上转型(装箱)"></a>4、向上转型(装箱)</h6><p>概念：父类引用中保存真实子类对象。仅可调用父类中声明的属性和方法。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955164.png" alt="image-20210911111003484" style="zoom: 80%;" />

<h6 id="5、向下转型-拆箱"><a href="#5、向下转型-拆箱" class="headerlink" title="5、向下转型(拆箱)"></a>5、向下转型(拆箱)</h6><p>概念：将父类引用中的真实子类对象，强转会子类本身类型。只有转换回子类真实类型，才可调用子类独有的属性和方法。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955165.png" alt="image-20210911105329480" style="zoom: 67%;" />



<h6 id="6、instanceof关键字"><a href="#6、instanceof关键字" class="headerlink" title="6、instanceof关键字"></a>6、instanceof关键字</h6><p>向下转型前，应判断引用中的对象真实类型，保证类型转换的正确性。</p>
<p>语法：    引用 instanceof 类型    //返回boolean类型结果</p>
<h4 id="七、三个修饰符"><a href="#七、三个修饰符" class="headerlink" title="七、三个修饰符"></a>七、三个修饰符</h4><h5 id="1、abstract"><a href="#1、abstract" class="headerlink" title="1、abstract"></a>1、abstract</h5><ul>
<li><p>抽象类抽象方法。</p>
</li>
<li><p>被abstract修饰的类为<strong>抽象类</strong>，抽象类不能new对象。</p>
</li>
<li><p>抽象类作用：可被子类继承，提供共性属性和方法；可声明为引用，更自然的使用多态。</p>
</li>
<li><p><strong>抽象方法</strong>被abstract修饰的方法。抽象方法只有方法的声明，没有方法的实现，即没有{}这个部分。抽象方法只用在抽象类中。</p>
</li>
<li><p>产生继承关系后，子类必须重写父类中所有的抽象方法，否则子类还是抽象类。</p>
<p>有写了代码，有点多，不贴了。abs_animal、test_abs_anima、abs_dog、abs_cat    四个代码文件。</p>
</li>
</ul>
<h5 id="2、static"><a href="#2、static" class="headerlink" title="2、static"></a>2、static</h5><h6 id="1、知识点"><a href="#1、知识点" class="headerlink" title="1、知识点"></a>1、知识点</h6><p>静态属性、静态方法</p>
<ul>
<li><p>修饰属性，使属性变成整个类的共有属性，调用时    <strong>类名.属性</strong>，也可以使用<strong>对象.属性</strong>来访问，但不建议，因为这是整个类共有的，而不是这个属性独有的。</p>
</li>
<li><p>static修饰的属性为静态属性（即类属性）、static修饰的方法为静态方法（即类方法）</p>
</li>
<li><p>已知静态方法：</p>
<p>Arrays.copyOf();</p>
<p>Arrays.sort();</p>
<p>Math.random();</p>
<p>Math,sqrt();</p>
<p>均使用类名直接调用</p>
</li>
<li><p>静态方法允许直接访问静态成员；静态方法不能直接访问非静态成员；静态方法不允许使用this或super关键字；静态方法可以继承，但不能重写、、。不能多态。 </p>
</li>
</ul>
<h6 id="2、静态代码块"><a href="#2、静态代码块" class="headerlink" title="2、静态代码块"></a>2、静态代码块</h6><p>类加载时，触发静态代码块执行（仅一次）。执行地位：静态属性初始化之后；作用：可为静态属性赋值，或必要的初始行为。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955166.png" alt="image-20210911202530857" style="zoom:33%;" />



<h6 id="3、类加载"><a href="#3、类加载" class="headerlink" title="3、类加载"></a>3、类加载</h6><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955167.png" alt="image-20210911203153855" style="zoom:33%;" />



<h5 id="3、final"><a href="#3、final" class="headerlink" title="3、final"></a>3、final</h5><p><strong>最终类、最终方法、最终常量</strong></p>
<p>1、final修饰的类为<strong>最终类</strong>，不能被继承。<strong>String、Math、System均为最终类</strong>，不能被继承。</p>
<p>2、final修饰方法为<strong>最终方法</strong>，不能被覆盖（即重写）。public final void 方名称(){//方法体}    //最终方法</p>
<p>3、final吸修饰变量，变量的值不能被改变了，变为<strong>常量</strong>了，即是最终变量。final int a = 0;    //a不能被修改了</p>
<p>4、final修饰实例变量(如属性)，会变成<strong>实例常量</strong>不在提供默认值，必须赋值，并且只能赋值一次。可以在构造方法中赋值，但如果这个类中有多个构造方法，均必须赋值且值要一样。</p>
<p>5、final修饰静态变量会变成<strong>静态常量</strong>，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span></span>&#123;</span><br><span class="line">    <span class="comment">//static String School_name;	//修饰前是静态变量</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> String School_name;	<span class="comment">//修饰后是静态常量</span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        School_name = <span class="string">&quot;第一中学&quot;</span>;	<span class="comment">//为被final修饰后变为静态常量赋值，也可以在上面的static final String School_name = &quot;第一中学&quot;;这样赋值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6、<strong>对象常量</strong>，例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.final0;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对象常量</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/11 22:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//final修饰基本类型</span></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> num = <span class="number">20</span>;</span><br><span class="line">        <span class="comment">//num = 30; //被final修饰后变为了常量，不能再赋值30了，这句是不对的</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        <span class="comment">//nums = new int[5];    //这句是不对的，被final修饰的数组（数组是引用数据类型）地址不可变了，不能再对数组进行初始化，但是可以更改数组里的元素值</span></span><br><span class="line">        nums[<span class="number">0</span>] = <span class="number">10</span>;   <span class="comment">//不能再对数组进行初始化，但是可以更改数组里的元素值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;数组nums[0]处更改后的值:&quot;</span>+nums[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(<span class="string">&quot;输出更改后的数组：&quot;</span>+ Arrays.toString(nums));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> stu s = <span class="keyword">new</span> stu();<span class="comment">//创建一个对象</span></span><br><span class="line">        <span class="comment">//s = new stu();    //不能再对s进行赋值了，在赋值会报错的。因为s被final修饰后已经变为常量了。但是可以对s的属性进行赋值</span></span><br><span class="line">        s.name = <span class="string">&quot;小花&quot;</span>;  <span class="comment">//但是可以对s的属性进行赋值</span></span><br><span class="line">        System.out.println(s.name);</span><br><span class="line">        s.stu_name();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个stu类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">stu</span></span>&#123;</span><br><span class="line">    String name = <span class="string">&quot;小明&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stu_name</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;大家好，我叫&quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>7、总结</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955168.png" alt="image-20210911221658571" style="zoom:50%;" />





<h4 id="八、接口"><a href="#八、接口" class="headerlink" title="八、接口"></a>八、接口</h4><h5 id="1、定义及概念"><a href="#1、定义及概念" class="headerlink" title="1、定义及概念"></a>1、定义及概念</h5><p>使用interface关键字定义接口。接口相当于特殊的抽象类，定义方式、组成部分与抽象类类似。但接口没有构造方法，不能创建对象。<strong>只能定义公开静态常量、公开抽象方法。</strong></p>
<h5 id="2、一些知识点"><a href="#2、一些知识点" class="headerlink" title="2、一些知识点"></a>2、一些知识点</h5><p>类与接口之间是实现关系，类与类之间是继承关系；</p>
<h5 id="3、接口与抽象类的异同："><a href="#3、接口与抽象类的异同：" class="headerlink" title="3、接口与抽象类的异同："></a>3、接口与抽象类的异同：</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955169.png" alt="image-20210912180438626" style="zoom:50%;" />

<h5 id="4、接口的作用"><a href="#4、接口的作用" class="headerlink" title="4、接口的作用"></a>4、接口的作用</h5><p>接口可以看作为一种能力。java为单继承，但父类的方法种类无法满足子类需求时，可用接口来<strong>扩充子类的能力</strong>。而且接口支持多实现，可为类扩充多种能力。例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.interface1;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这是这个包其他四个文件的整合，讲的是用接口扩充类的方法，是方法更为丰富</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/12 19:44</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 统一为一个文件 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        person1 xiaohua = <span class="keyword">new</span> person1(<span class="string">&quot;小花&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        xiaohua.fly();</span><br><span class="line">        xiaohua.fire();</span><br><span class="line">        xiaohua.eat();</span><br><span class="line">        xiaohua.sleep();</span><br><span class="line">        <span class="comment">//也可以使用多态的形式</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=========以下是多态的形式实现类的方法扩充========&quot;</span>);</span><br><span class="line">        Flyable1 fbl1 = <span class="keyword">new</span> person1(<span class="string">&quot;小花&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        fbl1.fly();</span><br><span class="line">        Fireable1 fib1 = <span class="keyword">new</span> person1(<span class="string">&quot;小花&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        fib1.fire();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//person1类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">person1</span> <span class="keyword">implements</span> <span class="title">Flyable1</span>, <span class="title">Fireable1</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">person1</span><span class="params">()</span></span>&#123;    <span class="comment">//无参构造方法</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">person1</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;   <span class="comment">//有参构造方法</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;吃饭了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;睡觉了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;会飞了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fire</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;会喷火了……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接口Flyable</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Fireable1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fire</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接口Fireable</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Flyable1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>接口的好处文字描述：</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955170.png" alt="image-20210912204945134" style="zoom:33%;" />



<h5 id="5、接口的多态"><a href="#5、接口的多态" class="headerlink" title="5、接口的多态"></a>5、接口的多态</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955171.png" alt="image-20210912201424669" style="zoom:50%;" />



<p><strong>有个地方需要注意一下，但继承和接口都需要用到时，先写extends再写implements</strong></p>
<p>public class Dog <strong>extends</strong> animal <strong>implements</strong> Runable{</p>
<p>}</p>
<h5 id="6、常见关系"><a href="#6、常见关系" class="headerlink" title="6、常见关系"></a>6、常见关系</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955172.png" alt="image-20210912202138370" style="zoom:50%;" />

<h5 id="7、常量接口"><a href="#7、常量接口" class="headerlink" title="7、常量接口"></a>7、常量接口</h5><p>将多个常用于表示状态或固定值的变量，以静态常量的形式定义在接口中统一管理，提高代码可读性。</p>
<h5 id="8、标记接口"><a href="#8、标记接口" class="headerlink" title="8、标记接口"></a>8、标记接口</h5><p>没有包含任意成员，仅仅用用作标记。如接口Serializable、接口Clonable</p>
<h5 id="9、接口的回调"><a href="#9、接口的回调" class="headerlink" title="9、接口的回调"></a>9、接口的回调</h5><p>先有接口的使用者吗，再有接口的实现者。比如现有电脑让后再有各种实现类，鼠标usb实现类（对已定义好的接口的实现<strong>类</strong>），键盘usb实现类（对已定义好的接口的实现<strong>类</strong>）……</p>
<h4 id="九、内部类"><a href="#九、内部类" class="headerlink" title="九、内部类"></a>九、内部类</h4><p>在一个类内再定义一个类，内部类可以访问外部类的私有成员。</p>
<h5 id="1、成员内部类"><a href="#1、成员内部类" class="headerlink" title="1、成员内部类"></a>1、成员内部类</h5><p>1、与实例变量、实例方法同一级别的类。</p>
<p>2、new对象时要注意一点    1、要先创建一个外部类的对象，再创建一个内部的对象Inner inner = **outer.**new Inner(); </p>
<p>或者2 、一步到位 Inner inner = new Outer().new Inner();</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955173.png" alt="image-20210913154843282" style="zoom: 80%;" />



<p>3、内外属性同名时，优先访问别不属性。此时要想访问外部属性，用<strong>外部类名称.this.属性</strong></p>
<p>4、成员内部类不能定义静态成员。</p>
<h5 id="2、静态内部类"><a href="#2、静态内部类" class="headerlink" title="2、静态内部类"></a>2、静态内部类</h5><p>看着写代码理解吧</p>
<h5 id="3、局部内部类"><a href="#3、局部内部类" class="headerlink" title="3、局部内部类"></a>3、局部内部类</h5><p>定义在外部类的方法中，作用和创建对象范围仅限当前方法，且类前面不能加任何访问修饰符。</p>
<h5 id="4、匿名内部类"><a href="#4、匿名内部类" class="headerlink" title="4、匿名内部类"></a>4、匿名内部类</h5><p>1、没有类名的局部内部类（一切特征都与局部内部类相同）。必须继承一个父类或实现一个接口。只能创建一个该类的对象。</p>
<p>2、例子</p>
<p><strong>USB接口</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.NiMingNeiBuLei;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接口USB</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/14 12:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">USB</span> </span>&#123;</span><br><span class="line">    <span class="comment">//接口内定义一个方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">service</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>鼠标类实现USB接口</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.NiMingNeiBuLei;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个鼠标类实现USB接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/14 12:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;鼠标通过USB接口连接电脑成功！鼠标开始工作……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.NiMingNeiBuLei;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/14 12:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testUSB</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//方法1：创建接口类型的变量</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=======方法1：创建接口类型的变量=======&quot;</span>);</span><br><span class="line">    USB usb1 = <span class="keyword">new</span> Mouse();</span><br><span class="line">    usb1.service();</span><br><span class="line">    <span class="comment">//方法2：局部内部类</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=======方法2：局部内部类=======&quot;</span>);</span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Fan</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;风扇通过USB接口连接电脑成功，风扇开始工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//使用局部内部类创建对象</span></span><br><span class="line">            USB usb2 = <span class="keyword">new</span> Fan();</span><br><span class="line">        usb2.service();</span><br><span class="line">        <span class="comment">//方法3：使用匿名内部类，相当于创建了一个局部内部类</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=======方法3：使用匿名内部类==========&quot;</span>);</span><br><span class="line">        USB usb3 =<span class="keyword">new</span> USB()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;====使用匿名内部类======风扇通过USB接口连接电脑成功，风扇开始工作&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;  <span class="comment">//注意这里有;</span></span><br><span class="line">        usb3.service();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试的运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">=======方法<span class="number">1</span>：创建接口类型的变量=======</span><br><span class="line">鼠标通过USB接口连接电脑成功！鼠标开始工作……</span><br><span class="line">=======方法<span class="number">2</span>：局部内部类=======</span><br><span class="line">风扇通过USB接口连接电脑成功，风扇开始工作</span><br><span class="line">=======方法<span class="number">3</span>：使用匿名内部类==========</span><br><span class="line">匿名内部类======风扇通过USB接口连接电脑成功，风扇开始工作</span><br></pre></td></tr></table></figure>

<h4 id="十、常用类object类"><a href="#十、常用类object类" class="headerlink" title="十、常用类object类"></a>十、常用类object类</h4><p>object类是超类或基类，是所有类的直接或间接父类。</p>
<h5 id="1、getclass方法"><a href="#1、getclass方法" class="headerlink" title="1、getclass方法"></a>1、getclass方法</h5><p>判断两个引用中实际两个存储对象类型是否一致。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955174.png" alt="image-20210914164736512" style="zoom:50%;" />

<h5 id="2、hashCode"><a href="#2、hashCode" class="headerlink" title="2、hashCode"></a>2、hashCode</h5><p>返回一个整数，返回对象的哈希码值。一般情况下相同的对象返回同一个哈希码</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955175.png" alt="image-20210914165548131"></p>
<h5 id="3、toString-方法"><a href="#3、toString-方法" class="headerlink" title="3、toString()方法"></a>3、toString()方法</h5><p>返回该对象的字符串表示。这个如果不重写方法返回的是包名+@哈希码，没意义，所以要重写一下toString()方法</p>
<p>重写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输入想要返回的值,如：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//return name+“：”+age；</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也有自动键重写toString()方法，generate toString()</p>
<h5 id="4、equals方法"><a href="#4、equals方法" class="headerlink" title="4、equals方法"></a>4、equals方法</h5><p>比较两个对象的地址是否相同；可进行覆盖，比较两个对象的内容是否相同。    </p>
<h5 id="5、finalize方法"><a href="#5、finalize方法" class="headerlink" title="5、finalize方法"></a>5、finalize方法</h5><p>当对象被判定为垃圾对象时，有JVM自动调用此方法，用以标记垃圾对象，进入回收队列。</p>
<p>垃圾对象：没有有效引用指向次对象。</p>
<p>手动回收机制：调用System.gc();</p>
<h4 id="十一、包装类"><a href="#十一、包装类" class="headerlink" title="十一、包装类"></a>十一、包装类</h4><h5 id="1、包装类对应"><a href="#1、包装类对应" class="headerlink" title="1、包装类对应"></a>1、包装类对应</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955177.png" alt="image-20210915171357687" style="zoom:67%;" />



<p>类型转换：基本类型和包装类型之间的装换</p>
<h5 id="2、拆箱和装箱"><a href="#2、拆箱和装箱" class="headerlink" title="2、拆箱和装箱"></a>2、拆箱和装箱</h5><p>装箱：栈里的数据拿到堆里（基本类型转换成引用类型）</p>
<p>拆箱：……（引用类型转换成基本类型）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.chaixiang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型转换：拆箱与装箱</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">xiang</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//装箱：栈里的数据拿到堆里（基本类型转换成引用类型）</span></span><br><span class="line">        <span class="keyword">int</span> num1 = <span class="number">10</span>;  <span class="comment">//基本数据类型</span></span><br><span class="line">        Integer integer1 = <span class="keyword">new</span> Integer(num1);    <span class="comment">//使用Integer创建对象</span></span><br><span class="line">        Integer integer2 = Integer.valueOf(num1);</span><br><span class="line">        System.out.println(<span class="string">&quot;===装箱===&quot;</span>);</span><br><span class="line">        System.out.println(integer1);</span><br><span class="line">        System.out.println(integer2);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//拆箱：……（引用类型转换成基本类型）</span></span><br><span class="line">        Integer integer3 = <span class="keyword">new</span> Integer(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">int</span> num2 = integer3.intValue();</span><br><span class="line">        System.out.println(<span class="string">&quot;===拆箱===&quot;</span>);</span><br><span class="line">        System.out.println(num2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//JDK1.5之后提供自动拆箱和装箱</span></span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">30</span>;</span><br><span class="line">        <span class="comment">//自动装箱</span></span><br><span class="line">        Integer integer4=age;</span><br><span class="line">        System.out.println(<span class="string">&quot;===自动装箱===&quot;</span>);</span><br><span class="line">        System.out.println(integer4);</span><br><span class="line">        <span class="comment">//自动拆箱</span></span><br><span class="line">        <span class="keyword">int</span> age2=integer4;</span><br><span class="line">        System.out.println(<span class="string">&quot;===自动拆箱===&quot;</span>);</span><br><span class="line">        System.out.println(age2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">===装箱===</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line">===拆箱===</span><br><span class="line"><span class="number">100</span></span><br><span class="line">===自动装箱===</span><br><span class="line"><span class="number">30</span></span><br><span class="line">===自动拆箱===</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>

<h5 id="3、其他的类型装换"><a href="#3、其他的类型装换" class="headerlink" title="3、其他的类型装换"></a>3、其他的类型装换</h5><p>自己搜索</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955178.png" alt="image-20210915180440867" style="zoom: 80%;" />



<h5 id="4、整数缓冲区"><a href="#4、整数缓冲区" class="headerlink" title="4、整数缓冲区"></a>4、整数缓冲区</h5><p><strong>面试必备知识点</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955179.png" alt="image-20210915181049133"  />



<h4 id="十二、String类"><a href="#十二、String类" class="headerlink" title="十二、String类"></a>十二、String类</h4><h5 id="1、字符串池"><a href="#1、字符串池" class="headerlink" title="1、字符串池"></a>1、字符串池</h5><p><strong>面试必备</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955180.png" alt="image-20210915182201776" style="zoom: 130%;" />

<h5 id="2、String常用方法"><a href="#2、String常用方法" class="headerlink" title="2、String常用方法"></a>2、String常用方法</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955181.png" alt="image-20210915192310721" style="zoom:90%;" />



<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955182.png" alt="image-20210915192158247" style="zoom:50%;" />



<h5 id="3、String案例"><a href="#3、String案例" class="headerlink" title="3、String案例"></a>3、String案例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.stringAnli;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sting 案例 this is a text</span></span><br><span class="line"><span class="comment"> * 1、将str中的单词单独提取出来</span></span><br><span class="line"><span class="comment"> * 2、将text替换为practice</span></span><br><span class="line"><span class="comment"> * 3、在text前加easy</span></span><br><span class="line"><span class="comment"> * 4、将每个单词首字母改为大写</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/15 19:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">String1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;this is a text&quot;</span>;</span><br><span class="line">    <span class="comment">//1、将str中的单词单独提取出来</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1、将str中的单词单独提取出来&quot;</span>);</span><br><span class="line">        String[] arr=str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s:arr) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;2、将text替换为practice&quot;</span>);</span><br><span class="line">        String str2 = str.replace(<span class="string">&quot;text&quot;</span>,<span class="string">&quot;practice&quot;</span>);</span><br><span class="line">        System.out.println(str2);</span><br><span class="line">       </span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;3、在text前加easy&quot;</span>);</span><br><span class="line">        String str3 = str.replace(<span class="string">&quot;text&quot;</span>,<span class="string">&quot;easy text&quot;</span>);</span><br><span class="line">        System.out.println(str3);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;将每个单词首字母改为大写&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;  <span class="comment">//arr[]=thisisatext</span></span><br><span class="line">            <span class="keyword">char</span> first = arr[i].charAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">char</span> upperFirst= Character.toUpperCase(first);</span><br><span class="line">            String news=upperFirst+arr[i].substring(<span class="number">1</span>);</span><br><span class="line">            System.out.println(news);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、StringBuffer和StringBuilder的使用"><a href="#4、StringBuffer和StringBuilder的使用" class="headerlink" title="4、StringBuffer和StringBuilder的使用"></a>4、StringBuffer和StringBuilder的使用</h5><p>搜    StringBuilder高效一点，占用内存小</p>
<h4 id="十三、BigDecimal"><a href="#十三、BigDecimal" class="headerlink" title="十三、BigDecimal"></a>十三、BigDecimal</h4><p>提高精确度</p>
<h4 id="十四、时间日期类"><a href="#十四、时间日期类" class="headerlink" title="十四、时间日期类"></a>十四、时间日期类</h4><h5 id="1、Date类"><a href="#1、Date类" class="headerlink" title="1、Date类"></a>1、Date类</h5><p>时间类    <strong>搜</strong>    <strong>特定时间</strong></p>
<h5 id="2、calendar类"><a href="#2、calendar类" class="headerlink" title="2、calendar类"></a>2、calendar类</h5><p><strong>日历</strong>，类似2021/9/15 20:45    <strong>搜</strong></p>
<p>这个类的构造方法是protected保护的</p>
<h5 id="3、SimpleDateFormat"><a href="#3、SimpleDateFormat" class="headerlink" title="3、SimpleDateFormat"></a>3、SimpleDateFormat</h5><p><strong>格式化时间</strong>    这是一个与语言环境有关的方式来格式化（日期-&gt;文本）和解析（文本-&gt;日期）日期的具体类。    <strong>搜</strong></p>
<h4 id="十五、System类"><a href="#十五、System类" class="headerlink" title="十五、System类"></a>十五、System类</h4><p>这是系统类，主要用于获取系统的属性数据和其他操作，构造方法是私有的。</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955183.png" alt="image-20210915203850807"></p>
<h4 id="十六、集合"><a href="#十六、集合" class="headerlink" title="十六、集合"></a>十六、集合</h4><h5 id="0、properties"><a href="#0、properties" class="headerlink" title="0、properties"></a>0、properties</h5><p>属性集合，存储属性名和属性值。属性名和属性值都是字符串类型。没有泛型。和流有关。</p>
<p>程序看不懂。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.JiHe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *集合properties的使用，在流的那一章</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 20:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_IO_properties</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建集合</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//2、添加数据</span></span><br><span class="line">        properties.setProperty(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        properties.setProperty(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;20&quot;</span>);</span><br><span class="line">        System.out.println(properties.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、遍历</span></span><br><span class="line">            <span class="comment">//3.1-------keySet</span></span><br><span class="line">            <span class="comment">//3.2-------entrySet</span></span><br><span class="line">            <span class="comment">//3.3-------stringPropertyName()</span></span><br><span class="line">        Set&lt;String&gt; proname = properties.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String pro:proname</span><br><span class="line">             ) &#123;</span><br><span class="line">            System.out.println(pro+<span class="string">&quot;==========&quot;</span>+properties.getProperty(pro));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4、和流有关的方法</span></span><br><span class="line">            <span class="comment">//4.1------list方法</span></span><br><span class="line">        PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\Properties集合.txt&quot;</span>);</span><br><span class="line">        properties.list(pw);</span><br><span class="line">        pw.close();</span><br><span class="line">            <span class="comment">//4.2-------store方法------保存</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\Properties集合的store.properties&quot;</span>);</span><br><span class="line">        properties.store(fos,<span class="string">&quot;注释&quot;</span>);</span><br><span class="line">        fos.close();</span><br><span class="line">            <span class="comment">//4.3--------load方法-----加载</span></span><br><span class="line">        Properties properties1 = <span class="keyword">new</span> Properties();</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\Properties集合的store.properties&quot;</span>);</span><br><span class="line">        properties1.load(fis);</span><br><span class="line">        fis.close();</span><br><span class="line">        System.out.println(properties1.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="1、Collection"><a href="#1、Collection" class="headerlink" title="1、Collection"></a>1、Collection</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955184.png" alt="image-20210916111949248" style="zoom:50%;" />



<p><strong>b1_sttudent</strong>     </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.JiHe;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个学生类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/16 11:38</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//创建有参的构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">b1_student</span><span class="params">(<span class="keyword">int</span> age, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//封装</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//重写toString()方法，为了打印好看</span></span><br><span class="line">    <span class="meta">@Override</span>   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;b1_student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>b1_testStudent</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.JiHe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * collection的使用：保存学生信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/16 11:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_testStudent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//新建collection对象</span></span><br><span class="line">        Collection collection = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        b1_student s1 = <span class="keyword">new</span> b1_student(<span class="number">20</span>,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        b1_student s2 = <span class="keyword">new</span> b1_student(<span class="number">21</span>,<span class="string">&quot;李华&quot;</span>);</span><br><span class="line">        b1_student s3 = <span class="keyword">new</span> b1_student(<span class="number">22</span>,<span class="string">&quot;张五&quot;</span>);</span><br><span class="line">        <span class="comment">//添加数据</span></span><br><span class="line">        collection.add(s1);</span><br><span class="line">        collection.add(s2);</span><br><span class="line">        collection.add(s3);</span><br><span class="line">        System.out.println(<span class="string">&quot;=======添加元素=======&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数:&quot;</span>+collection.size());</span><br><span class="line">        System.out.println(collection.toString());</span><br><span class="line">        <span class="comment">//删除数据</span></span><br><span class="line">        collection.remove(s1);</span><br><span class="line">        System.out.println(<span class="string">&quot;=======删除元素之后=======&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数:&quot;</span>+collection.size());</span><br><span class="line">        System.out.println(<span class="string">&quot;=======for遍历=======&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object object:collection) &#123;</span><br><span class="line">            b1_student s = (b1_student)object;</span><br><span class="line">            System.out.println(s.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======iterator遍历=======&quot;</span>);</span><br><span class="line">        Iterator it = collection.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            b1_student s = (b1_student) it.next();</span><br><span class="line">            System.out.println(s.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======判断=======&quot;</span>);</span><br><span class="line">        System.out.println(collection.contains(s2));</span><br><span class="line">        System.out.println(<span class="string">&quot;=======集合是否为空=======&quot;</span>);</span><br><span class="line">        System.out.println(collection.isEmpty());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=======添加元素=======</span><br><span class="line">元素个数:<span class="number">3</span></span><br><span class="line">[b1_student&#123;age=<span class="number">20</span>, name=<span class="string">&#x27;张三&#x27;</span>&#125;, b1_student&#123;age=<span class="number">21</span>, name=<span class="string">&#x27;李华&#x27;</span>&#125;, b1_student&#123;age=<span class="number">22</span>, name=<span class="string">&#x27;张五&#x27;</span>&#125;]</span><br><span class="line">=======删除元素之后=======</span><br><span class="line">元素个数:<span class="number">2</span></span><br><span class="line">=======<span class="keyword">for</span>遍历=======</span><br><span class="line">b1_student&#123;age=<span class="number">21</span>, name=<span class="string">&#x27;李华&#x27;</span>&#125;</span><br><span class="line">b1_student&#123;age=<span class="number">22</span>, name=<span class="string">&#x27;张五&#x27;</span>&#125;</span><br><span class="line">=======iterator遍历=======</span><br><span class="line">b1_student&#123;age=<span class="number">21</span>, name=<span class="string">&#x27;李华&#x27;</span>&#125;</span><br><span class="line">b1_student&#123;age=<span class="number">22</span>, name=<span class="string">&#x27;张五&#x27;</span>&#125;</span><br><span class="line">=======判断=======</span><br><span class="line"><span class="keyword">true</span></span><br><span class="line">=======集合是否为空=======</span><br><span class="line"><span class="keyword">false</span></span><br></pre></td></tr></table></figure>



<h5 id="2、List集合"><a href="#2、List集合" class="headerlink" title="2、List集合"></a>2、List集合</h5><p> List是个<strong>容器接口</strong>，可以理解为<strong>动态数组</strong>，传统数组必须定义好数组的个数才可以使用，而容器对象无须定义好数组下标总数，用add()方法即可添加新的成员对象，可以添加的仅仅只能为对象，不能添加基本数据类型，容器还对应get(),remove()方法来获取和删除数据成员。</p>
<p>1、list是一个有序的集合（也是被称为序列），和set不一样，list中允许重复元素的存在。</p>
<p>2、list的使用者对元素的插入位置（索引）有着准确的控制，通过索引可以获取元素。</p>
<p>3、list提供了各种方法来方便我们对其中的元素操作</p>
<p><strong>ListIterator迭代器</strong></p>
<h5 id="3、ArrayList-类"><a href="#3、ArrayList-类" class="headerlink" title="3、ArrayList 类"></a>3、ArrayList 类</h5><p>ArrayList 类是一个可以动态修改的数组，与普通数组的区别就是它是没有固定大小的限制，我们可以添加或删除元素。</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-arraylist.html">菜鸟教程</a></p>
<h5 id="4、vector向量类"><a href="#4、vector向量类" class="headerlink" title="4、vector向量类"></a>4、vector向量类</h5><p>Vector 可实现自动增长的对象数组。<br>java.util.vector提供了向量类(Vector)以实现类似动态数组的功能。<br>创建了一个向量类的对象后，可以往其中<strong>随意插入</strong>不同类的对象，即不需顾及类型也不需预先选定向量的容量，并可以方便地进行<strong>查找</strong>。</p>
<p>枚举器，<strong>可遍历</strong>数组。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zheting/p/7708366.html">博客园</a></p>
<h5 id="5、LinkedList"><a href="#5、LinkedList" class="headerlink" title="5、LinkedList"></a>5、LinkedList</h5><p>链表（Linked list）是一种常见的基础数据结构，是一种线性表，但是并不会按线性的顺序存储数据，而是在每一个节点里存到下一个节点的地址。链表可分为单向链表和双向链表。</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-linkedlist.html">菜鸟教程</a></p>
<h5 id="7、Iterator（迭代器）遍历集合"><a href="#7、Iterator（迭代器）遍历集合" class="headerlink" title="7、Iterator（迭代器）遍历集合"></a>7、Iterator（迭代器）遍历集合</h5><p>Java Iterator（迭代器）不是一个集合，它是一种用于<strong>访问集合的方法</strong>，<strong>可用于迭代</strong>   <a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-arraylist.html">ArrayList</a> 和 <a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-hashset.html">HashSet</a> 等集合。</p>
<p>Iterator 是 Java 迭代器最简单的实现，ListIterator 是 Collection API 中的接口， 它扩展了 Iterator 接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator; <span class="comment">// 引入 Iterator 类</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.JiHe;</span><br><span class="line"><span class="comment">// 引入 ArrayList 和 Iterator 类</span></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/16 10:58</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_iterator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建集合</span></span><br><span class="line">        ArrayList&lt;String&gt; sites = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="comment">//解释一下为什么ArrayList&lt;String&gt;改为ArrayList会警告：虽然你不应该使用原始类型（如 List），</span></span><br><span class="line">        <span class="comment">// 但是可以使用参数化的类型来允许插入任意对象，如 List&lt;Object&gt;。如果使用原始类型（如 List），就会失去类型安全性，</span></span><br><span class="line">        <span class="comment">// 但如果使用参数化类型（如 List&lt;Object&gt;）则不会。</span></span><br><span class="line">        sites.add(<span class="string">&quot;Google&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Taobao&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Zhihu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取迭代器</span></span><br><span class="line">        Iterator&lt;String&gt; it = sites.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出集合中的第一个元素</span></span><br><span class="line">        System.out.println(it.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-iterator.html">菜鸟教程</a></p>
<h5 id="8、set集合"><a href="#8、set集合" class="headerlink" title="8、set集合"></a>8、set集合</h5><p>无须、序、没有下标、不能重复</p>
<h5 id="9、HashSet"><a href="#9、HashSet" class="headerlink" title="9、HashSet"></a>9、HashSet</h5><p>HashSet 基于 HashMap 来实现的，是一个不允许有重复元素的集合。</p>
<p>HashSet 允许有 null 值。HashSet 是无序的，即不会记录插入的顺序。</p>
<p>HashSet 不是线程安全的， 如果多个线程尝试同时修改 HashSet，则最终结果是不确定的。 您必须在多线程访问时显式同步对 HashSet 的并发访问。HashSet 实现了 Set 接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet; <span class="comment">// 引入 HashSet 类</span></span><br></pre></td></tr></table></figure>

<p>存储结构：哈希表（数组+链表+红黑树）</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-hashset.html">菜鸟教程</a></p>
<h5 id="10、HashMap"><a href="#10、HashMap" class="headerlink" title="10、HashMap"></a>10、HashMap</h5><p>HashMap 是一个散列表，它存储的内容是键值对(key-value)映射。HashMap 实现了 Map 接口，根据键的 HashCode 值存储数据，具有很快的访问速度，最多允许一条记录的键为 null，不支持线程同步。</p>
<p>HashMap 是无序的，即不会记录插入的顺序。</p>
<p>HashMap 继承于AbstractMap，实现了 Map、Cloneable、java.io.Serializable 接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap; <span class="comment">// 引入 HashMap 类</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java-hashmap.html">菜鸟教程</a></p>
<h5 id="11、TreeSet"><a href="#11、TreeSet" class="headerlink" title="11、TreeSet"></a>11、TreeSet</h5><p>使用TreeSet时输出的结果默认按编码表里排序</p>
<p><strong>简单应用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.a1_treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TreeSet的使用</span></span><br><span class="line"><span class="comment"> * 存储结构：红黑树</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/17 18:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_treeset1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建集合</span></span><br><span class="line">        TreeSet&lt;String&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">        <span class="comment">//1添加元素</span></span><br><span class="line">        treeSet.add(<span class="string">&quot;xyz&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数：&quot;</span>+treeSet.size());</span><br><span class="line">        System.out.println(treeSet.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>常用应用</strong></p>
<p>使用TreeSet保存数据（泛型为String外的）时，元素要实现Cloneable接口    <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=257">bilibili-第257集</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a1439775520/article/details/95373610">csdn-Treeset</a></p>
<p><strong>TreeSet案例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.a1_treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TreeSet案例：按添加的字符串长度进行排序输出,使用了接口Comparator(可以实现定制比较)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/17 19:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">treeSetAnLi</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建集合，并指定比较规则</span></span><br><span class="line">        TreeSet&lt;String&gt; treeSet=<span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> Comparator&lt;String&gt;() &#123;   <span class="comment">//使用接口Comparator</span></span><br><span class="line">            <span class="meta">@Override</span>   <span class="comment">//开始定制比较</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> n1=o1.length()-o2.length();</span><br><span class="line">                <span class="keyword">int</span> n2=o1.compareTo(o2);</span><br><span class="line">                <span class="keyword">return</span> n1==<span class="number">0</span>?n2:n1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//添加数据</span></span><br><span class="line">        treeSet.add(<span class="string">&quot;helloword&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;nihao&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;编号&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;这是我hi&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;12345&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;hellowordname&quot;</span>);</span><br><span class="line">        treeSet.add(<span class="string">&quot;hihaa&quot;</span>);</span><br><span class="line">        System.out.println(treeSet.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[编号, <span class="number">12345</span>, hello, hihaa, nihao, 这是我hi, helloword, hellowordname]</span><br></pre></td></tr></table></figure>

<h5 id="12、-Comparator"><a href="#12、-Comparator" class="headerlink" title="12、 Comparator"></a>12、 Comparator</h5><p><strong>Comparator</strong>实现定制比较（比较器）</p>
<p><strong>Comparable</strong>可比较的 </p>
<p>TreeSet集合的使用</p>
<h5 id="13、Ma集合"><a href="#13、Ma集合" class="headerlink" title="13、Ma集合"></a>13、Ma集合</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955185.png" alt="image-20210917195635723" style="zoom:67%;" />

<p>遍历Map使用map.keySet();或者map.entrySet();    entrySet的效率高一点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.map0;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Map的相关使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/17 23:08</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">map0</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建Map集合</span></span><br><span class="line">        Map&lt;String, String&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;cn&quot;</span>, <span class="string">&quot;中国&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;uk&quot;</span>, <span class="string">&quot;英国&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;usa&quot;</span>, <span class="string">&quot;美国&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;cn&quot;</span>, <span class="string">&quot;zhongguo&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;添加的元素个数：&quot;</span>+map.size());</span><br><span class="line">        System.out.println(map.toString());</span><br><span class="line">        <span class="comment">//2、删除</span></span><br><span class="line">        map.remove(<span class="string">&quot;usa&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;删除之后元素个数：&quot;</span>+map.size());</span><br><span class="line">        <span class="comment">//3、遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;====keySet()遍历====&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; keySet=map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (String key : keySet) &#123;</span><br><span class="line">            System.out.println(key+<span class="string">&quot;=====&quot;</span>+map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//使用entrySet方法遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===使用entrySet方法遍历===&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;String, String&gt;&gt; entries=map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : entries) &#123;</span><br><span class="line">            System.out.println(entry.getKey()+<span class="string">&quot;========&quot;</span>+entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4、判断</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;cn&quot;</span>));</span><br><span class="line">        System.out.println(map.containsValue(<span class="string">&quot;泰国&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Map集合的实现类</strong>HashMap、Hashtable(少用了)、TreeMap(实现了SortedMap接口)</p>
<h5 id="14、Collection集合工具类"><a href="#14、Collection集合工具类" class="headerlink" title="14、Collection集合工具类"></a>14、Collection集合工具类</h5><p>Collections.sort()    //排序</p>
<p>Collections.copy()    //复制</p>
<p>数组转成集合，是个受限集合，不能删除和添加</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/coderma/p/13811026.html">博客园</a></p>
<h4 id="十七、泛型"><a href="#十七、泛型" class="headerlink" title="十七、泛型"></a>十七、泛型</h4><p><strong>把类型的作为参数传递</strong><br>作用：提高代码重用性；防止类型转换异常，提高代码的安全性。</p>
<p>泛型类：<strong>类名<T></strong>    //T是一个类型占位符</p>
<p>泛型接口：<strong>接口名称<T></strong></p>
<p>泛型方法：**<T> 返回值类型**</p>
<p>泛型集合</p>
<h4 id="十八、异常"><a href="#十八、异常" class="headerlink" title="十八、异常"></a>十八、异常</h4><h5 id="1、异常分类"><a href="#1、异常分类" class="headerlink" title="1、异常分类"></a>1、异常分类</h5><p><strong>Throwable</strong>:这是一切异常的父类。</p>
<p>硬件异常，如JVM异常，不可手动处理。程序异常，可手动处理。</p>
<h5 id="2、常见异常"><a href="#2、常见异常" class="headerlink" title="2、常见异常"></a>2、常见异常</h5><p><strong>java.lang.NullpointerException(空指针异常)</strong></p>
<p>java.lang.ClassNotFoundException（指定的类不存在）</p>
<p><strong>java.lang.IndexOutOfBoundsException（数组下标越界异常）</strong></p>
<p>java.lang.IllegalArgumentException（方法的参数错误）</p>
<p>java.lang.IllegalAccessException（没有访问权限）</p>
<p>java.lang.ArithmeticException（数学运算异常）</p>
<p><strong>java.lang.ClassCastException（数据类型转换异常）</strong></p>
<p>java.lang.FileNotFoundException（文件未找到异常）</p>
<p>java.lang.ArrayStoreException（数组存储异常）</p>
<p>java.lang.NoClassDefFoundException （未找到类定义错误）</p>
<p><strong>java.lang.OutOfMemoryException （内存不足错误）</strong></p>
<p>java.lang.CloneNotSupportedException （不支持克隆异常）</p>
<p>java.lang.InterruptedException（被中止异常）</p>
<p>java.lang.InstantiationException（实例化异常）</p>
<p> java.lang.EOFException（文件已结束异常）</p>
<p>java.lang.NoSuchMethodException（方法不存在异常）</p>
<p><strong>java.lang.NumberFormatException(数字格式化异常)</strong></p>
<p><strong>java.lang.ArithmeticException(算术异常)</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/173185.htm">脚本之家</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/49d2c3975c56">简书</a></p>
<h5 id="3、异常的传递"><a href="#3、异常的传递" class="headerlink" title="3、异常的传递"></a>3、异常的传递</h5><p>按照方法的调用链反向传递，如始终没有处理异常，最终会由JVM进行默认异常处理（打印堆栈跟踪信息）。</p>
<h5 id="4、异常处理"><a href="#4、异常处理" class="headerlink" title="4、异常处理"></a>4、异常处理</h5><ul>
<li>try:执行可能产生异常的代码</li>
<li>catch：捕获异常并处理</li>
<li>finally：无论是否发生异常，代码总能执行</li>
<li>throw：手动抛出异常</li>
<li>throws:声明方法可能要抛出的各种异常</li>
</ul>
<h6 id="1、tryCatch"><a href="#1、tryCatch" class="headerlink" title="1、tryCatch"></a>1、tryCatch</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//可能发生异常的语句</span></span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//捕获异常</span></span><br><span class="line"><span class="comment">//发生异常后的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 异常处理tryCatch</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 10:58</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a2_tryCatch</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入一个数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> a= input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请再输入一个数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> b= input.nextInt();</span><br><span class="line">            c = a/b;    <span class="comment">//发生异常处</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;   <span class="comment">//捕获Exception,是所有异常的父类</span></span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">            e.printStackTrace();    <span class="comment">//打印出栈的跟踪信息</span></span><br><span class="line">           <span class="comment">// System.out.println(e.getMessage());//写这个也行</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;相除计算的结果是&quot;</span>+c);</span><br><span class="line">        System.out.println(<span class="string">&quot;程序结束……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、tryCatchFinally"><a href="#2、tryCatchFinally" class="headerlink" title="2、tryCatchFinally"></a>2、tryCatchFinally</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//可能发生异常的语句</span></span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;	</span><br><span class="line"></span><br><span class="line"><span class="comment">//捕获异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//发生异常后的处理</span></span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不论是否发生异常都会执行，可以释放资源等……</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>finally块不执行的唯一情况，退出java虚拟机</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 11:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a3_tryCatchFinally</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入一个数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> a= input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请再输入一个数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> b= input.nextInt();</span><br><span class="line">            c = a/b;    <span class="comment">//发生异常处</span></span><br><span class="line">            </span><br><span class="line"><span class="comment">//            System.exit(0);//手动退出JVM</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;   <span class="comment">//捕获Exception,是所有异常的父类</span></span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">            e.printStackTrace();    <span class="comment">//打印出栈的跟踪信息</span></span><br><span class="line">            <span class="comment">// System.out.println(e.getMessage());//写这个也行</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;释放资源了……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;相除计算的结果是&quot;</span>+c);</span><br><span class="line">        System.out.println(<span class="string">&quot;程序结束……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="3、多重catch"><a href="#3、多重catch" class="headerlink" title="3、多重catch"></a>3、多重catch</h6><ul>
<li>多个catch时，子类异常写在前，父类异常写在后</li>
<li>finally根据需要可写不写</li>
<li>只执行第一个与异常类型匹配的catch语句</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//可能发生异常的语句</span></span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span>(某个异常<span class="number">1</span> e)</span><br><span class="line">    </span><br><span class="line"><span class="comment">//捕获异常</span></span><br><span class="line"><span class="comment">//发生异常后的处理</span></span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span>(某个异常<span class="number">2</span> e)&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//捕获异常</span></span><br><span class="line"><span class="comment">//发生异常后的处理</span></span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line"> <span class="comment">//捕获异常</span></span><br><span class="line"><span class="comment">//最后的这个异常处理一定得是之前的catch异常处理的父类才行。父类异常在最后。</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 11:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a4_DuoGeCatch</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入一个整数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> a= input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请再输入一个整数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> b= input.nextInt();</span><br><span class="line">            c = a/b;    <span class="comment">//发生异常处</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (InputMismatchException e)&#123;</span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">            System.out.println(<span class="string">&quot;输入不匹配异常&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ArithmeticException e)&#123;</span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">            System.out.println(<span class="string">&quot;算术异常&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;   <span class="comment">//捕获Exception,是所有异常的父类，所以这个要放在最后</span></span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">             System.out.println(<span class="string">&quot;未知异常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;相除计算的结果是&quot;</span>+c);</span><br><span class="line">        System.out.println(<span class="string">&quot;程序结束……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="4、tryFinally"><a href="#4、tryFinally" class="headerlink" title="4、tryFinally"></a>4、tryFinally</h6><p>这个不能捕获异常，仅仅用来发生异常时释放资源。一般用作底层代码，只释放资源不做异常处理，把异常向上抛出。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//可能发生异常的语句</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//资源释放</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * try&#123;&#125;finally&#123;&#125;的使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 11:57</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a5_tryFinally</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;<span class="comment">//main方法调用了JVM</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        divide(); <span class="comment">//调用方法</span></span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;出现异常&quot;</span>+e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义一个方法，把可能出现异常的语句放到方法中</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">divide</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入一个整数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> a= input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请再输入一个整数&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> b= input.nextInt();</span><br><span class="line">            c = a/b;    <span class="comment">//这里会发生异常</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;资源释放了……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;相除计算的结果是&quot;</span>+c);</span><br><span class="line">        System.out.println(<span class="string">&quot;程序结束……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5、异常声明"><a href="#5、异常声明" class="headerlink" title="5、异常声明"></a>5、异常声明</h5><p>使用关键字<strong>throws</strong></p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 关键字throws:异常的声明</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 12:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a6_throws</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//可能发生异常的divide()方法</span></span><br><span class="line">            divide();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line">            System.out.println(<span class="string">&quot;出现异常：&quot;</span>+e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置一个方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">divide</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123; <span class="comment">//throws声明方法divide()可能出现异常，告诉main方法要处理一下或者让main方法也向JVM声明throws一下main方法也可能出现异常</span></span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入一个整数&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> a= input.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;请再输入一个整数&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> b= input.nextInt();</span><br><span class="line">        <span class="keyword">int</span> c = a/b;    <span class="comment">//发生异常处</span></span><br><span class="line">        System.out.println(<span class="string">&quot;相除的结果：&quot;</span>+c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6、抛出异常"><a href="#6、抛出异常" class="headerlink" title="6、抛出异常"></a>6、抛出异常</h5><p>使用关键字<strong>throw</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 12:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_throw_person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String sex;</span><br><span class="line"><span class="comment">//     为什么照着视频添加了这个构造方法之后，在创建对象时必须先添加属性值，而视频中却不用添加？？</span></span><br><span class="line"><span class="comment">//    public b1_throw_person(String name, int age, String sex) &#123;</span></span><br><span class="line"><span class="comment">//        super();</span></span><br><span class="line"><span class="comment">//        this.name = name;</span></span><br><span class="line"><span class="comment">//        this.age = age;</span></span><br><span class="line"><span class="comment">//        this.sex = sex;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(age&gt;<span class="number">0</span>&amp;&amp;age&lt;=<span class="number">120</span>)&#123;</span><br><span class="line">           <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//不符合要求就抛出异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;年龄不符合要求&quot;</span>);	<span class="comment">//关键字throw</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sex.equals(<span class="string">&quot;男&quot;</span>)||sex.equals(<span class="string">&quot;女&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//性别不符合则抛出异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;性别不符合要求&quot;</span>);	<span class="comment">//关键字throw</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span>   <span class="comment">//重写toString方法，为了输出好看</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;b1_throw_person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 12:38</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_throw_testPerson</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        b1_throw_person xiaoming = <span class="keyword">new</span> b1_throw_person();</span><br><span class="line">        <span class="comment">//首先检测到哪个异常就先提示哪个异常，终止接下来的程序</span></span><br><span class="line">        xiaoming.setSex(<span class="string">&quot;OK&quot;</span>);</span><br><span class="line">        xiaoming.setAge(<span class="number">10</span>);</span><br><span class="line">        System.out.println(xiaoming.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.RuntimeException: 性别不符合要求</span><br><span class="line">	at com.myjava.YiChang.b1_throw_person.setSex(b1_throw_person.java:<span class="number">47</span>)</span><br><span class="line">	at com.myjava.YiChang.b1_throw_testPerson.main(b1_throw_testPerson.java:<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h5 id="7、自定义异常"><a href="#7、自定义异常" class="headerlink" title="7、自定义异常"></a>7、自定义异常</h5><p>为了让异常的类别更加准确，需要自定义异常。需要继承Exception或者Exception的子类，常用RuntimeException。</p>
<p>必须提供的构造方法：无参构造方法；String message参数的构造方法。</p>
<p><strong>例子</strong></p>
<p> <strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * //自定义异常：类person</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:11</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    String sex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(age&gt;<span class="number">0</span>&amp;&amp;age&lt;=<span class="number">120</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//不符合要求就抛出异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> c1_AgeException(<span class="string">&quot;年龄不符合要求&quot;</span>); <span class="comment">//把运行异常修改为自定义异常</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sex.equals(<span class="string">&quot;男&quot;</span>)||sex.equals(<span class="string">&quot;女&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//性别不符合则抛出异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> c1_sexException(<span class="string">&quot;性别不符合要求&quot;</span>); <span class="comment">//把运行异常修改为自定义异常</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span>   <span class="comment">//重写toString方法，为了输出好看</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;b1_throw_person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>自定义异常</strong></p>
<p>年龄异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * //自定义异常：年龄异常</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:12</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_AgeException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span></span>&#123;  <span class="comment">//年龄异常继承父类异常RuntimeException</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_AgeException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_AgeException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_AgeException</span><span class="params">(String message, Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message, cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_AgeException</span><span class="params">(Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">c1_AgeException</span><span class="params">(String message, Throwable cause, <span class="keyword">boolean</span> enableSuppression, <span class="keyword">boolean</span> writableStackTrace)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message, cause, enableSuppression, writableStackTrace);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>性别异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * //自定义异常：性别异常</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_sexException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span></span>&#123; <span class="comment">//性别异常继承父类异常RuntimeException</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_sexException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_sexException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_sexException</span><span class="params">(String message, Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message, cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">c1_sexException</span><span class="params">(Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(cause);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">c1_sexException</span><span class="params">(String message, Throwable cause, <span class="keyword">boolean</span> enableSuppression, <span class="keyword">boolean</span> writableStackTrace)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message, cause, enableSuppression, writableStackTrace);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义异常：测试c1_person</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:12</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_testPerson</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        c1_person xiao = <span class="keyword">new</span> c1_person();</span><br><span class="line">        xiao.setSex(<span class="string">&quot;okk&quot;</span>);</span><br><span class="line">        xiao.setAge(<span class="number">19</span>);</span><br><span class="line">        System.out.println(xiao.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> com.myjava.YiChang.c1_sexException: 性别不符合要求</span><br><span class="line">	at com.myjava.YiChang.c1_person.setSex(c1_person.java:<span class="number">41</span>)</span><br><span class="line">	at com.myjava.YiChang.c1_testPerson.main(c1_testPerson.java:<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h5 id="8、异常中的方法覆盖（重写）"><a href="#8、异常中的方法覆盖（重写）" class="headerlink" title="8、异常中的方法覆盖（重写）"></a>8、异常中的方法覆盖（重写）</h5><p>和一般方法覆盖一样，但有一点要注意，子类的方法中，不能抛出比父类更多、范围更广的<strong>检查时异常</strong>CheckedException，对于运行异常RuntimeException无所谓。</p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 异常的方法重写：父类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span><span class="keyword">throws</span> Exception</span>&#123;  <span class="comment">//异常声明</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=====父类=====动物在吃东西&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.YiChang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 异常的方法重写：子类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 14:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_dog</span> <span class="keyword">extends</span> <span class="title">d1_animal</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;    <span class="comment">//异常声明。FileNotFoundException是Exception的子类，且FileNotFoundException是检查异常</span></span><br><span class="line">        System.out.println(<span class="string">&quot;======子类重写方法======小狗在吃东西……&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="十九、多线程"><a href="#十九、多线程" class="headerlink" title="十九、多线程"></a>十九、多线程</h4><h5 id="1、概念-1"><a href="#1、概念-1" class="headerlink" title="1、概念"></a>1、概念</h5><p>线程是轻量级进程，是进程中的一条执行路径，也是CPU基本的调度单位，一个进程有多个线程组成。</p>
<h5 id="2、创建线程的方法"><a href="#2、创建线程的方法" class="headerlink" title="2、创建线程的方法"></a>2、<strong>创建线程的方法</strong></h5><h6 id="1、方法一：继承Thread类，重写run方法。"><a href="#1、方法一：继承Thread类，重写run方法。" class="headerlink" title="1、方法一：继承Thread类，重写run方法。"></a>1、方法一：继承Thread类，重写run方法。</h6><p>this.getID()；//获取线程ID        this.getName();    //获取线程名称</p>
<p><strong>例子</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程，继承Thread类，重写run方法。</span></span><br><span class="line"><span class="comment"> * 线程类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 19:44</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_xianchengLei</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="comment">//创建一个带参构造方法，方便设置子线程的名称</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">a1_xianchengLei</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//获取线程ID和线程名称，方法1，用this.getID();和this.getName();这个方法没有方法2好，因为这个只能在线程继承了Thread时使用</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;线程ID:&quot;+this.getId()+&quot;,线程名称:&quot;+this.getName()+&quot;,子线程-----&quot;+i);</span></span><br><span class="line">            <span class="comment">//获取线程ID和线程名称，方法2使用Thread.currentThread()获取当前线程</span></span><br><span class="line">            System.out.println(<span class="string">&quot;线程ID：&quot;</span>+Thread.currentThread().getId()+<span class="string">&quot;，线程名称：&quot;</span>+Thread.currentThread().getName()+<span class="string">&quot;,子线程-----&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程，继承Thread类，重写run方法。</span></span><br><span class="line"><span class="comment"> * 每次执行的结果都是不一样的，因为子线程和主线程都是抢占式执行的</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/19 19:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*子线程执行*/</span></span><br><span class="line">        <span class="comment">//1、创建线程对象</span></span><br><span class="line">        a1_xianchengLei a1_thread1 = <span class="keyword">new</span> a1_xianchengLei(<span class="string">&quot;子线程1&quot;</span>);</span><br><span class="line">        <span class="comment">//2、启动线程，这里不能调用run方法a1_thread.run();</span></span><br><span class="line">        a1_thread1.start();</span><br><span class="line">        <span class="comment">//子线程2</span></span><br><span class="line">        a1_xianchengLei a1_thread2 = <span class="keyword">new</span> a1_xianchengLei(<span class="string">&quot;子线程2&quot;</span>);</span><br><span class="line">        a1_thread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、主线程执行</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">50</span> ; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程------------&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果</strong>：因为是抢占式执行，所以每次运行的结果都是不一样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><span class="line">主线程------------<span class="number">0</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">0</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">0</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">1</span></span><br><span class="line">主线程------------<span class="number">1</span></span><br><span class="line">主线程------------<span class="number">2</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">2</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">1</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">2</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">3</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">3</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">4</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">5</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">6</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">7</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">8</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">9</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">10</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">11</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">12</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">13</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">14</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">15</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">16</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">17</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">18</span></span><br><span class="line">主线程------------<span class="number">3</span></span><br><span class="line">主线程------------<span class="number">4</span></span><br><span class="line">主线程------------<span class="number">5</span></span><br><span class="line">主线程------------<span class="number">6</span></span><br><span class="line">主线程------------<span class="number">7</span></span><br><span class="line">主线程------------<span class="number">8</span></span><br><span class="line">主线程------------<span class="number">9</span></span><br><span class="line">主线程------------<span class="number">10</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">19</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">20</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">21</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">22</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">23</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">24</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">25</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">26</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">4</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">27</span></span><br><span class="line">主线程------------<span class="number">11</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">28</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">5</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">29</span></span><br><span class="line">主线程------------<span class="number">12</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">30</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">31</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">6</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">32</span></span><br><span class="line">主线程------------<span class="number">13</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">33</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">7</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">34</span></span><br><span class="line">主线程------------<span class="number">14</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">35</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">8</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">36</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">9</span></span><br><span class="line">主线程------------<span class="number">15</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">10</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">37</span></span><br><span class="line">主线程------------<span class="number">16</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">11</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">12</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">13</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">38</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">14</span></span><br><span class="line">主线程------------<span class="number">17</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">15</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">39</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">16</span></span><br><span class="line">主线程------------<span class="number">18</span></span><br><span class="line">主线程------------<span class="number">19</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">17</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">40</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">18</span></span><br><span class="line">主线程------------<span class="number">20</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">19</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">41</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">20</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">21</span></span><br><span class="line">主线程------------<span class="number">21</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">22</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">42</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">23</span></span><br><span class="line">主线程------------<span class="number">22</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">24</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">43</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">25</span></span><br><span class="line">主线程------------<span class="number">23</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">26</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">44</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">45</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">46</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">27</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">28</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">29</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">30</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">31</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">32</span></span><br><span class="line">主线程------------<span class="number">24</span></span><br><span class="line">主线程------------<span class="number">25</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">33</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">47</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">34</span></span><br><span class="line">主线程------------<span class="number">26</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">35</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">48</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">36</span></span><br><span class="line">主线程------------<span class="number">27</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">37</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">49</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">38</span></span><br><span class="line">主线程------------<span class="number">28</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">39</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">50</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">40</span></span><br><span class="line">主线程------------<span class="number">29</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">41</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">51</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">42</span></span><br><span class="line">主线程------------<span class="number">30</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">43</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">52</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">44</span></span><br><span class="line">主线程------------<span class="number">31</span></span><br><span class="line">主线程------------<span class="number">32</span></span><br><span class="line">主线程------------<span class="number">33</span></span><br><span class="line">主线程------------<span class="number">34</span></span><br><span class="line">主线程------------<span class="number">35</span></span><br><span class="line">主线程------------<span class="number">36</span></span><br><span class="line">主线程------------<span class="number">37</span></span><br><span class="line">主线程------------<span class="number">38</span></span><br><span class="line">主线程------------<span class="number">39</span></span><br><span class="line">主线程------------<span class="number">40</span></span><br><span class="line">主线程------------<span class="number">41</span></span><br><span class="line">主线程------------<span class="number">42</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">45</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">53</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">46</span></span><br><span class="line">主线程------------<span class="number">43</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">47</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">54</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">48</span></span><br><span class="line">主线程------------<span class="number">44</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">49</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">55</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">50</span></span><br><span class="line">主线程------------<span class="number">45</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">51</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">56</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">52</span></span><br><span class="line">主线程------------<span class="number">46</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">53</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">57</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">54</span></span><br><span class="line">主线程------------<span class="number">47</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">55</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">56</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">58</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">59</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">60</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">61</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">62</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">63</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">64</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">65</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">66</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">67</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">68</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">69</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">70</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">71</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">72</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">57</span></span><br><span class="line">主线程------------<span class="number">48</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">58</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">73</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">59</span></span><br><span class="line">主线程------------<span class="number">49</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">60</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">61</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">62</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">63</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">74</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">64</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">75</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">65</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">76</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">66</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">77</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">67</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">78</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">68</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">79</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">69</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">80</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">70</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">81</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">71</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">82</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">72</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">83</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">73</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">84</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">74</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">85</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">75</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">86</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">76</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">87</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">77</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">78</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">79</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">80</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">81</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">82</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">83</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">84</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">85</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">88</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">86</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">89</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">87</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">90</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">88</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">91</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">89</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">92</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">90</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">91</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">93</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">92</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">94</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">93</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">95</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">94</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">96</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">95</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">97</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">96</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">98</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">97</span></span><br><span class="line">线程ID：<span class="number">13</span>，线程名称：子线程<span class="number">2</span>,子线程-----<span class="number">99</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">98</span></span><br><span class="line">线程ID：<span class="number">12</span>，线程名称：子线程<span class="number">1</span>,子线程-----<span class="number">99</span></span><br></pre></td></tr></table></figure>

<h6 id="2、方法二：实现Runnable接口"><a href="#2、方法二：实现Runnable接口" class="headerlink" title="2、方法二：实现Runnable接口"></a>2、方法二：实现Runnable接口</h6><p><strong>创建一个类</strong>实现接口Runnable</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程的方法二：使用Runnable</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/21 20:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_runnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getId()+<span class="string">&quot;子线程====&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象或匿名类进行测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/21 20:11</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(&quot;==========测试的方法1：这是创建普通对象的测试=======&quot;);</span></span><br><span class="line"><span class="comment">//        //1、创建MyRunnable,表示线程要执行的功能</span></span><br><span class="line"><span class="comment">//        c1_runnable runnable = new c1_runnable();</span></span><br><span class="line"><span class="comment">//        //2、创建线程对象</span></span><br><span class="line"><span class="comment">//        Thread thread = new Thread(runnable,&quot;我的线程1&quot;);</span></span><br><span class="line"><span class="comment">//        //3、启动</span></span><br><span class="line"><span class="comment">//        thread.start();</span></span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt;50 ; i++) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;===main主线程======&quot;+i);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//或者使用匿名类来实现测试</span></span><br><span class="line">        <span class="comment">//1、创建可运行对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=======测试的方法2：这是使用匿名内部类的测试==========&quot;</span>);</span><br><span class="line">        Runnable runnable =<span class="keyword">new</span> Runnable() &#123; <span class="comment">//这个是匿名内部类</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">100</span> ; i++) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;=======&quot;</span>+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">                <span class="comment">//创建线程对象</span></span><br><span class="line">                Thread thread =<span class="keyword">new</span> Thread(runnable,<span class="string">&quot;线程1&quot;</span>);</span><br><span class="line">                <span class="comment">//启动线程</span></span><br><span class="line">                thread.start();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">50</span> ; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;main=======&quot;</span>+i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>有两个案例：4个窗口共卖100张票；存钱与取钱，存钱一人，取钱一个人。</p>
<h6 id="3、方法三：实现Callable接口"><a href="#3、方法三：实现Callable接口" class="headerlink" title="3、方法三：实现Callable接口"></a>3、方法三：实现Callable接口</h6><p>Callable接口中Call()方法;    //有返回值，还要声明异常。</p>
<p>Runnable接口中的run()方法;    //没有返回值，不用声明异常。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用Callable创建线程的例子：使用Callable实现1-100的和</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/25 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_Callable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建Callable对象</span></span><br><span class="line">        Callable&lt;Integer&gt; callable= <span class="keyword">new</span> Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;    <span class="comment">//抛出异常</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;开始计算……&quot;</span>);</span><br><span class="line">                <span class="keyword">int</span>  sum=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">100</span> ; i++) &#123;</span><br><span class="line">                        sum+=i;</span><br><span class="line">                        Thread.sleep(<span class="number">50</span>);  <span class="comment">//这里是为了然程序执行慢一点，方便看清楚过程</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//2、把Callable对象转换成可执行任务</span></span><br><span class="line">        FutureTask&lt;Integer&gt; task=<span class="keyword">new</span> FutureTask&lt;&gt;(callable);</span><br><span class="line">        <span class="comment">//3、创建线程</span></span><br><span class="line">        Thread thread=<span class="keyword">new</span> Thread(task);</span><br><span class="line">        <span class="comment">//4、启动线程</span></span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5、获取结果，等待call()执行完毕才会返回</span></span><br><span class="line">        Integer sum=task.get();</span><br><span class="line">        System.out.println(<span class="string">&quot;计算完成，计算的结果是：&quot;</span>+sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="3、线程的状态"><a href="#3、线程的状态" class="headerlink" title="3、线程的状态"></a>3、线程的状态</h5><p>初始状态、就绪状态、运行状态、终止状态、阻塞状态、等待状态</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955186.png" alt="image-20210923190121781" style="zoom:67%;" />



<h6 id="1、线程休眠"><a href="#1、线程休眠" class="headerlink" title="1、线程休眠"></a>1、线程休眠</h6><p>当前线程主动休眠</p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程休眠</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 9:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_sleepThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;    <span class="comment">//继承类Thread</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;======线程========&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123; <span class="comment">//异常检测处理</span></span><br><span class="line">                Thread.sleep(<span class="number">1000</span>); <span class="comment">//写这一句时要添加异常检查,自动添加的</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程休眠</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 9:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_testSleepThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        d1_sleepThread s1 = <span class="keyword">new</span> d1_sleepThread();</span><br><span class="line">        s1.start();</span><br><span class="line">        d1_sleepThread s2 = <span class="keyword">new</span> d1_sleepThread();</span><br><span class="line">        s2.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、线程放弃"><a href="#2、线程放弃" class="headerlink" title="2、线程放弃"></a>2、线程放弃</h6><p>当前线程主动放弃时间片，回到就绪状态，竞争下一次时间片</p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程休眠</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d2_yieldThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;=====线程======&quot;</span>+i);</span><br><span class="line">            <span class="comment">//主动放弃CPU</span></span><br><span class="line">            Thread.yield();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程休眠</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:08</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d2_testYieldThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       d2_yieldThread y1 = <span class="keyword">new</span> d2_yieldThread();</span><br><span class="line">       d2_yieldThread y2 = <span class="keyword">new</span> d2_yieldThread();</span><br><span class="line">        y1.start();</span><br><span class="line">        y2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="3、线程加入"><a href="#3、线程加入" class="headerlink" title="3、线程加入"></a>3、线程加入</h6><p>允许其他线程加入当前的线程中。加入当前线程并阻塞当前线程，直到加入完毕。</p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程加入，这个类竟然和线程休眠的类一样！</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d3_joinThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;---子线程----&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程加入</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d3_testJoinThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        d3_joinThread j1 = <span class="keyword">new</span> d3_joinThread();</span><br><span class="line">        j1.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            j1.join();   <span class="comment">//加入当前的主线程，并阻塞当前线程，直到加入完毕。还要自动添加一个异常检查</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;======子线程加入主线程完毕，主线程启动了=======&quot;</span>);</span><br><span class="line">        <span class="comment">//for主线程</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;---主线程---&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、线程优先级和守护线程"><a href="#4、线程优先级和守护线程" class="headerlink" title="4、线程优先级和守护线程"></a>4、线程优先级和守护线程</h5><p>用户线程（前台线程）、守护线程（后天线程）。垃圾回收器线程属于守护线程。</p>
<p>优先级设置    线程对象.setPriority();    线程优先级为1-10，默认为5。10为最高优先级。</p>
<h6 id="1、线程优先级"><a href="#1、线程优先级" class="headerlink" title="1、线程优先级"></a>1、线程优先级</h6><p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程优先级</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_priorityThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;---子线程----&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程优先级</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 10:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_testPriority</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        e1_priorityThread p1 = <span class="keyword">new</span> e1_priorityThread();</span><br><span class="line">        p1.setName(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line">        e1_priorityThread p2 = <span class="keyword">new</span> e1_priorityThread();</span><br><span class="line">        p2.setName(<span class="string">&quot;p2&quot;</span>);</span><br><span class="line">        e1_priorityThread p3 = <span class="keyword">new</span> e1_priorityThread();</span><br><span class="line">        p3.setName(<span class="string">&quot;p3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        p1.setPriority(<span class="number">1</span>);  <span class="comment">//设置p1优先级为1，最低的优先级</span></span><br><span class="line">        p3.setPriority(<span class="number">10</span>);</span><br><span class="line">        p2.setPriority(<span class="number">5</span>);     <span class="comment">//5是默认的优先级</span></span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        p3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、守护线程"><a href="#2、守护线程" class="headerlink" title="2、守护线程"></a>2、守护线程</h6><p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 守护线程</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 11:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e2_DeamonThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;=<span class="number">50</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;---------&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">500</span>);  <span class="comment">//500毫秒</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 守护线程</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 11:26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e2_testDeamonThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建线程。默认为前台线程，除非设置为守护线程（后台线程）</span></span><br><span class="line">        e2_DeamonThread d1 = <span class="keyword">new</span> e2_DeamonThread();</span><br><span class="line">      <span class="comment">//设置守护线程</span></span><br><span class="line">        d1.setDaemon(<span class="keyword">true</span>); <span class="comment">//d1变为守护线程</span></span><br><span class="line">        d1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//主线程,这是前台线程</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;=<span class="number">20</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;----主线程----&quot;</span>+i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5、线程安全"><a href="#5、线程安全" class="headerlink" title="5、线程安全"></a>5、线程安全</h5><p>多线程访问共享资源的一个安全问题。</p>
<p>临界资源：共享资源（同一对象），一次仅允许一个线程使用，才可保证其正确性。</p>
<p>原子操作：不可分割的多补步操作，被视作一个整体，其顺序和步骤不可打乱或缺省。</p>
<p>举例出现的线程安全问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程安全</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 11:47</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">f1_ThreadSafe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建数组</span></span><br><span class="line">        String[] s =<span class="keyword">new</span> String[<span class="number">5</span>];</span><br><span class="line">        <span class="comment">//创建两个线程操作</span></span><br><span class="line">        Runnable runnable1=<span class="keyword">new</span> Runnable() &#123;	<span class="comment">//匿名内部类</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                s[index]=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Runnable runnable2 = <span class="keyword">new</span> Runnable() &#123;	<span class="comment">//匿名内部类</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                s[index]=<span class="string">&quot;world&quot;</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//创建两个线程对象</span></span><br><span class="line">        Thread a = <span class="keyword">new</span> Thread(runnable1,<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        Thread b = <span class="keyword">new</span> Thread(runnable2,<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        a.start();</span><br><span class="line">        b.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            a.join();   <span class="comment">//加入线程</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            b.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果本来想实现hello和world依次插入数组，但现在hello和world都重叠了，出现了线程安全问题。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[hello, world, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>]</span><br></pre></td></tr></table></figure>

<h5 id="6、处理线程安全问题"><a href="#6、处理线程安全问题" class="headerlink" title="6、处理线程安全问题"></a>6、<strong>处理线程安全问题</strong></h5><h6 id="使用同步的方法：同步代码块、同步方法"><a href="#使用同步的方法：同步代码块、同步方法" class="headerlink" title="使用同步的方法：同步代码块、同步方法"></a>使用同步的方法：同步代码块、同步方法</h6><p><strong>同步方式一：同步代码块</strong>：为方法中的局部代码（原子操作）加锁。</p>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(临界资源)&#123;<span class="comment">//对临界资源对象加锁,给共享资源（临界资源上锁）</span></span><br><span class="line">	<span class="comment">//代码（原子操作）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决上面的线程安全例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用同步的方法解决f1中的线程按我问题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 12:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">f2_solutionSafe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建数组</span></span><br><span class="line">        String[] s =<span class="keyword">new</span> String[<span class="number">5</span>];</span><br><span class="line">        <span class="comment">//创建两个线程操作</span></span><br><span class="line">        Runnable runnable1=<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (s)&#123;   <span class="comment">//用同步的方法解决线程安全问题，给正在使用的临界资源上锁，先供自己使用完再把共享资源释放出来，这里的数组s被视为临界资源（共享资源）</span></span><br><span class="line">                    s[index]=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">                    index++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Runnable runnable2 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (s)&#123;   <span class="comment">//用同步的方法解决线程安全问题，给正在使用的临界资源上锁，先供自己使用完再把共享资源释放出来，这里的数组s被视为临界资源（共享资源）</span></span><br><span class="line">                    s[index]=<span class="string">&quot;world&quot;</span>;</span><br><span class="line">                    index++;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//创建两个线程对象</span></span><br><span class="line">        Thread a = <span class="keyword">new</span> Thread(runnable1,<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        Thread b = <span class="keyword">new</span> Thread(runnable2,<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        a.start();</span><br><span class="line">        b.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            a.join();   <span class="comment">//加入线程</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            b.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>同步方式二：同步方法</strong>：为方法中的所有代码（原子操作）加锁。（不大懂这个）</p>
<p>语法</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">synchronized 返回值类型 方法名称(形参列表)&#123;	<span class="regexp">//</span>对当前对象（this）加锁</span><br><span class="line">	<span class="regexp">//</span>代码（原子操作）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JDK中线程安全的类:StringBuffer、Vector、Hashtable,这几个类均为synchronized修饰的同步方法</p>
<h5 id="7、死锁"><a href="#7、死锁" class="headerlink" title="7、死锁"></a>7、死锁</h5><p>使用同步上锁时产生的问题</p>
<p>概念：①两个线程使用对方的对象上锁，都在等着对方解锁才能使用自己的对象，从而谁都用不了，产生死锁现象。②一个线程使用对个对象上锁，当线程阻塞时，无法释放已经上锁的对象，产生了死锁现象。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 死锁：创建两个锁对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 19:27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_SiSuo</span> </span>&#123;</span><br><span class="line">    <span class="comment">//两个锁</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object a=<span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object b=<span class="keyword">new</span> Object();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个类boy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 19:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_boy</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (g1_SiSuo.a)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;男孩拿到了a&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (g1_SiSuo.b)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;男孩拿到了b&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;男孩可以吃东西了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个类girl</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 19:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_girl</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (g1_SiSuo.b)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;女孩拿到了b&quot;</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (g1_SiSuo.a)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;女孩拿到了a&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;女孩可以吃东西了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.xianCheng;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/23 19:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_testSiSuo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        g1_girl girl=<span class="keyword">new</span> g1_girl();</span><br><span class="line">        g1_boy boy=<span class="keyword">new</span> g1_boy();</span><br><span class="line">        girl.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);      <span class="comment">//谁一会，先让girl释放锁，再给boy使用</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        boy.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="8、线程间的通信"><a href="#8、线程间的通信" class="headerlink" title="8、线程间的通信"></a>8、<strong>线程间的通信</strong></h5><p><strong>等待</strong></p>
<p>public final void wait()</p>
<p><strong>通知</strong></p>
<p>public final void notify();</p>
<p>pblic final void notifyAll();</p>
<p><strong>典型例子：</strong>生成者与消费者（这个例子很重要，要写一下） <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=324&spm_id_from=pageDriver">第324集</a>    <a target="_blank" rel="noopener" href="https://blog.csdn.net/fallwind_of_july/article/details/92812756">CSDN参考</a>     </p>
<h4 id="二十、高级多线程"><a href="#二十、高级多线程" class="headerlink" title="二十、高级多线程"></a>二十、高级多线程</h4><h5 id="1、线程池概念"><a href="#1、线程池概念" class="headerlink" title="1、线程池概念"></a>1、线程池概念</h5><ul>
<li><p>线程容器，可设定线程分配的数量上限。</p>
</li>
<li><p>将预先创建的线程对象存入池中，并重用线程池中的线程对象，避免频繁地创建和销毁线程。</p>
<p>把任务提交给线程执行。</p>
</li>
</ul>
<h5 id="2、线程池原理"><a href="#2、线程池原理" class="headerlink" title="2、线程池原理"></a>2、线程池原理</h5><p>将任务提交给线程池，由线程池分配线程，运行任务，并在当前任务结束后复用线程。</p>
<h5 id="3、创建线程池"><a href="#3、创建线程池" class="headerlink" title="3、创建线程池"></a>3、创建线程池</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955187.png" alt="image-20210923212409171" style="zoom:67%;" />



<ul>
<li><p><strong>Executor</strong>是线程池的根接口,executor();</p>
</li>
<li><p>Executors是创建线程池的工具类:</p>
<p>(1)、创建固定线程个数的线程池</p>
<p>(2)、创建缓存线程池，由任务的多少决定</p>
<p>(3)、创建单线程池</p>
<p>(4)、创建调度线程池    调度：周期、定时执行</p>
</li>
<li><p>ExecutorService:包含管理线程的一些方法。submit    shutdown</p>
</li>
<li><p>ThreadPoolExecutor</p>
</li>
</ul>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程：(1)、创建固定线程个数的线程池    (2)、创建缓存线程池，由任务的多少决定</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/25 17:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_Create</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ExecutorService es = Executors.newFixedThreadPool(<span class="number">4</span>); <span class="comment">//(1)、创建固定线程个数的线程池,创建了4个线程</span></span><br><span class="line"><span class="comment">//        ExecutorService es = Executors.newCachedThreadPool();   //(2)、创建缓存线程池，由任务的多少决定</span></span><br><span class="line">        <span class="comment">//2、创建任务</span></span><br><span class="line">        Runnable runnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(ticket&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;买了第&quot;</span>+ticket+<span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//3、提交任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">4</span> ; i++) &#123;   <span class="comment">//提交4次任务</span></span><br><span class="line">            es.submit(runnable);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4、关闭线程</span></span><br><span class="line">        es.shutdown();  <span class="comment">//等待所有任务执行完毕，然后关闭线程池,不接受新的任物了。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、Future接口"><a href="#4、Future接口" class="headerlink" title="4、Future接口"></a>4、Future接口</h5><p>表示将要完成任务的结果。异步返回值。</p>
<p><strong>例子：使用两个线程,并发计算1<del>50,51</del>100的和,再进行汇总统计(多线程、并发)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Future例子：使用两个线程,并发计算1~50,51~100的和,再进行汇总统计(多线程、并发)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/25 18:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_Future</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建线程池</span></span><br><span class="line">        ExecutorService es = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//2、提交任务</span></span><br><span class="line">        Future&lt;Integer&gt; future1=es.submit(<span class="keyword">new</span> Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span> ; i++) &#123;</span><br><span class="line">                    sum+=i;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;1-50计算完毕！&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Future&lt;Integer&gt; future2=es.submit(<span class="keyword">new</span> Callable&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">51</span>; i &lt;=<span class="number">100</span> ; i++) &#123;</span><br><span class="line">                    sum+=i;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">            &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;51-100计算完毕!&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> sum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//3、获取结果</span></span><br><span class="line">        <span class="keyword">int</span> sum = future1.get()+future2.get();</span><br><span class="line">        System.out.println(<span class="string">&quot;合并后的结果为：&quot;</span>+sum);</span><br><span class="line">        <span class="comment">//4、关闭线程池</span></span><br><span class="line">        es.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5、线程同步和异步"><a href="#5、线程同步和异步" class="headerlink" title="5、线程同步和异步"></a>5、线程同步和异步</h5><h6 id="1、线程同步"><a href="#1、线程同步" class="headerlink" title="1、线程同步"></a>1、线程同步</h6><p>概念：形容一次方法调用，同步一旦开始，调用者必须等待该方法的返回才能继续。</p>
<h6 id="2、线程的异步"><a href="#2、线程的异步" class="headerlink" title="2、线程的异步"></a>2、线程的异步</h6><p>概念：形容一次方法的调用，异步一旦开始，像是一次消息传递，调用者告知之后立刻返回。二者竞争时间片，并发执行。有多条执行路径。</p>
<h5 id="6、Lock接口"><a href="#6、Lock接口" class="headerlink" title="6、Lock接口"></a>6、Lock接口</h5><p><strong>锁Lock像synchronized同步块一样，是一种线程同步机制。</strong>Lock和ReadWriteLock是两大锁的根接口，Lock的代表实现类是ReentrantLock（可重入锁），ReadWriteLock（读写锁）的代表实现类是ReentrantReadWriteLock。</p>
<p><strong>Lock和Synchronized的比较</strong></p>
<p>Lock不是Java语言内置的，synchronized是Java语言的关键字，因此是内置特性。Lock是一个类，通过这个类可以实现同步访问；</p>
<p>采用synchronized不需要用户去手动释放锁，而Lock则必须要用户去手动释放锁，如果没有主动释放锁，就有可能导致出现死锁现象。　对于Synchronized而言，也是一个可重入锁。可重入锁的一个好处是可一定程度避免死锁。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/myseries/p/10784076.html">Lock接口详解(博客园)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hustzzl/p/9343797.html">java中的各种锁(博客园)</a></p>
<h6 id="1、Lock的实现类-重入锁"><a href="#1、Lock的实现类-重入锁" class="headerlink" title="1、Lock的实现类-重入锁"></a>1、Lock的实现类-重入锁</h6><p><strong>ReentrantLock</strong>(可重入锁)，与synchronized一样具有互斥锁的功能。</p>
<p><strong>例子</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重入锁ReentrantLock的使用：类c1_ReentrantLock</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/26 11:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_ReentrantLock</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> String[] str = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String value)</span></span>&#123;  <span class="comment">//普通有参方法</span></span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            str [count]=value;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;添加了&quot;</span>+value);</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String[] getStr()&#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重入锁ReentrantLock的使用：测试</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/26 11:44</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        c1_ReentrantLock rtl = <span class="keyword">new</span> c1_ReentrantLock();</span><br><span class="line">        Runnable runnable1=<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                rtl.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Runnable runnable2 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                rtl.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(runnable1);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(runnable2);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印时要用.join,表示已经执行完了</span></span><br><span class="line">        t1.join();</span><br><span class="line">        t2.join();</span><br><span class="line">        System.out.println(<span class="string">&quot;输出list：&quot;</span>+Arrays.toString(rtl.getStr()));  <span class="comment">//打印出来</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="2、Lock的实现类-读写锁"><a href="#2、Lock的实现类-读写锁" class="headerlink" title="2、Lock的实现类-读写锁"></a>2、Lock的实现类-读写锁</h6><p><strong>ReentrantReadWriteLock</strong>:一种支持一写多读的同步锁，读写分离，可分别分配读锁、写锁。支持多次分配读锁，使多个读操作可并发执行。提高效率。</p>
<p><strong>互斥规则：</strong></p>
<p>写-写：互斥，阻塞</p>
<p>读-写：互斥，读阻塞写、写阻塞读</p>
<p>读-读：不互斥、不阻塞</p>
<p><strong>例子</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantReadWriteLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读写锁的使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/27 16:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_ReentrantReadWriteLock</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1、创建读写锁</span></span><br><span class="line">    ReentrantReadWriteLock rr1 = <span class="keyword">new</span> ReentrantReadWriteLock();</span><br><span class="line">    <span class="comment">//2、获取读锁</span></span><br><span class="line">    <span class="keyword">private</span> ReentrantReadWriteLock.ReadLock readLock=rr1.readLock();</span><br><span class="line">    <span class="comment">//3、获取写锁</span></span><br><span class="line">    <span class="keyword">private</span> ReentrantReadWriteLock.WriteLock writeLock = rr1.writeLock();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//互斥锁,比读写锁更慢，没有写，下面把readLock和writeLock改为lock就是互斥锁的了</span></span><br><span class="line">    <span class="keyword">private</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String value;</span><br><span class="line">    <span class="comment">//读取</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getValue</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//使用读锁来上锁</span></span><br><span class="line">        readLock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;读取&quot;</span>+value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            readLock.unlock();  <span class="comment">//解锁</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//写入</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(String value)</span></span>&#123;</span><br><span class="line">        writeLock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">            System.out.println(<span class="string">&quot;写入&quot;</span>+value);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            writeLock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.XianChengChi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读写锁的使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/27 16:50</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        d1_ReentrantReadWriteLock myreentrantReadWriteLock = <span class="keyword">new</span> d1_ReentrantReadWriteLock();</span><br><span class="line">        <span class="comment">//创建线程池</span></span><br><span class="line">        ExecutorService es = Executors.newFixedThreadPool(<span class="number">20</span>);  <span class="comment">//创建20个线程的线程池</span></span><br><span class="line">        Runnable runnable1 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                myreentrantReadWriteLock.getValue();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Runnable runnable2 = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                myreentrantReadWriteLock.setValue(<span class="string">&quot;张三:&quot;</span>+<span class="keyword">new</span> Random().nextInt(<span class="number">100</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();    <span class="comment">//从这里开始得到时间，开始计算时间</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//分配2个写任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">2</span>; i++) &#123;</span><br><span class="line">            es.submit(runnable2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//分配18个读任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">18</span>; i++) &#123;</span><br><span class="line">            es.submit(runnable1);</span><br><span class="line">        &#125;</span><br><span class="line">        es.shutdown();  <span class="comment">//关闭线程池</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断线程池里的线程有没有都执行完毕，是否终止了</span></span><br><span class="line">        <span class="keyword">while</span>(!es.isTerminated())&#123;  <span class="comment">//whilefalse时则说明没有执行完毕，则继续执行，空转</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis(); <span class="comment">//时间计算结束</span></span><br><span class="line">        System.out.println(<span class="string">&quot;运行的时间为：&quot;</span>+(end-start));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="7、常见线程安全集合"><a href="#7、常见线程安全集合" class="headerlink" title="7、常见线程安全集合"></a>7、常见线程安全集合</h5><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wind-ranger/p/14920658.html">线程安全的集合(博客园)</a></p>
<h6 id="1、Collection-1"><a href="#1、Collection-1" class="headerlink" title="1、Collection"></a>1、Collection</h6><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955188.png" alt="image-20210925200342466" style="zoom:80%;" />





<h6 id="2、Map"><a href="#2、Map" class="headerlink" title="2、Map"></a>2、Map</h6><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955189.png" alt="image-20210925200409264" style="zoom:80%;" />





<h6 id="3、CopyOnWriteArrayList"><a href="#3、CopyOnWriteArrayList" class="headerlink" title="3、CopyOnWriteArrayList"></a>3、CopyOnWriteArrayList</h6><p>这是线程安全的ArrayList，加强版的读写分离。写有锁，读无锁，读写之间不阻塞,由于读写锁ReentrantReadWriteLock</p>
<h6 id="4、CopyOnWriteArraySet"><a href="#4、CopyOnWriteArraySet" class="headerlink" title="4、CopyOnWriteArraySet"></a>4、CopyOnWriteArraySet</h6><p>线程安全的Set，底层使用CopyOnWriteArrayList实现。使用addIfAbsent()添加元素，会遍历数组</p>
<h6 id="5、Queue"><a href="#5、Queue" class="headerlink" title="5、Queue"></a>5、Queue</h6><p>Collection的子接口</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955190.png" alt="image-20210925202419605" style="zoom:67%;" />





<p><strong>ConcurrentLinkedQueue</strong>:这是一个线程安全，可高效读写的队列，高并发下性能最好的队列。</p>
<p><strong>BlockingQueue</strong>:Queue的子接口，使阻塞队列,增加了两个线程状态为无期限等待的方法。</p>
<p>​        ArrayBlockingQueue:数组结构实现，有界队列(手工固定上界)</p>
<p>​        LinkedBLockingQueue:链表结构实现，有界队列(有默认上界)</p>
<h6 id="6、ConcurrentHashMap"><a href="#6、ConcurrentHashMap" class="headerlink" title="6、ConcurrentHashMap"></a>6、ConcurrentHashMap</h6><p>这个是线程安全的HashMap。不对整个Map加锁，而是为每个Segment加锁，当多个对象存入同一个Segment时才需要互斥。最理想状态为16个对象分别存入16个Segment，并行数量16。使用方式与HashMap无异。</p>
<h4 id="二十一、I-O框架-I-O流"><a href="#二十一、I-O框架-I-O流" class="headerlink" title="二十一、I/O框架-I/O流"></a>二十一、I/O框架-I/O流</h4><h5 id="1、流"><a href="#1、流" class="headerlink" title="1、流"></a>1、流</h5><p>概念：内存与存储设备之间传输数据的通道。</p>
<h5 id="2、流的分类"><a href="#2、流的分类" class="headerlink" title="2、流的分类"></a>2、流的分类</h5><p><strong>按方向：</strong>（重点）</p>
<p>​    输入流：存储设备到内存。（比如，用程序读取某文件下的内容）</p>
<p>​    输出流：内存到存储设备。（比如，用程序写内容到某个文件下）</p>
<p><strong>按单位：</strong></p>
<p>​    字节流：以字节为单位，可以读写所有数据。</p>
<p>​    字符流：以字符为单位，只能读写文本数据。</p>
<p><strong>按功能：</strong></p>
<p>​    节点流：具有实际传输数据的读写功能。</p>
<p>​    过滤流：在节点流基础之上增强功能。</p>
<h5 id="3、字节流的使用"><a href="#3、字节流的使用" class="headerlink" title="3、字节流的使用"></a>3、<strong>字节流的使用</strong></h5><h6 id="1、字节流的父类（抽象类）"><a href="#1、字节流的父类（抽象类）" class="headerlink" title="1、字节流的父类（抽象类）"></a>1、字节流的父类（抽象类）</h6><p>InputStream：字节输入流</p>
<p>OutputStream：字节输出流</p>
<h6 id="2、文件字节流"><a href="#2、文件字节流" class="headerlink" title="2、文件字节流"></a>2、文件字节流</h6><p><strong>FileInputStream</strong>文件字节输入流</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件输入流的演示:这个是a1_FileInputStream2的用循环优化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/28 12:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_FileInputStream3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建FileInputStream，并指定文件路径，手动在文件夹下创建文件并写如内容</span></span><br><span class="line">        FileInputStream fls = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、读取该文件、</span></span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">100</span>];   <span class="comment">//读取的个数,100表示读取的字节长度</span></span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span>((count=fls.read(buf))!=-<span class="number">1</span>) &#123;<span class="comment">//等于-1说明已经读完了</span></span><br><span class="line">           System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,count));</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fls.close();</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;读取完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FileOutputSteam</strong>文件字节输出流</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件字节输出流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/28 12:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a2_FileOutInputStream</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建文件字节输出流对象</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\bbb.txt&quot;</span>,<span class="keyword">true</span>); <span class="comment">//true表示不覆盖写入</span></span><br><span class="line">        <span class="comment">//2、写入文件</span></span><br><span class="line">        fos.write(<span class="number">97</span>);  <span class="comment">//a的阿斯克码</span></span><br><span class="line">        fos.write(<span class="string">&#x27;b&#x27;</span>); <span class="comment">//注意这里是单引号</span></span><br><span class="line">        fos.write(<span class="string">&#x27;c&#x27;</span>); <span class="comment">//注意这里是单引号</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//或者用这种方法写入文件</span></span><br><span class="line">        String string = <span class="string">&quot;helloworld&quot;</span>;</span><br><span class="line">        fos.write(string.getBytes());   <span class="comment">//获取string的内容写入文件</span></span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fos.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;写入文件执行完毕！&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、字节流复制文件"><a href="#4、字节流复制文件" class="headerlink" title="4、字节流复制文件"></a>4、字节流复制文件</h5><p>可复制图片。可以复制任意文件。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件字节流复制</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/28 16:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_FileCopy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//1、创建流</span></span><br><span class="line">        <span class="comment">//1、1文件输入流（读取文件内容）</span></span><br><span class="line">        FileInputStream fis =<span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>); <span class="comment">//aaa.txt是事先已经存在的文件，也可以复制图片，不仅是文本文件</span></span><br><span class="line">        <span class="comment">//1、2文件输出流（写入文件。写到一个新的文件）</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\复制aaa的文件.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、一遍读一遍写</span></span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];    <span class="comment">//1K的字节</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((count = fis.read(buf))!=-<span class="number">1</span>)&#123;        <span class="comment">//这里把aaa.txt的文件的内容读出来</span></span><br><span class="line">            fos.write(buf,<span class="number">0</span>,count);     <span class="comment">//把读出来的内容写进文件</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;文件复制完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5、字节缓冲流"><a href="#5、字节缓冲流" class="headerlink" title="5、字节缓冲流"></a>5、<strong>字节缓冲流</strong></h5><h6 id="1、BufferInputStream"><a href="#1、BufferInputStream" class="headerlink" title="1、BufferInputStream"></a>1、BufferInputStream</h6><p>BufferInputStream：字节缓冲输入流。<strong>读取</strong>。创建一个内部缓冲区数组，当从内读取和跳过字节时，内部缓冲区根据需要从包含的输入流重新填充，一次多个字节。</p>
<p> <strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/28 17:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_BufferInputStream</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建BufferInputStream</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);    <span class="comment">//读取aaa.txt的文件内容</span></span><br><span class="line">        BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">        <span class="comment">//2、读取</span></span><br><span class="line">        <span class="comment">//读取方法一</span></span><br><span class="line"><span class="comment">//        int data = 0;</span></span><br><span class="line"><span class="comment">//        while ((data = bis.read())!=-1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.print((char)data);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//读取方法二</span></span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((count = bis.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(buf, <span class="number">0</span>, count));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        bis.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;读取完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、BufferedOutputStream"><a href="#2、BufferedOutputStream" class="headerlink" title="2、BufferedOutputStream"></a>2、BufferedOutputStream</h6><p>字节缓冲输出流</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字节输出缓冲流:用字节缓冲流写入文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/28 18:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_BufferedOutputStream</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建字节输出缓冲流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\用字节缓冲输出流写入的文件.txt&quot;</span>);</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">        <span class="comment">//2、写入文件</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            bos.write(<span class="string">&quot;这是写入的内容\r\n&quot;</span>.getBytes());        <span class="comment">//\r\n 表示换行。写入8k缓冲区。写了10次。</span></span><br><span class="line">            bos.flush();    <span class="comment">//刷新到硬盘，写入文件时要及时刷新，否则可能没有写进去内容。</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、关闭，关闭时内部也会调用flush()方法。</span></span><br><span class="line">        bos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="7、对象流-反-序列化"><a href="#7、对象流-反-序列化" class="headerlink" title="7、对象流-(反)序列化"></a>7、<strong>对象流-(反)序列化</strong></h5><p>ObjectOutputStream    ObjectInputStream    这两个类用于序列化对象的操作。对象的序列化的实现方便了对象间的克隆，使得复制品实体的变化不会引起原对象实体的变化。</p>
<p>使用流传输对象的过程称为序列化、反序列化。</p>
<p><strong>序列化（Out）</strong>：把内容写入到文件中（内存到流）；<strong>反序列化（In）</strong>：从文件中读取内容。</p>
<p>对象的序列化就是将对象转换成<strong>二进制</strong>数据流的一种实现手段。    <strong>.bin</strong>文件，是一个 二进制的文件。</p>
<p>当使用对象流写入或者读取对象的时候，必须保证该对象是序列化的，这样是为了保证对象能够正确的写入文件，并能够把对象正确的读回程序。</p>
<ul>
<li><p>想要序列化的类必须要实现<strong>Serializable</strong>接口；这个类中的对象属性也要实现<strong>Serializable</strong>接口，使用<strong>transient</strong>（瞬间的）修饰的属性不会被序列化的，静态属性不能被序列化。这个接口仅是标记作用，没有方法属性。</p>
</li>
<li><p>序列化版本号ID，保证序列化类和反序列化类是同一个类。</p>
</li>
<li><p>序列化多个对象可以使用集合，反序列化多个对象也可以使用集合。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dhm520/p/8516179.html">博客园</a></p>
<h6 id="1、ObjectOutputStream序列化"><a href="#1、ObjectOutputStream序列化" class="headerlink" title="1、ObjectOutputStream序列化"></a>1、ObjectOutputStream序列化</h6><p>将内容写入已创建好的文件中</p>
<p><strong>例子</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 序列化与反序列化的学生类ObjectInputStream、ObjectOutputStream</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 10:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;   <span class="comment">//要序列化与反序列化必须要实现接口Serializable</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">d1_student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">d1_student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;d1_student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>序列化</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ObjectOutputStream序列化</span></span><br><span class="line"><span class="comment"> * 要求序列化类必须实现接口Serializable</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 11:01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_ObjectInputStream</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建对象流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\序列化写的二级制文件.bin&quot;</span>);   <span class="comment">//.bin是二进制文件</span></span><br><span class="line">        ObjectOutputStream oos=<span class="keyword">new</span> ObjectOutputStream(fos);</span><br><span class="line">        <span class="comment">//2、序列化，将内容写入文件</span></span><br><span class="line">        d1_student zhangsan = <span class="keyword">new</span> d1_student(<span class="string">&quot;张三&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        oos.writeObject(zhangsan);</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        oos.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;序列化完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、ObjectInputStream反序列化"><a href="#2、ObjectInputStream反序列化" class="headerlink" title="2、ObjectInputStream反序列化"></a>2、ObjectInputStream反序列化</h6><p>将文件中的内容读取出来</p>
<p><strong>例子</strong></p>
<p><strong>类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 序列化与反序列化的学生类：ObjectOutputStream、ObjectInputStream</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 10:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;   <span class="comment">//要序列化与反序列化必须要实现接口Serializable</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">d1_student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">d1_student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;d1_student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>反序列化</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 反序列化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 11:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_ObjectInputStream</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建对象流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\序列化写的二级制文件.bin&quot;</span>);</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(fis);</span><br><span class="line">        <span class="comment">//2、反序列化,读取文件</span></span><br><span class="line">        d1_student s = (d1_student)ois.readObject();    <span class="comment">//将读取出的文件强制转换为d1_student对象类型</span></span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        ois.close();</span><br><span class="line">        System.out.println(s.toString());   <span class="comment">//将读取的结果打印出来</span></span><br><span class="line">        System.out.println(<span class="string">&quot;反序列化完成!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="8、字符流"><a href="#8、字符流" class="headerlink" title="8、字符流"></a>8、<strong>字符流</strong></h5><h6 id="1、字符编码"><a href="#1、字符编码" class="headerlink" title="1、字符编码"></a>1、字符编码</h6><p>ISO-8859-1（收录ASCII等文字符号）、UTF-8（万国码-1,2,3字节）、GB2312（简体中文-1,2字节）、GBK（简体中文，GB2312的升级-1,2字节）、BIG5（台湾的，繁体中文）。<strong>ANSI</strong>在不同的国家指示不同的编码，如，在中国就是指示GBK的编码。</p>
<h6 id="2、文件字符流"><a href="#2、文件字符流" class="headerlink" title="2、文件字符流"></a>2、文件字符流</h6><p><strong>FileRead</strong></p>
<p>重存在的文件中读出文件中的内容，以字符为单位读取</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用FileRead读取文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 19:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_FileRead</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建FileRead文件字符输入流，对，是输入，不是输出</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2、读取</span></span><br><span class="line"><span class="comment">//            //2.1单个字符读取</span></span><br><span class="line"><span class="comment">//        int date=0;</span></span><br><span class="line"><span class="comment">//        while ((date=fr.read())!=-1)&#123;     //读取一个字符</span></span><br><span class="line"><span class="comment">//            System.out.println((char)date);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">            <span class="comment">//2.2创建缓冲区读取</span></span><br><span class="line">        <span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];    <span class="comment">//1024个字符</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((count=fr.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,count));        <span class="comment">//注意这里不需要导入包import com.sun.org.apache.xpath.internal.operations.String;导入会出错的</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fr.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FileWrite</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重程序写入内容到文件中，在程序中创建文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 19:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_FileWrite</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建FileWrite对象</span></span><br><span class="line">        FileWriter fw =<span class="keyword">new</span> FileWriter(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\创建的FileWrite.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2、写入内容</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            fw.write(<span class="string">&quot;这是写入的内容,以字符为单位\r\n&quot;</span>);</span><br><span class="line">            fw.flush(); <span class="comment">//刷新</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fw.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;写入完成！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="3、字符流复制文件"><a href="#3、字符流复制文件" class="headerlink" title="3、字符流复制文件"></a>3、字符流复制文件</h6><p>字<strong>符</strong>流不能复制图片和二进制文件，只能复制文本文件。字<strong>节</strong>流可以复制任意文件</p>
<p>原理：对已存在的文件读取出内容，再写进一个新的文件。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用字符流复制文本文件，字符流只能复制文本文件。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/9/30 20:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e2_CopyText</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建FileRead、FileWrite</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\创建的FileWrite.txt&quot;</span>);</span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\使用字符流复制的文件.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2、读写</span></span><br><span class="line">        <span class="keyword">int</span> date = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((date=fr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            fw.write(date);</span><br><span class="line">            fw.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        fr.close();</span><br><span class="line">        fw.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;复制完成！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="4、字符缓冲流"><a href="#4、字符缓冲流" class="headerlink" title="4、字符缓冲流"></a>4、字符缓冲流</h6><p>高效读写</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lxzwhite/p/10683305.html">字符缓冲流（博客园）</a></p>
<p><strong>BufferedReader</strong></p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用字符缓冲流读取文件BufferedReader</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 12:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">f1_BufferedReader</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建缓冲流</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">        <span class="comment">//2、读取</span></span><br><span class="line"><span class="comment">//        //方法一2.1读取</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;--------方法一2.1读取------------&quot;);</span></span><br><span class="line"><span class="comment">//        char[] buf = new char[1024];        //1024个字符</span></span><br><span class="line"><span class="comment">//        int count = 0;</span></span><br><span class="line"><span class="comment">//        while ((count=br.read(buf))!=-1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(new String(buf,0,count));</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//方法二2.2读取，一行一行地读取</span></span><br><span class="line">        System.out.println(<span class="string">&quot;--------方法二2.2读取------------&quot;</span>);</span><br><span class="line">        String line = <span class="keyword">null</span>; <span class="comment">//当行的内容为空时就读取结束</span></span><br><span class="line">        <span class="keyword">while</span> ((line=br.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>BufferedWriter</strong></p>
<p>bw.newLine();//BufferedWriter中的换行。在不同的系统中会自动写入不同的换行符，Windows    \r\n    linux   \n</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字符缓冲流BufferedWriter的使用：将内容写入文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 12:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">f1_BufferedWriter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建BufferedWriter对象</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\BufferedWriter创建的.txt&quot;</span>);</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line">        <span class="comment">//2、写入</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            bw.write(<span class="string">&quot;这是**BufferedWriter**写入的文件&quot;</span>);</span><br><span class="line">            bw.newLine();<span class="comment">//BufferedWriter中的换行。在不同的系统中会自动写入不同的换行符，Windows    \r\n    linux   \n</span></span><br><span class="line">            bw.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        bw.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;写入完成！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="9、打印流"><a href="#9、打印流" class="headerlink" title="9、打印流"></a>9、打印流</h5><p>字节打印流(<strong>PrintStream</strong>)和字符打印流(<strong>PrintWriter</strong>)</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qian_qian_123/article/details/82156496">打印流（CSDN）</a></p>
<p>PrintWriter() 封装了print()/println()方法（即可以使用  <strong>对象名称.print()/println()</strong>  来打印内容），支持写入后换行，支持数据原样打印。</p>
<p>字符打印流(<strong>PrintWriter</strong>)的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 演示PrintWriter的使用：打印流,数据原样打印。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 17:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">f2_PrintWriter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建打印流</span></span><br><span class="line">        PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2、打印</span></span><br><span class="line">        pw.println(<span class="number">97</span>);</span><br><span class="line">        pw.println(<span class="number">97222</span>);</span><br><span class="line">        pw.print(<span class="number">3.3212</span>);</span><br><span class="line">        pw.print(<span class="string">&quot;dfsdf&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        pw.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;打印完毕&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="10、转换流"><a href="#10、转换流" class="headerlink" title="10、转换流"></a>10、转换流</h5><p>可将字节流转换为字符流、可设置字符的编码方式。</p>
<p><strong>InputStreamReader类</strong>、<strong>OutputStreamWriter类</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lxzwhite/p/10668462.html">转换流（博客园）</a></p>
<p><strong>InputStreamReader的使用</strong></p>
<p>读取文件，指定使用的编码，要和读取的这个文件的编码一致，否则读取出来的内容可能是乱码的。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用InputStreamReader读取文件，指定使用的编码</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 17:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_InputStreamReader</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建InputStreamReader对象</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\aaa.txt&quot;</span>);</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">//2、读取文件</span></span><br><span class="line">        <span class="keyword">int</span> data = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((data = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        isr.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>OutputStreamWriter的使用</strong></p>
<p>把内容写入文件，使用指定的编码把内容写入文件。在程序中创建文件写入内容。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用OutputStreamWriter写入文件，使用指定的编码写入文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 17:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">g1_OutputStreamWriter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、创建OutputStreamWriter</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\g_使用OutputStreamWriter写入的文件.txt&quot;</span>);</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">&quot;gbk&quot;</span>); <span class="comment">//使用指定的GBK编码写内容进文件</span></span><br><span class="line">        <span class="comment">//2、写入</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            osw.write(<span class="string">&quot;这是写入的内容（第一版）\r\n&quot;</span>);</span><br><span class="line">            osw.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3、关闭</span></span><br><span class="line">        osw.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;写入完成！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="11、File类-文件和文件夹操作"><a href="#11、File类-文件和文件夹操作" class="headerlink" title="11、File类-文件和文件夹操作"></a>11、File类-文件和文件夹操作</h5><p>概念：代表物理盘符中的一个文件或者文件夹。</p>
<p>方法：</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955191.png" alt="image-20210930211223418" style="zoom: 80%;" />





<h6 id="1、文件操作"><a href="#1、文件操作" class="headerlink" title="1、文件操作"></a>1、文件操作</h6><p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件操作</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 17:57</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">h1_files</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//调用方法</span></span><br><span class="line">        Separator();</span><br><span class="line">        fileOpe();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//1、方法一：分隔符</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Separator</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;路径分隔符：&quot;</span>+ File.pathSeparator);</span><br><span class="line">        System.out.println(<span class="string">&quot;名称分隔符：&quot;</span>+File.separator);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2、方法二：文件操作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileOpe</span><span class="params">()</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、创建文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\h1_文件操作.txt&quot;</span>);</span><br><span class="line">        System.out.println(file.toString());</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> b = file.createNewFile();</span><br><span class="line">            System.out.println(<span class="string">&quot;创建的结果：&quot;</span> + b);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2、删除文件</span></span><br><span class="line"><span class="comment">//        //2.1直接删除</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;删除结果：&quot;+file.delete());</span></span><br><span class="line"><span class="comment">//        //2.2使用JVM退出时删除</span></span><br><span class="line"><span class="comment">//        file.deleteOnExit();</span></span><br><span class="line"><span class="comment">//        Thread.sleep(5000); //休息5000毫秒是为了看清删除的过程</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;2.2使用JVM退出时删除完成！&quot;);</span></span><br><span class="line">    <span class="comment">//获取文件信息</span></span><br><span class="line">        System.out.println(<span class="string">&quot;获取文件的绝对路径：&quot;</span>+file.getAbsolutePath());</span><br><span class="line">        System.out.println(<span class="string">&quot;获取路径：&quot;</span>+file.getPath());</span><br><span class="line">        System.out.println(<span class="string">&quot;获取文件名称：&quot;</span>+file.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;获取文件父目录：&quot;</span>+file.getParent());</span><br><span class="line">        System.out.println(<span class="string">&quot;获取文件长度：&quot;</span>+file.length());</span><br><span class="line">        System.out.println(<span class="string">&quot;获取文件创建时间：&quot;</span>+<span class="keyword">new</span> Date(file.lastModified()).toLocaleString());</span><br><span class="line">    <span class="comment">//4、判断</span></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------判断----------------------------------&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;文件是否可写：&quot;</span>+file.canWrite());</span><br><span class="line">        System.out.println(<span class="string">&quot;是否属于文件：&quot;</span> + file.isFile());</span><br><span class="line">        System.out.println(<span class="string">&quot;是否隐藏：&quot;</span>+file.isHidden());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、文件夹操作"><a href="#2、文件夹操作" class="headerlink" title="2、文件夹操作"></a>2、文件夹操作</h6><p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件夹操作</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 18:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">h1_FilesJia</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">            <span class="comment">//调用方法</span></span><br><span class="line">            Separator();</span><br><span class="line">            direcroryOpe();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//1、方法一：分隔符</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Separator</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;路径分隔符：&quot;</span>+ File.pathSeparator);</span><br><span class="line">            System.out.println(<span class="string">&quot;名称分隔符：&quot;</span>+File.separator);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、方法二：文件夹操作</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">direcroryOpe</span><span class="params">()</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">            <span class="comment">//1、创建文件夹</span></span><br><span class="line">            File dir = <span class="keyword">new</span> File(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\h1_文件夹操作&quot;</span>);</span><br><span class="line">            System.out.println(dir.toString());</span><br><span class="line">            <span class="keyword">if</span> (!dir.exists()) &#123;</span><br><span class="line"><span class="comment">//                dir.mkdir();    //只能创建单级目录</span></span><br><span class="line">                System.out.println(<span class="string">&quot;创建的结果：&quot;</span> +dir.mkdirs()); <span class="comment">//创建多级目录</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2、删除文件夹</span></span><br><span class="line"><span class="comment">//       //2.1直接删除，只能删除目录的文件夹，如果不是空目录要先手动删除文件夹里的文件</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;删除结果：&quot;+dir.delete());</span></span><br><span class="line"><span class="comment">//      //2.2使用JVM退出时删除</span></span><br><span class="line"><span class="comment">//        dir.deleteOnExit();</span></span><br><span class="line"><span class="comment">//        Thread.sleep(5000); //休息5000毫秒是为了看清删除的过程</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;2.2使用JVM退出时删除完成！&quot;);</span></span><br><span class="line">            <span class="comment">//获取文件信息</span></span><br><span class="line">            System.out.println(<span class="string">&quot;获取文件夹的绝对路径：&quot;</span>+dir.getAbsolutePath());</span><br><span class="line">            System.out.println(<span class="string">&quot;获取路径：&quot;</span>+dir.getPath());</span><br><span class="line">            System.out.println(<span class="string">&quot;获取文件夹名称：&quot;</span>+dir.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;获取文件夹父目录：&quot;</span>+dir.getParent());</span><br><span class="line">            System.out.println(<span class="string">&quot;获取文件夹长度：&quot;</span>+dir.length());</span><br><span class="line">            System.out.println(<span class="string">&quot;获取文件夹创建时间：&quot;</span>+<span class="keyword">new</span> Date(dir.lastModified()).toLocaleString());</span><br><span class="line">            <span class="comment">//4、判断</span></span><br><span class="line">            System.out.println(<span class="string">&quot;------------------------判断----------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;文件夹是否可写：&quot;</span>+dir.canWrite());</span><br><span class="line">            System.out.println(<span class="string">&quot;是否属于文件夹：&quot;</span> + dir.isDirectory());</span><br><span class="line">            System.out.println(<span class="string">&quot;是否隐藏：&quot;</span>+dir.isHidden());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//5、遍历文件夹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;----------------------------遍历文件夹里的文件----------------------------------&quot;</span>);</span><br><span class="line">            File dir2 = <span class="keyword">new</span> File(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\h1_文件夹操作_遍历文件夹&quot;</span>);</span><br><span class="line">            String[] files = dir2.list();</span><br><span class="line">            <span class="keyword">for</span> (String string:files) &#123;</span><br><span class="line">                System.out.println(string);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">路径分隔符：;</span><br><span class="line">名称分隔符：\</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作</span><br><span class="line">获取文件夹的绝对路径：D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作</span><br><span class="line">获取路径：D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作</span><br><span class="line">获取文件夹名称：h1_文件夹操作</span><br><span class="line">获取文件夹父目录：D:\MyITData\JavaIDEA\JavaStudy\firstJava\src</span><br><span class="line">获取文件夹长度：<span class="number">0</span></span><br><span class="line">获取文件夹创建时间：<span class="number">2021</span>-<span class="number">10</span>-<span class="number">1</span> <span class="number">18</span>:<span class="number">48</span>:<span class="number">31</span></span><br><span class="line">------------------------判断----------------------------------</span><br><span class="line">文件夹是否可写：<span class="keyword">true</span></span><br><span class="line">是否属于文件夹：<span class="keyword">true</span></span><br><span class="line">是否隐藏：<span class="keyword">false</span></span><br><span class="line">----------------------------遍历文件夹里的文件----------------------------------</span><br><span class="line">新建文本文档 - 副本 (<span class="number">2</span>).txt</span><br><span class="line">新建文本文档 - 副本 (<span class="number">3</span>).txt</span><br><span class="line">新建文本文档 - 副本 (<span class="number">4</span>).txt</span><br><span class="line">新建文本文档 - 副本 (<span class="number">5</span>).txt</span><br><span class="line">新建文本文档 - 副本 (<span class="number">6</span>).txt</span><br><span class="line">新建文本文档 - 副本.txt</span><br><span class="line">新建文本文档.txt</span><br></pre></td></tr></table></figure>



<h6 id="3、FileFilter接口-过滤器"><a href="#3、FileFilter接口-过滤器" class="headerlink" title="3、FileFilter接口-过滤器"></a>3、FileFilter接口-过滤器</h6><p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;------------------------------FileFilter的使用（过滤器）-------------------------&quot;</span>);</span><br><span class="line">File[] files1 = dir2.listFiles(<span class="keyword">new</span> FileFilter() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File pathname)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//过滤得到后缀为.txt的文件</span></span><br><span class="line">        <span class="keyword">return</span> pathname.getName().endsWith(<span class="string">&quot;.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">assert</span> files1 != <span class="keyword">null</span>;<span class="comment">//文件夹不能为空</span></span><br><span class="line"><span class="keyword">for</span> (File file:files1) &#123;</span><br><span class="line">    System.out.println(file.getName()); <span class="comment">//遍历后缀为.txt的文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="4、递归遍历文件夹——递归删除文件夹"><a href="#4、递归遍历文件夹——递归删除文件夹" class="headerlink" title="4、递归遍历文件夹——递归删除文件夹"></a>4、递归遍历文件夹——递归删除文件夹</h6><p>程序看不懂。</p>
<p><strong>例子</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 递归遍历文件夹、递归删除文件夹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/1 20:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">i_FIlesRecursion</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//调用方法</span></span><br><span class="line">        listDir(<span class="keyword">new</span> File(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\h1_文件夹操作_遍历文件夹&quot;</span>));</span><br><span class="line">        deleDir(<span class="keyword">new</span> File(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\h1_文件夹操作_遍历文件夹&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//递归遍历的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listDir</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">        File[] files=dir.listFiles();</span><br><span class="line">        System.out.println(dir.getAbsolutePath());</span><br><span class="line">        <span class="keyword">if</span>(files!=<span class="keyword">null</span>&amp;&amp;files.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (File file:files</span><br><span class="line">                 ) &#123;</span><br><span class="line">                <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">                    listDir(file);  <span class="comment">//递归</span></span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(file.getAbsolutePath());</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//递归删除的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleDir</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">        File[] files = dir.listFiles();</span><br><span class="line">        <span class="keyword">if</span>(files!=<span class="keyword">null</span>&amp;&amp;dir.length()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (File file:files) &#123;</span><br><span class="line">                <span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">                    deleDir(file); <span class="comment">//递归</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;    <span class="comment">//删除文件</span></span><br><span class="line">                    System.out.println(file.getAbsolutePath()+<span class="string">&quot;删除&quot;</span>+file.delete());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(dir.getAbsolutePath()+<span class="string">&quot;删除&quot;</span>+dir.delete());    <span class="comment">//删除文件夹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建 Microsoft Word 文档.docx</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建 XLS 工作表.xls</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">2</span>).txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">3</span>).txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">4</span>).txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">5</span>).txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">6</span>).txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本.txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档.txt</span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建 Microsoft Word 文档.docx删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建 XLS 工作表.xls删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">2</span>).txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">3</span>).txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">4</span>).txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">5</span>).txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本 (<span class="number">6</span>).txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档 - 副本.txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹\新建文本文档.txt删除<span class="keyword">true</span></span><br><span class="line">D:\MyITData\JavaIDEA\JavaStudy\firstJava\src\h1_文件夹操作_遍历文件夹删除<span class="keyword">true</span></span><br></pre></td></tr></table></figure>



<h4 id="二十二、网络编程"><a href="#二十二、网络编程" class="headerlink" title="二十二、网络编程"></a>二十二、网络编程</h4><h5 id="1、网络模型-OSI参考模型"><a href="#1、网络模型-OSI参考模型" class="headerlink" title="1、网络模型-OSI参考模型"></a>1、网络模型-OSI参考模型</h5><h5 id="2、网络模型-TCP-IP模型"><a href="#2、网络模型-TCP-IP模型" class="headerlink" title="2、网络模型-TCP/IP模型"></a>2、网络模型-TCP/IP模型</h5><h5 id="3、TCP协议"><a href="#3、TCP协议" class="headerlink" title="3、TCP协议"></a>3、TCP协议</h5><h5 id="4、UDP协议"><a href="#4、UDP协议" class="headerlink" title="4、UDP协议"></a>4、UDP协议</h5><h5 id="5、IP协议"><a href="#5、IP协议" class="headerlink" title="5、IP协议"></a>5、IP协议</h5><h5 id="6、InetAddress类"><a href="#6、InetAddress类" class="headerlink" title="6、InetAddress类"></a>6、InetAddress类</h5><h5 id="7、基于TCP协议的Socket网络编程"><a href="#7、基于TCP协议的Socket网络编程" class="headerlink" title="7、基于TCP协议的Socket网络编程"></a>7、基于TCP协议的Socket网络编程</h5><p>建立连接、接受请求、发送响应</p>
<h6 id="1、案例一："><a href="#1、案例一：" class="headerlink" title="1、案例一："></a>1、案例一：</h6><p>TCP编程实现客户端发送数据给服务端</p>
<h6 id="2、案例二："><a href="#2、案例二：" class="headerlink" title="2、案例二："></a>2、案例二：</h6><p>TCP编程实现客户端上传文件给服务端</p>
<h6 id="3、案例三："><a href="#3、案例三：" class="headerlink" title="3、案例三："></a>3、案例三：</h6><p>TCP编程实现多个客户端发送数据给服务端</p>
<h6 id="4、案例四："><a href="#4、案例四：" class="headerlink" title="4、案例四："></a>4、案例四：</h6><p>使用Socket实现注册登录</p>
<h4 id="二十三、反射"><a href="#二十三、反射" class="headerlink" title="二十三、反射"></a>二十三、反射</h4><h5 id="1、类的对象"><a href="#1、类的对象" class="headerlink" title="1、类的对象"></a>1、类的对象</h5><p>基于某个类new出来等对象，也称为<strong>实例对象</strong>。</p>
<h5 id="2、类对象——class对象-Class类的对象"><a href="#2、类对象——class对象-Class类的对象" class="headerlink" title="2、类对象——class对象(Class类的对象)"></a>2、类对象——class对象(Class类的对象)</h5><p>概念：类加载的产物，封装了一个类的所有信息（类名、父类、接口、属性、方法、构造方法）</p>
<p>要点：</p>
<ul>
<li><p>定义的一个类，无论创建多少个实例对象，在JVM中都只有一个Class对象与其对应，即：在内存中每个类有且只有一个相对应的Class对象；</p>
</li>
<li><p>Class类也是类的一种，其创建后的对象称作class对象；</p>
</li>
<li><p>创建一个Shapes类，编译Shapes类后就会创建其包含Shapes类相关类型信息的Class对象，并保存在Shapes.class字节码文件中；</p>
</li>
<li><p>Class类只有私有构造函数，因此对应Class对象只能有JVM创建和加载；</p>
</li>
<li><p>Class类的对象（即类对象）作用是运行时提供或获得某个对象的类型信息，这点对于反射技术很重要；</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/liuxiao723846/article/details/90346160">CSDN</a></p>
<h5 id="3、获取类对象"><a href="#3、获取类对象" class="headerlink" title="3、获取类对象"></a>3、获取类对象</h5><p><strong>1、通过类的对象获取类对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Student s = <span class="keyword">new</span> Student();</span><br><span class="line">Class c = s.getClass();</span><br></pre></td></tr></table></figure>

<p><strong>2、通过类名获取类对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class c = 类名.calss;</span><br></pre></td></tr></table></figure>

<p><strong>3、通过静态方法获取类对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class c = Class.forName(<span class="string">&quot;包名.类名&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>例子</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * \这个是测试类a1_GetClass的</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/2 16:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        getClazz();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取类对象的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">getClazz</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、使用对象获取类对象</span></span><br><span class="line">        a1_GetClass zhangsan = <span class="keyword">new</span> a1_GetClass();</span><br><span class="line">        Class&lt;?&gt; class1 = zhangsan.getClass();   <span class="comment">//泛型不知道要写什么就写一个？号吧</span></span><br><span class="line">        System.out.println(class1.hashCode());  <span class="comment">//打印类对象的哈希码</span></span><br><span class="line">        <span class="comment">//2、使用类名.class属性</span></span><br><span class="line">        Class&lt;?&gt; class2 = a1_GetClass.class;</span><br><span class="line">        System.out.println(class2.hashCode());</span><br><span class="line">        <span class="comment">//3、使用Class的静态方法【以后推荐使用这个来获取类对象】</span></span><br><span class="line">        Class&lt;?&gt; class3 =Class.forName(<span class="string">&quot;com.myjava.Reflect.a1_GetClass&quot;</span>);    <span class="comment">//包名.类名</span></span><br><span class="line">        System.out.println(class3.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、反射的常见操作"><a href="#4、反射的常见操作" class="headerlink" title="4、反射的常见操作"></a>4、反射的常见操作</h5><p>invoke()可以把方法参数化。</p>
<p>以下例子基于类<code>a1_GetClass.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取类对象的三种方法。这个是学生类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/2 16:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_GetClass</span> <span class="keyword">implements</span> <span class="title">Serializable</span>,<span class="title">Cloneable</span> </span>&#123;    <span class="comment">//这里实现两个标记接口，没有实际作用。这是为了test2中用反射查找类的接口。</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">a1_GetClass</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">a1_GetClass</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;a1_GetClass&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是无参eat方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span></span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;这是带参方法&quot;</span>+food);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">privateMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一个私有方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">staticMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一个静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="1、"><a href="#1、" class="headerlink" title="1、"></a><strong>1、</strong></h6><p><strong>使用反射获取类的名字、包名、父类、接口</strong></p>
<p><code>例子</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这个是测试类a1_GetClass的：反射常见操作</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/2 16:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        reflectOpe1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//反射常见操作：使用反射获取类的名字、包名、父类、接口</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reflectOpe1</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">//1、获取类对象</span></span><br><span class="line">        Class&lt;?&gt; class1 = Class.forName(<span class="string">&quot;com.myjava.Reflect.a1_GetClass&quot;</span>);</span><br><span class="line">        <span class="comment">//2、getName()</span></span><br><span class="line">        System.out.println(class1.getName());   <span class="comment">//获取带包名的类的名称</span></span><br><span class="line">        <span class="comment">//3、getPackage()</span></span><br><span class="line">        System.out.println(class1.getPackage());    <span class="comment">//获取包的名称</span></span><br><span class="line">        <span class="comment">//4、getSuperClass</span></span><br><span class="line">        System.out.println(class1.getSuperclass());     <span class="comment">//获取父类，即Object类</span></span><br><span class="line">        <span class="comment">//5、getInterfaces()     获取接口</span></span><br><span class="line">        Class&lt;?&gt;[] classes = class1.getInterfaces();</span><br><span class="line">        System.out.println(Arrays.toString(classes));      <span class="comment">//以数组形式输出接口名称</span></span><br><span class="line">        <span class="comment">//6、其他方法</span></span><br><span class="line">        System.out.println(class1.getSimpleName());        <span class="comment">//获取类名称，不带包名。不常用这个</span></span><br><span class="line">        System.out.println(class1.getTypeName());           <span class="comment">//获取带包名的类的名称</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、"><a href="#2、" class="headerlink" title="2、"></a><strong>2、</strong></h6><p><strong>使用反射获取类的构造方法，创建对象</strong></p>
<p><code>例子</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用反射获取类的构造方法，创建对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reflectOpe2</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;----使用反射获取类的构造方法，创建对象-----&quot;</span>);</span><br><span class="line">    <span class="comment">//1、获取类的类对象</span></span><br><span class="line">    Class&lt;?&gt; class2 = Class.forName(<span class="string">&quot;com.myjava.Reflect.a1_GetClass&quot;</span>);</span><br><span class="line">    <span class="comment">//2、获取类的构造方法Constructor，无参和有参</span></span><br><span class="line">    Constructor&lt;?&gt;[] cons = class2.getConstructors();</span><br><span class="line">    <span class="keyword">for</span>(Constructor&lt;?&gt; con:cons)&#123;</span><br><span class="line">        System.out.println(con.toString());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3、获取类中无参构造</span></span><br><span class="line">    Constructor&lt;?&gt; con = class2.getConstructor();</span><br><span class="line">    a1_GetClass zhangsan = (a1_GetClass)con.newInstance();</span><br><span class="line">    a1_GetClass lisi = (a1_GetClass)con.newInstance();</span><br><span class="line">    System.out.println(zhangsan.toString());</span><br><span class="line">    System.out.println(lisi.toString());</span><br><span class="line">    <span class="comment">//3、使用简便方法获取无参构造：类对象.newInstance();</span></span><br><span class="line">    a1_GetClass wangwu = (a1_GetClass)class2.newInstance();</span><br><span class="line">    System.out.println(wangwu.toString());</span><br><span class="line">    <span class="comment">//4、获取类中带参构造方法</span></span><br><span class="line">    Constructor&lt;?&gt; con2 = class2.getConstructor(String.class,<span class="keyword">int</span>.class);</span><br><span class="line">    a1_GetClass xiaoming = (a1_GetClass)con2.newInstance(<span class="string">&quot;小明&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    System.out.println(xiaoming.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>运行结果</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">----使用反射获取类的构造方法，创建对象-----</span><br><span class="line"><span class="keyword">public</span> com.myjava.Reflect.a1_GetClass()			<span class="comment">//无参构造方法</span></span><br><span class="line"><span class="keyword">public</span> com.myjava.Reflect.a1_GetClass(java.lang.String,<span class="keyword">int</span>)		<span class="comment">//有参构造方法</span></span><br><span class="line">a1_GetClass&#123;name=<span class="string">&#x27;null&#x27;</span>, age=<span class="number">0</span>&#125;		<span class="comment">//无参构造方法的例子，zhangsan</span></span><br><span class="line">a1_GetClass&#123;name=<span class="string">&#x27;null&#x27;</span>, age=<span class="number">0</span>&#125;		<span class="comment">//无参构造方法的例子,lisi</span></span><br><span class="line">a1_GetClass&#123;name=<span class="string">&#x27;null&#x27;</span>, age=<span class="number">0</span>&#125;		<span class="comment">//无参构造方法的例子,wangwu</span></span><br><span class="line">a1_GetClass&#123;name=<span class="string">&#x27;小明&#x27;</span>, age=<span class="number">20</span>&#125;		<span class="comment">//有参构造方法,xiaoming</span></span><br></pre></td></tr></table></figure>

<h6 id="3、"><a href="#3、" class="headerlink" title="3、"></a><strong>3、</strong></h6><p><strong>使用反射获取类中的方法，并调用方法</strong></p>
<p><code>例子</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//反射的常见操作三：使用反射获取类中的方法，并调用方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reflectOpe3</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;------三、使用反射获取类中的方法，并调用方法-----&quot;</span>);</span><br><span class="line">    <span class="comment">//1、获取类对象</span></span><br><span class="line">    Class&lt;?&gt; class1 = Class.forName(<span class="string">&quot;com.myjava.Reflect.a1_GetClass&quot;</span>);</span><br><span class="line">    <span class="comment">//2、获取方法Method对象</span></span><br><span class="line">    <span class="comment">//2.1getMethods()获取公开的方法，包括从父类继承的方法。不推荐</span></span><br><span class="line">    Method[] methods = class1.getMethods();</span><br><span class="line">    <span class="keyword">for</span> (Method method:methods) &#123;</span><br><span class="line">        System.out.println(method.toString());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.2getDeclaredMethods() 获取类中的所有方法，包括私有、默认、保护、不包含继承的方法</span></span><br><span class="line">    System.out.println(<span class="string">&quot;==================&quot;</span>);</span><br><span class="line">    Method[] methodss = class1.getDeclaredMethods();</span><br><span class="line">    <span class="keyword">for</span> (Method method:methodss) &#123;</span><br><span class="line">        System.out.println(method.toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3、获取单个方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.1 eat</span></span><br><span class="line">    Method eatMethod = class1.getMethod(<span class="string">&quot;eat&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.1.1调用无参方法 下面的是反射的调用的形式。正常的调用方法————》a1_GetClass zhangsan = new a1_GetClass();   zhangsan.eat();</span></span><br><span class="line">    System.out.println(<span class="string">&quot;------------3.1.1调用无参方法eat------------&quot;</span>);</span><br><span class="line">    a1_GetClass zhangsan = (a1_GetClass)class1.newInstance();</span><br><span class="line">    eatMethod.invoke(zhangsan);</span><br><span class="line">    <span class="comment">//3.1.2调用无参方法，以toString()形式输出</span></span><br><span class="line">    System.out.println(<span class="string">&quot;------3.1.2调用无参方法eat，以toString()形式输出-----&quot;</span>);</span><br><span class="line">    Method toStringMethod = class1.getMethod(<span class="string">&quot;toString&quot;</span>);</span><br><span class="line">    Object result = toStringMethod.invoke(zhangsan);</span><br><span class="line">    System.out.println(result);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.2带参的eat</span></span><br><span class="line">    System.out.println(<span class="string">&quot;------------3.2带参的eat------------&quot;</span>);</span><br><span class="line">    Method eatMethod2 = class1.getMethod(<span class="string">&quot;eat&quot;</span>,String.class);</span><br><span class="line">    eatMethod2.invoke(zhangsan,<span class="string">&quot;鸡腿&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.3获取私有方法</span></span><br><span class="line">    System.out.println(<span class="string">&quot;------------3.3获取私有方法------------&quot;</span>);</span><br><span class="line">    Method privateMethod = class1.getDeclaredMethod(<span class="string">&quot;privateMethod&quot;</span>);</span><br><span class="line">        <span class="comment">//设置访问权限无效</span></span><br><span class="line">    privateMethod.setAccessible(<span class="keyword">true</span>);  <span class="comment">//这个一定要设置</span></span><br><span class="line">    privateMethod.invoke(zhangsan);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.4 获取静态方法</span></span><br><span class="line">    System.out.println(<span class="string">&quot;------------3.4 获取静态方法------------&quot;</span>);</span><br><span class="line">    Method staticMethod = class1.getMethod(<span class="string">&quot;staticMethod&quot;</span>);</span><br><span class="line">        <span class="comment">//正常的调用是这个样子的——》a1_GetClass.staticMethod();</span></span><br><span class="line">    staticMethod.invoke(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>运行结果</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">------三、使用反射获取类中的方法，并调用方法-----</span><br><span class="line"><span class="keyword">public</span> java.lang.String com.myjava.Reflect.a1_GetClass.toString()</span><br><span class="line"><span class="keyword">public</span> java.lang.String com.myjava.Reflect.a1_GetClass.getName()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.setName(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.staticMethod()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.eat(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.eat()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> com.myjava.Reflect.a1_GetClass.getAge()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.setAge(<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> java.lang.Object.wait() <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> java.lang.Object.wait(<span class="keyword">long</span>,<span class="keyword">int</span>) <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.wait(<span class="keyword">long</span>) <span class="keyword">throws</span> java.lang.InterruptedException</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> java.lang.Object.equals(java.lang.Object)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">int</span> java.lang.Object.hashCode()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> java.lang.Class java.lang.Object.getClass()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.notify()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> java.lang.Object.notifyAll()</span><br><span class="line">==================</span><br><span class="line"><span class="keyword">public</span> java.lang.String com.myjava.Reflect.a1_GetClass.toString()</span><br><span class="line"><span class="keyword">public</span> java.lang.String com.myjava.Reflect.a1_GetClass.getName()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.setName(java.lang.String)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.privateMethod()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.staticMethod()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.eat(java.lang.String)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.eat()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> com.myjava.Reflect.a1_GetClass.getAge()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> com.myjava.Reflect.a1_GetClass.setAge(<span class="keyword">int</span>)</span><br><span class="line">------------<span class="number">3.1</span><span class="number">.1</span>调用无参方法eat------------</span><br><span class="line">这是无参eat方法</span><br><span class="line">------<span class="number">3.1</span><span class="number">.2</span>调用无参方法eat，，以toString()形式输出-----</span><br><span class="line">a1_GetClass&#123;name=<span class="string">&#x27;null&#x27;</span>, age=<span class="number">0</span>&#125;</span><br><span class="line">------------<span class="number">3.2</span>带参的eat------------</span><br><span class="line"><span class="keyword">null</span>这是带参方法鸡腿</span><br><span class="line">------------<span class="number">3.3</span>获取私有方法------------</span><br><span class="line">这是一个私有方法</span><br><span class="line">------------<span class="number">3.4</span> 获取静态方法------------</span><br><span class="line">这是一个静态方法</span><br></pre></td></tr></table></figure>



<h6 id="4、"><a href="#4、" class="headerlink" title="4、"></a><strong>4、</strong></h6><p><strong>使用反射实现一个可以调用任何对象方法的通用方法</strong></p>
<p><code>例子</code></p>
<p>main函数中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//        //这是操作四的一般情况下添加元素的例子</span></span><br><span class="line"><span class="comment">//        Properties properties = new Properties();   //实例化一个属性集合</span></span><br><span class="line"><span class="comment">//        properties.setProperty(&quot;name&quot;,&quot;zhangsan&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;这是操作四的一般情况下添加元素的例子:&quot;+properties.toString());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//这是用反射的操作四</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        invokeAny(properties,<span class="string">&quot;setProperty&quot;</span>,<span class="keyword">new</span> Class[]&#123;String.class,String.class&#125;,<span class="string">&quot;username&quot;</span>,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;这是用反射的操作四-调用任何对象方法的通用方法:&quot;</span>+properties.toString());</span><br></pre></td></tr></table></figure>

<p>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//反射的常见操作四：使用反射实现一个可以调用任何对象方法的通用方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">invokeAny</span><span class="params">(Object obj,String methodName,Class&lt;?&gt;[] types,Object... args)</span> <span class="keyword">throws</span> Exception</span>&#123;     <span class="comment">//这个方法一共有四个参数，可以调用任何对象方法</span></span><br><span class="line">    System.out.println(<span class="string">&quot;----四、使用反射实现一个可以调用任何对象方法的通用方法-----&quot;</span>);</span><br><span class="line">    <span class="comment">//1、获取类对象</span></span><br><span class="line">    Class&lt;?&gt; class1 = obj.getClass();</span><br><span class="line">    <span class="comment">//2、获取方法</span></span><br><span class="line">    Method method = class1.getMethod(methodName,types);</span><br><span class="line">    <span class="comment">//3、调用</span></span><br><span class="line">    <span class="keyword">return</span> method.invoke(obj,args);        <span class="comment">//有一个Object类型，所以要return一下</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="5、"><a href="#5、" class="headerlink" title="5、"></a><strong>5、</strong></h6><p><strong>使用反射获取类中的属性</strong></p>
<p><code>例子</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//反射的常见操作五：使用反射获取类中的属性</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reflectOpe4</span><span class="params">()</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;-------五、使用反射获取类中的属性---------&quot;</span>);</span><br><span class="line">    <span class="comment">//1、获取类对象</span></span><br><span class="line">     Class&lt;?&gt; class1 = Class.forName(<span class="string">&quot;com.myjava.Reflect.a1_GetClass&quot;</span>);</span><br><span class="line">     <span class="comment">//2、getDeclaredFields();获取所有的属性，包括私有，默认，包含</span></span><br><span class="line">     Field[] fields = class1.getDeclaredFields();</span><br><span class="line">     System.out.println(fields.length);</span><br><span class="line">     <span class="keyword">for</span> (Field field:fields) &#123;</span><br><span class="line">         System.out.println(field.toString());</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//3、获取单个属性并赋值</span></span><br><span class="line">     Field namefield = class1.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">     namefield.setAccessible(<span class="keyword">true</span>);     <span class="comment">//加这一句可以获取私有的属性</span></span><br><span class="line">            <span class="comment">//赋值</span></span><br><span class="line">     a1_GetClass zhangsan = (a1_GetClass)class1.newInstance();</span><br><span class="line">     namefield.set(zhangsan,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">     System.out.println(namefield.get(zhangsan));</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h5 id="5、设计模式"><a href="#5、设计模式" class="headerlink" title="5、设计模式"></a>5、设计模式</h5><p>概念：特定问题的固定解决方法。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955192.png" alt="image-20211003212028321" style="zoom:80%;" />



<p><a target="_blank" rel="noopener" href="https://www.runoob.com/design-pattern/design-pattern-intro.html">菜鸟教程-有23种设计模式</a></p>
<p>设计模式（Design pattern）代表了最佳的实践，通常被有经验的面向对象的软件开发人员所采用。设计模式是软件开发人员在软件开发过程中面临的一般问题的解决方案。这些解决方案是众多软件开发人员经过相当长的一段时间的试验和错误总结出来的。</p>
<h6 id="1、工厂设计模式"><a href="#1、工厂设计模式" class="headerlink" title="1、工厂设计模式"></a>1、工厂设计模式</h6><p>概念：这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。在工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个共同的接口来指向新创建的对象。可通过反射进行工厂模式的设计完成动态的对象创建 。</p>
<ul>
<li><p>开闭原则，对扩展开放，对修改关闭；</p>
</li>
<li><p>使用工厂模式，就需要引入一个工厂类。</p>
</li>
<li><p>复杂对象适合使用工厂模式，而简单对象，特别是只需要通过 new 就可以完成创建的对象，无需使用工厂模式。</p>
</li>
</ul>
<p><strong>普通</strong></p>
<p><code>例子</code></p>
<p>接口<code>b1_fUsb.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工厂模式：父类产品:USB接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">b1_fUsb</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">service</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现接口<code>b1_fan.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**工厂模式</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_fan</span> <span class="keyword">implements</span> <span class="title">b1_fUsb</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;风扇开始工作了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>工厂类<code>b1_USBFactory.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工厂类1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_USBFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> b1_fUsb <span class="title">createUSB</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">        b1_fUsb USB = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(type==<span class="number">1</span>)&#123;</span><br><span class="line">            USB=<span class="keyword">new</span> b1_mouse();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type==<span class="number">2</span>)&#123;</span><br><span class="line">            USB=<span class="keyword">new</span> b1_fan();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type==<span class="number">3</span>)&#123;</span><br><span class="line">            USB = <span class="keyword">new</span> b1_Upan();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> USB;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试<code>b1_testFactory.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试工厂模式：未使用反射</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_testFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----没有使用反射的工厂模式————请选择：1鼠标2风扇3U盘————b1_USBFactory----------------&quot;</span>);</span><br><span class="line">        Scanner input=<span class="keyword">new</span> Scanner((System.in));</span><br><span class="line">        <span class="keyword">int</span> choice = input.nextInt();</span><br><span class="line">        b1_fUsb usb = b1_USBFactory.createUSB(choice);</span><br><span class="line">        <span class="keyword">if</span>(usb!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;购买成功&quot;</span>);</span><br><span class="line">            usb.service();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;购买失败，您要购买的产品不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-----没有使用反射的工厂模式————请选择：<span class="number">1</span>鼠标<span class="number">2</span>风扇3U盘————b1_USBFactory----------------</span><br><span class="line"><span class="number">1</span></span><br><span class="line">购买成功</span><br><span class="line">鼠标开始工作了</span><br></pre></td></tr></table></figure>



<p><strong>使用反射优化工厂模式</strong></p>
<p><code>例子</code></p>
<p>与普通的工厂模式相比只是工厂类和测试不同，并添加了一个java的配置文件<code>b1_usb.properties</code></p>
<p>工厂类<code>b1_USBFactory2.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工程类2：使用反射的工厂模式</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_USBFactory2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  b1_fUsb <span class="title">createUsb</span><span class="params">(String type)</span></span>&#123;</span><br><span class="line">        b1_fUsb usb = <span class="keyword">null</span>;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            class1 = Class.forName(type);</span><br><span class="line">            usb=(b1_fUsb)class1.newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> usb;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置文件<code>b1_usb.properties</code></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这个是注释</span></span><br><span class="line"><span class="comment">#这个文件是工程模式文件</span></span><br><span class="line"><span class="comment">#后缀为properties的文件是java的配置文件</span></span><br><span class="line"><span class="attr">1</span>=<span class="string">com.myjava.Reflect.b1_Upan</span></span><br><span class="line"><span class="attr">2</span>=<span class="string">com.myjava.Reflect.b1_fan</span></span><br><span class="line"><span class="attr">3</span>=<span class="string">com.myjava.Reflect.b1_mouse</span></span><br><span class="line"><span class="attr">4</span>=<span class="string">com.myjava.Reflect.b1_keyBoard</span></span><br></pre></td></tr></table></figure>

<p>测试<code>b1_ReflectFactory.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试工厂模式：使用反射优化工厂模式</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/4 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_ReflectFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----使用反射优化工厂模式————请选择：1U盘2风扇3鼠标4键盘————b1_USBFactory2-----------&quot;</span>);</span><br><span class="line">        Scanner input=<span class="keyword">new</span> Scanner((System.in));</span><br><span class="line">        String choice = input.next();</span><br><span class="line"><span class="comment">//// 1=com.myjava.Reflect.b1_Upan</span></span><br><span class="line"><span class="comment">// 2=com.myjava.Reflect.b1_fan</span></span><br><span class="line"><span class="comment">// 3=com.myjava.Reflect.b1_mouse</span></span><br><span class="line"><span class="comment">// 4=com.myjava.Reflect.b1_keyBoard</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\MyITData\\JavaIDEA\\JavaStudy\\firstJava\\src\\com\\myjava\\Reflect\\b1_usb.properties&quot;</span>);</span><br><span class="line">        properties.load(fis);</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line">        b1_fUsb usb = b1_USBFactory2.createUsb(properties.getProperty(choice));</span><br><span class="line">        <span class="keyword">if</span>(usb!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;购买成功&quot;</span>);</span><br><span class="line">            usb.service();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;购买失败，产品不存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-----使用反射优化工厂模式————请选择：1U盘<span class="number">2</span>风扇<span class="number">3</span>鼠标<span class="number">4</span>键盘————b1_USBFactory2-----------</span><br><span class="line"><span class="number">4</span></span><br><span class="line">购买成功</span><br><span class="line">键盘开工作了</span><br></pre></td></tr></table></figure>

<h6 id="2、单例模式-Singleton"><a href="#2、单例模式-Singleton" class="headerlink" title="2、单例模式-Singleton"></a>2、单例模式-Singleton</h6><p>只允许创建一个该类的对象。</p>
<p>概念：这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。</p>
<p><strong>注意：</strong></p>
<ul>
<li>1、单例类只能有一个实例。</li>
<li>2、单例类必须自己创建自己的唯一实例。</li>
<li>3、单例类必须给所有其他对象提供这一实例。</li>
</ul>
<p><strong>饿汉式</strong>：类加载是创建，天生线程安全。优点：线程安全。缺点：生命周期太长，浪费空间。</p>
<p><code>例子</code></p>
<p>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 饿汉式单李：线程安全</span></span><br><span class="line"><span class="comment"> * 1、首先创建一个常量</span></span><br><span class="line"><span class="comment"> * 2、构造方法改成私有的，类外部不能创建对象</span></span><br><span class="line"><span class="comment"> * 3、通过一个公开的方法，返回这个对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/5 9:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_SingleTon</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> c1_SingleTon instance = <span class="keyword">new</span> c1_SingleTon();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">c1_SingleTon</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> c1_SingleTon <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 饿汉式单例的测试</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/5 9:14</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_testSingleTon</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    System.out.println(c1_SingleTon.getInstance().hashCode());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1801285456</span></span><br><span class="line"><span class="number">1801285456</span></span><br><span class="line"><span class="number">1801285456</span></span><br></pre></td></tr></table></figure>



<p><strong>懒汉式1</strong>：使用时创建，线程不安全，加同步。优点：生命周期短，节省空间。缺点：存在线程安全问题，解决这个问题可以同步代码块或者同步方法来解决线程安全问题。</p>
<p><code>例子</code></p>
<p>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 懒汉式单例：线程不安全。为了线程安全可以进行同步方法或者同步代码块</span></span><br><span class="line"><span class="comment"> * 1、首先创建一个对象，复制为null</span></span><br><span class="line"><span class="comment"> * 2、构造方法改成私有的，类外部不能创建对象</span></span><br><span class="line"><span class="comment"> * 3、通过一个公开的方法，返回这个对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/5 9:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_SingleTon2</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> c2_SingleTon2 instance = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//私有化构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">c2_SingleTon2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法一：同步方法</span></span><br><span class="line">    <span class="comment">//静态方法</span></span><br><span class="line"><span class="comment">//    public static synchronized c2_SingleTon2 getInstance()&#123;     //这里要进行同步，才会打印出一样的hashcode，所以加了synchronized同步方法，这是方法一</span></span><br><span class="line"><span class="comment">//        if(instance==null)&#123;</span></span><br><span class="line"><span class="comment">//            instance=new c2_SingleTon2();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        return instance;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法二：同步代码块</span></span><br><span class="line">    <span class="comment">//静态方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> c2_SingleTon2 <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="keyword">null</span>)&#123;     <span class="comment">//提高执行效率</span></span><br><span class="line">            <span class="keyword">synchronized</span> (c2_SingleTon2.class)&#123;     <span class="comment">//这就是方法二：同步代码块了</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> c2_SingleTon2();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/5 9:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_testSingleTon2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    System.out.println(c2_SingleTon2.getInstance().hashCode());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">661713944</span></span><br><span class="line"><span class="number">661713944</span></span><br><span class="line"><span class="number">661713944</span></span><br></pre></td></tr></table></figure>



<p><strong>懒汉式2</strong>：使用时创建，线程安全。使用了静态内部类</p>
<p>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单例模式：懒汉式的第二种情况.使用静态内部类的写法。线程安全</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_SingleTon3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">c2_SingleTon3</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Holder</span></span>&#123;</span><br><span class="line">        <span class="keyword">static</span> c2_SingleTon3 instance=<span class="keyword">new</span> c2_SingleTon3();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> c2_SingleTon3 <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Holder.instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**懒汉式2的测试</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:14</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_testSingleTon3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    System.out.println(c2_SingleTon3.getInstance().hashCode());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6、枚举类型"><a href="#6、枚举类型" class="headerlink" title="6、枚举类型"></a>6、枚举类型</h5><p>枚举是一个引用类型，枚举是一个规定了取值范围的数据类型。</p>
<p>枚举中必须包含常量，可以包含属性、方法、私有构造方法</p>
<p>枚举常见必须在前面，多个常量之间使用逗号分离，最后的分号可写可不写。</p>
<p><code>例子</code></p>
<p>枚举</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**枚举</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span>  <span class="title">d1_enum</span> </span>&#123;</span><br><span class="line">    MALE,FEMALE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>枚举</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**枚举</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">d1_enum2</span> </span>&#123;</span><br><span class="line">    spring,summer,fall,winter</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试枚举</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_testEnum</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        d1_enum gender=d1_enum.MALE;</span><br><span class="line">        System.out.println(gender.toString());</span><br><span class="line">        d1_enum2 season = d1_enum2.spring;</span><br><span class="line">        System.out.println(season.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后还有一个内容是枚举和switch配合使用的例子，没有写。</p>
<h5 id="7、注解类型"><a href="#7、注解类型" class="headerlink" title="7、注解类型"></a>7、注解类型</h5><p>概念：代码里的特殊标记，程序可以读取注解，一般用于替代配置文件。如@Override</p>
<p>定义注解使用@interface关键字，注解中只能包含属性</p>
<p><code>例子</code></p>
<p>注解1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**注解1:创建注解类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> e1_Annotation &#123;</span><br><span class="line">    <span class="comment">//属性（类似方法）</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注解2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 注解2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:54</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> e1_Annotation2 &#123;</span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">    <span class="comment">//字符串类型</span></span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//基本类型</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">num</span><span class="params">()</span> <span class="keyword">default</span> 20</span>;   <span class="comment">//设置了默认值</span></span><br><span class="line">    <span class="comment">//class类型</span></span><br><span class="line">    Class&lt;?&gt; class1();</span><br><span class="line">    <span class="function">d1_enum <span class="title">gender</span><span class="params">()</span></span>;   <span class="comment">//枚举类型</span></span><br><span class="line">    <span class="comment">//注解类型</span></span><br><span class="line">    <span class="function">e1_Annotation <span class="title">annotation</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注解3</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 注解3</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Retention(value = RetentionPolicy.RUNTIME)</span>     <span class="comment">//指定注解可保留的域</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> e1_Annotation3 &#123;</span><br><span class="line">    <span class="comment">//注解的属性，类似方法</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">sex</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 调用注解</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 17:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_testAn</span> </span>&#123;    <span class="comment">//这个没有main函数，不能运行，只是提供了使用反射获取注解的信息</span></span><br><span class="line">    <span class="meta">@e1_Annotation(name = &quot;张三&quot;,age = 20)</span>    <span class="comment">//这一步只是为了演示调用注解，没有什么实际作用</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@e1_Annotation3(name=&quot;小明&quot;,age = 20,sex = &quot;男&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(String name,<span class="keyword">int</span> age,String sex)</span></span>&#123;   <span class="comment">//这个show()方法是上面show()方法的重载</span></span><br><span class="line">        System.out.println(name+<span class="string">&quot;---------&quot;</span>+age+<span class="string">&quot;----&quot;</span>+sex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用反射获取注解信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.Reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用反射获取注解信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/6 18:08</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">e1_ReflectAnnotation</span>  </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1、获取类对象</span></span><br><span class="line">        Class&lt;?&gt; class1 =Class.forName(<span class="string">&quot;com.myjava.Reflect.e1_testAn&quot;</span>);</span><br><span class="line">        <span class="comment">//2、获取方法</span></span><br><span class="line">        Method method=class1.getMethod(<span class="string">&quot;show&quot;</span>,String.class,<span class="keyword">int</span>.class,String.class);</span><br><span class="line">        <span class="comment">//3、获取方法上面的注解信息e1_Annotation3=null</span></span><br><span class="line">        e1_Annotation3 person = method.getAnnotation(e1_Annotation3.class);</span><br><span class="line">        <span class="comment">//4、打印注解信息</span></span><br><span class="line">        System.out.println(person.name());</span><br><span class="line">        System.out.println(person.age());</span><br><span class="line">        System.out.println(person.sex());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5、调用方法</span></span><br><span class="line">        e1_testAn xiaoming = (e1_testAn)class1.newInstance();</span><br><span class="line">        method.invoke(xiaoming,person.name(),person.age(),person.sex());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="1、使用反射获取注解信息"><a href="#1、使用反射获取注解信息" class="headerlink" title="1、使用反射获取注解信息"></a>1、使用反射获取注解信息</h6><p><code>例子</code>在上面</p>
<h6 id="2、元注解"><a href="#2、元注解" class="headerlink" title="2、元注解"></a>2、元注解</h6><p>用来描述注解的注解。</p>
<p>@Retention        @Target</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955193.png" alt="image-20211003223336639"></p>
<h4 id="二十四、Java8"><a href="#二十四、Java8" class="headerlink" title="二十四、Java8"></a>二十四、Java8</h4><h5 id="1、Lambda表示式"><a href="#1、Lambda表示式" class="headerlink" title="1、Lambda表示式"></a>1、Lambda表示式</h5><p>java8中一个非常重要的特性就是lambda表达式，可以把它看成是一种闭包，它<code>允许把函数当做参数来使用，将函数作为方法的一个参数</code>。</p>
<p><code>只有函数式接口才能使用lambda表达式</code>，可以使用注解**@FunctionalInterface**来检测是否是函数式接口。</p>
<p><code>java的Lambda表达式基本语法</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;函数式接口&gt;&lt;变量名&gt; =（参数<span class="number">1</span>,参数<span class="number">2</span>,……)-&gt;&#123;</span><br><span class="line">		<span class="comment">//方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常见函数式接口</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955194.png" alt="image-20211006223327549" style="zoom:67%;" />





<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/majianxin1/article/details/102604000">CSDN</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/kingsonfu/p/11047116.html">博客园</a></p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/4585794?fr=aladdin">百度百科Lambda表达式概念</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=442">B站</a></p>
<p><strong>java中lambda表达式的运算符为-&gt;</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955195.png" alt="image-20211006222314313" style="zoom: 80%;" />

<h5 id="2、函数式接口"><a href="#2、函数式接口" class="headerlink" title="2、函数式接口"></a>2、函数式接口</h5><h6 id="1、常见函数式接口"><a href="#1、常见函数式接口" class="headerlink" title="1、常见函数式接口"></a>1、常见函数式接口</h6><p>JDK 1.8 之前已有的函数式接口:</p>
<ul>
<li>java.lang.Runnable</li>
<li>java.util.concurrent.Callable</li>
<li>java.security.PrivilegedAction</li>
<li>java.util.Comparator</li>
<li>java.io.FileFilter</li>
<li>java.nio.file.PathMatcher</li>
<li>java.lang.reflect.InvocationHandler</li>
<li>java.beans.PropertyChangeListener</li>
<li>java.awt.event.ActionListener</li>
<li>javax.swing.event.ChangeListener</li>
</ul>
<p>JDK 1.8 新增加的函数接口：</p>
<ul>
<li>java.util.function</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/java/java8-functional-interfaces.html">菜鸟教程-函数式接口</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/heimianshusheng/p/5672641.html">博客园</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Demo_Null/article/details/106204078">csdn的完整代码</a></p>
<h5 id="3、方法引用"><a href="#3、方法引用" class="headerlink" title="3、方法引用"></a>3、方法引用</h5><p>概念：是Lambda表达式的一种简写形式，如果Lambda表达式的方法体中只是调用一个特定的已存在的方法，则可以使用方法引用。</p>
<p>常见形式</p>
<ul>
<li>对象::实例方法</li>
<li>类::静态方法</li>
<li>类::实例方法</li>
<li>类::new</li>
<li>数组::new</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lkforce/article/details/99682885">CSDN中的完整代码</a></p>
<h5 id="4、Stream-API"><a href="#4、Stream-API" class="headerlink" title="4、Stream API"></a>4、Stream API</h5><p>Stream API把对数据的操作封装成一个流。</p>
<p>Stream(流)中保存对集合或数组数据的操作。和集合类似，但集合中保存的是数据。Stream不是数据结构，不会保存数据。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mu_wind/article/details/109516995">CSDN</a></p>
<p>中间操作、终止操作</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>键</th>
<th>中间操作</th>
<th>终端操作</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>基本的</td>
<td>这些操作用于管道化其他方法并转换为其他流</td>
<td>Java中的终端操作是作为最后步骤应用于流的方法。</td>
</tr>
<tr>
<td>2</td>
<td>返回类型</td>
<td>他们只返回另一个流。</td>
<td>他们返回最终结果。</td>
</tr>
<tr>
<td>3</td>
<td>方法</td>
<td>sorted(Comparator<T>) peek(Consumer<T>) distinct()</td>
<td>forEach count toArray</td>
</tr>
<tr>
<td>4</td>
<td>用例</td>
<td>这些操作应用于将流转换为另一个流</td>
<td>它们可以用来产生结果。</td>
</tr>
</tbody></table>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955196.png" alt="image-20211007105803504" style="zoom:50%;" />

<h5 id="5、新时间API"><a href="#5、新时间API" class="headerlink" title="5、新时间API"></a>5、新时间API</h5><p>因为之前的时间会出现线程安全的问题，且设计混乱，所以有了这个新时间API。</p>
<ul>
<li><p>本地化日期时间API</p>
<p>LocalDate</p>
<p>LocalTime</p>
<p>LocalDateTime</p>
</li>
<li><p>Instant：时间戳</p>
</li>
<li><p>ZoneId：时区</p>
</li>
<li><p>Date、Instant、LocalDateTime指间的转换</p>
</li>
<li><p>DateTimeFormatter：格式化类。线程安全。</p>
</li>
</ul>
<p><code>2021/10/07学完Java SE</code></p>
<hr>
<h3 id="Java-Web"><a href="#Java-Web" class="headerlink" title="Java Web"></a><strong>Java Web</strong></h3><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955197.png" alt="image-20211007111726667" style="zoom:70%;" />

<h4 id="如何创建一个文Web项目"><a href="#如何创建一个文Web项目" class="headerlink" title="如何创建一个文Web项目"></a>如何创建一个文Web项目</h4><p>常见的工具类：DbUtils、DateUtils、DaoUtils</p>
<h4 id="一、数据库基础"><a href="#一、数据库基础" class="headerlink" title="一、数据库基础"></a>一、数据库基础</h4><p>CRUD</p>
<p>一些SQL操作。以下是在腾讯服务器的mysql中的mydb1数据库中操作的。TXmysql</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student2(</span><br><span class="line"></span><br><span class="line">studentID <span class="type">INT</span>,</span><br><span class="line">name <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">age <span class="type">INT</span></span><br><span class="line"></span><br><span class="line">)charset<span class="operator">=</span>utf8;	#指定该表存储数据的字符集</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> student2;	#查询</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 给表格student新增一个列class</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> class <span class="type">VARCHAR</span>(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (`name`,age,studentID,class) <span class="keyword">VALUES</span>(<span class="string">&#x27;小花&#x27;</span>,<span class="number">005</span>,<span class="number">19</span>,<span class="string">&#x27;1班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">001</span>,<span class="string">&#x27;小明&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;1班&#x27;</span>);		<span class="comment">-- 001为什么不是显示001，而是显示1？？</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">002</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="number">21</span>,<span class="string">&#x27;1班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">003</span>,<span class="string">&#x27;小蓝&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1班&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">004</span>,<span class="string">&#x27;小红&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;1班&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改错误数值</span></span><br><span class="line"></span><br><span class="line">UPDATE student <span class="keyword">SET</span> studentID <span class="operator">=</span> <span class="number">005</span>,age <span class="operator">=</span> <span class="number">19</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;小花&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> studentID;	#默认是升序排序升序用<span class="keyword">asc</span>，降序用<span class="keyword">desc</span>。<span class="keyword">order</span> <span class="keyword">by</span> 列名 <span class="keyword">desc</span>	按降序排序</span><br></pre></td></tr></table></figure>



<h4 id="二、JDBC"><a href="#二、JDBC" class="headerlink" title="二、JDBC"></a>二、JDBC</h4><p><strong>java连接数据库时，应先在项目中创建一个<code>lib</code>文件夹，把驱动<code>mysql-connector-java-5.1.49-bin.jar</code>复制到lib文件夹中，然后右键该驱动选择 <code>add as library</code>，添加驱动到项目中。添加好后驱动Driver路径一般在<code>lib\mysql-connector-java-5.1.49-bin.jar!\com\mysql\jdbc\Driver</code>，这样才能使用语法来连接MySQL数据库</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955198.png" alt="image-20211024113157631" style="zoom:67%;" />



<h5 id="1、安装MySQL驱动"><a href="#1、安装MySQL驱动" class="headerlink" title="1、安装MySQL驱动"></a>1、安装MySQL驱动</h5><p>下载：<a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/c-j/">mysql5.7驱动下载</a>——这里只是随便挑选了一个适合MySQL5.7的驱动，官网还有很多适合MySQL5.7的驱动。另MySQL8.0的驱动也在官网找。</p>
<p>配置过程：结合<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=504&spm_id_from=pageDriver">B站视频</a>和<a target="_blank" rel="noopener" href="https://blog.csdn.net/Cbelieveyouself/article/details/116720987">csdn</a></p>
<h5 id="2、测试连接"><a href="#2、测试连接" class="headerlink" title="2、测试连接"></a>2、测试连接</h5><p>将IDEA中的过程项目连接到MySQL数据库（即JDBC）</p>
<p>结合<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=504&spm_id_from=pageDriver">B站视频</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * JDBCmysql驱动测试连接</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/11 23:02</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">a1_jdbc</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1、注册驱动、加载驱动</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);     <span class="comment">//com.mysql.jdbc.Driver这个是驱动Driver的包路径</span></span><br><span class="line">        <span class="comment">//获取连接</span></span><br><span class="line"><span class="comment">//        String url = &quot;jdbc:mysql://1.117.236.80:3306/mydb1?useSSL=false&quot;;    //我这里连接了腾讯服务器中的mysql，mydb1是mysql中的一个数据库。如果要连接本机的MySQL使用jdbc:mysql://localhost:3306/数据库名称</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:mysql://localhost:3306/mydb1?useSSL=false&quot;</span>;  <span class="comment">//连接本地的MySQL的mydb1数据库，mydb1数据库要先创建</span></span><br><span class="line"></span><br><span class="line">        String user = <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="comment">//        String password = &quot;123456&quot;;   //腾讯服务器的mysql连接密码</span></span><br><span class="line">        String password = <span class="string">&quot;1234&quot;</span>;     <span class="comment">//本地的mysql连接密码</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(url,user,password);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(connection!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;成功连接到MySQL中的mydb1数据库！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;数据库连接失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、JDBC开发步骤"><a href="#3、JDBC开发步骤" class="headerlink" title="3、JDBC开发步骤"></a>3、JDBC开发步骤</h5><p><code>executeUpdate(sql语句);</code>增、删、改都是这个</p>
<p><code>executeQuery(sql语句);</code>接收结果集</p>
<h5 id="4、ResultSet（结果集）"><a href="#4、ResultSet（结果集）" class="headerlink" title="4、ResultSet（结果集）"></a>4、ResultSet（结果集）</h5><p>遍历结果集中的数据，ResultSet是否存在记录，用next这个方法，next会滚动一条记录第一条数据。</p>
<h5 id="5、JDBC综合案例之登录"><a href="#5、JDBC综合案例之登录" class="headerlink" title="5、JDBC综合案例之登录"></a>5、JDBC综合案例之登录</h5><p>java综合案例之登录:使用ResultSet结果集。获取数据库JavaTest中的表格users中的name和age作为登录的用户名和密码（这个例子连接的是VM的虚拟机）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java综合案例之登录:使用ResultSet结果集。获取数据库JavaTest中的表格users中的name和age作为登录的用户名和密码（这个例子连接的是VM的虚拟机）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/24 11:19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b1_AnliLogin</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;输入用户名：&quot;</span>);</span><br><span class="line">        String username = scanner.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;输入密码：&quot;</span>);</span><br><span class="line">        String password = scanner.next();</span><br><span class="line"></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//连接VMcentos7克隆中docker的Mymysql数据库</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://192.168.222.136:3306/JavaTest?useSSL=false&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="comment">//登录，并使用结果集ResSet获取数据</span></span><br><span class="line">        Statement statement = connection.createStatement();</span><br><span class="line">        ResultSet resultSet = statement.executeQuery(<span class="string">&quot;select *from users where name=&#x27;&quot;</span>+username+<span class="string">&quot;&#x27;and age=&#x27;&quot;</span>+password+<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录成功！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="6、SQL注入问题"><a href="#6、SQL注入问题" class="headerlink" title="6、SQL注入问题"></a>6、SQL注入问题</h5><p>将<code>上述登录功能的代码</code> String username = scanner.next();修改为 String username = scanner.nextLine();再次运行时会输入下列的用户名再随便输个密码也可以登录成功，这就是SQL注入</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955199.png" alt="image-20211024214130824" style="zoom:67%;" />

<h5 id="7、PreparedStatement"><a href="#7、PreparedStatement" class="headerlink" title="7、PreparedStatement"></a>7、PreparedStatement</h5><p>用来解决<code>上述登录功能的代码</code>的SQL注入问题，即把Statement换为PreparedStatement</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * PreparedStatement：解决上一个登录的例子的SQL注入问题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/24 22:26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b2_SQLzhuru</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;输入用户名：&quot;</span>);</span><br><span class="line">        String username = scanner.nextLine();   <span class="comment">//这里改为 String username = scanner.nextLine();时会出现SQL注入问题，使用PreparedStatement已经解决了</span></span><br><span class="line">        System.out.println(<span class="string">&quot;输入密码：&quot;</span>);</span><br><span class="line">        String password = scanner.next();</span><br><span class="line"></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//连接VMcentos7克隆中docker的Mymysql数据库</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://192.168.222.137:3306/JavaTest?useSSL=false&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">       </span><br><span class="line">        </span><br><span class="line"><span class="comment">//使用PreparedStatement解决SQL注入问题        </span></span><br><span class="line">        <span class="comment">//获得PreparedStatement对象，编译SQL语句</span></span><br><span class="line">        PreparedStatement preparedStatement = connection.prepareStatement(<span class="string">&quot;select * from users where name = ? and age =?;&quot;</span>);</span><br><span class="line">       <span class="comment">//为?占位符赋值</span></span><br><span class="line">        preparedStatement.setString(<span class="number">1</span>,username);    <span class="comment">//表示第一个?应该填写什么值</span></span><br><span class="line">        preparedStatement.setString(<span class="number">2</span>,password);    <span class="comment">//表示第二个?应该填写什么值</span></span><br><span class="line"><span class="comment">//解决问题结束</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//执行SQL语句，并接收结果</span></span><br><span class="line">        ResultSet resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录成功！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        resultSet.close();</span><br><span class="line">       preparedStatement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样再次使用用户名<code>abc&#39; or 1=1;#</code>就不能登录了</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955200.png" alt="image-20211024224713030"></p>
<h5 id="8、封装工具类"><a href="#8、封装工具类" class="headerlink" title="8、封装工具类"></a>8、封装工具类</h5><p>把传统的JDBC代码进行重构，抽取出通用的JDBC工具类，以后连接任何数据库、释放资源都可以使用这个工具类。</p>
<h6 id="1、重用性方案DBUtils"><a href="#1、重用性方案DBUtils" class="headerlink" title="1、重用性方案DBUtils"></a>1、重用性方案<strong>DBUtils</strong></h6><p>封装获取连接、释放资源的两个方法</p>
<p><code>c1_DBUtils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 封装工具类：重用性方案——获取连接、释放资源</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/2 9:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_DBUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;    <span class="comment">//类加载。执行一次，防止每次调用时都运行一遍驱动</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ClassNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//1、获取连接</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            connection = DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://192.168.222.137:3306/JavaTest?useSSL=false&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (SQLException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2、释放资源</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(Connection connection, Statement statement,ResultSet resultSet)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(resultSet !=<span class="keyword">null</span>)&#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(statement != <span class="keyword">null</span>)&#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(connection !=<span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用：<code>c2_UseDBUtils.java</code>，使用的效果和之前的运行效果一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DBUtils的使用：封装工具类——重用性方案</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/02 17:05</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_UseDBUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;输入用户名：&quot;</span>);</span><br><span class="line">        String username = scanner.nextLine();</span><br><span class="line">        System.out.println(<span class="string">&quot;输入密码：&quot;</span>);</span><br><span class="line">        String password = scanner.next();</span><br><span class="line"></span><br><span class="line">        Connection connection=c1_DBUtils.getConnection();       <span class="comment">//DBUtils的使用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        PreparedStatement preparedStatement = connection.prepareStatement(<span class="string">&quot;select * from users where name = ? and age =?;&quot;</span>);</span><br><span class="line">        preparedStatement.setString(<span class="number">1</span>,username);</span><br><span class="line">        preparedStatement.setString(<span class="number">2</span>,password);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//执行SQL语句，并接收结果</span></span><br><span class="line">        ResultSet resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录成功！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;登录失败！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">       c1_DBUtils.closeAll(connection,preparedStatement,resultSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2、跨平台方案DBUtils"><a href="#2、跨平台方案DBUtils" class="headerlink" title="2、跨平台方案DBUtils"></a>2、跨平台方案<strong>DBUtils</strong></h6><p>就是创建一个properties文件来存储数据库的连接方式，将来若改动数据库或者数据库的密码更改，只需修改这个properties文件即可，不用修改.java文件</p>
<p><code>DBUtils.properties</code>    这个文件是在src下创建一个Resource Bundle    不要乱起格式</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955201.png" alt="image-20211107170703790"></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://192.168.222.137:3306/JavaTest?serverTimezone=GMT&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<p><code>d1_DBUtils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 封装工具类:跨平台方案</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/2 17:21</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d1_DBUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Properties PROPERTIES = <span class="keyword">new</span> Properties();      <span class="comment">//存储配置文件的map</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        InputStream is =d1_DBUtils.class.getResourceAsStream(<span class="string">&quot;/DBUtils.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            PROPERTIES.load(is);    <span class="comment">//通过流，将配置文件内容加载到properties集合</span></span><br><span class="line">            Class.forName(PROPERTIES.getProperty(<span class="string">&quot;driver&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DriverManager.getConnection(PROPERTIES.getProperty(<span class="string">&quot;url&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;username&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeALL</span><span class="params">(Connection connection, Statement statement, ResultSet resultSet)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(resultSet !=<span class="keyword">null</span>)&#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(statement != <span class="keyword">null</span>)&#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(connection !=<span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试<code>d2_testDBUtils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myJDBC;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试封装工具类的跨平台方案</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/2 17:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">d2_testDBUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection = d1_DBUtils.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果    哈希值</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">com</span>.mysql.jdbc.JDBC<span class="number">4</span>Connection@<span class="number">446</span>cdf<span class="number">90</span></span><br></pre></td></tr></table></figure>

<h5 id="9、ORM"><a href="#9、ORM" class="headerlink" title="9、ORM"></a>9、ORM</h5><p>object relational mapping</p>
<p><code>将从数据库拿到的零散的数据进行封装处理。</code></p>
<p><strong>实体类（entity）</strong>：零散数据的载体</p>
<p>表名=类名    列名=属性名</p>
<h4 id="三、DAO数据访问对象"><a href="#三、DAO数据访问对象" class="headerlink" title="三、DAO数据访问对象"></a>三、DAO数据访问对象</h4><p><strong>（Data Access Object）</strong></p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955202.png" alt="image-20211107171009515"></p>
<p>概念：实现了业务逻辑与数据库访问相分离。夹在业务逻辑与数据库资源中间。</p>
<p>DAO组成部分：</p>
<p>DAO接口：把数据库的所有操作定义成抽象方法，可以提供多种实现</p>
<p>DAO实现类：针对不同数据库给出DAO接口定义方法的具体实现</p>
<p>实体类：用于存放于传输对象数据</p>
<p>数据库连接于关闭工具类：避免数据库连接和关闭代码的重复使用，方便修改</p>
<p>DAO 设计模式同样还能保证应用各部分之间的低耦合度。</p>
<h5 id="1、DAO的基本操作"><a href="#1、DAO的基本操作" class="headerlink" title="1、DAO的基本操作"></a>1、DAO的基本操作</h5><p>增删改查（CRUD）<br><code>DBUtils.java</code>：封装工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/5 20:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DBUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Properties PROPERTIES = <span class="keyword">new</span> Properties();</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        InputStream is = DBUtils.class.getResourceAsStream(<span class="string">&quot;/DBUtils.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            PROPERTIES.load(is);</span><br><span class="line">            Class.forName(PROPERTIES.getProperty(<span class="string">&quot;driver&quot;</span>));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection  <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DriverManager.getConnection(PROPERTIES.getProperty(<span class="string">&quot;url&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;username&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(Connection connection, Statement statement, ResultSet resultSet)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (resultSet != <span class="keyword">null</span>)&#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(statement != <span class="keyword">null</span>)&#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(connection != <span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Person.java</code>：类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> person;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建实体类</span></span><br><span class="line"><span class="comment"> * 在数据库操作中，创建数据表的语句如下：</span></span><br><span class="line"><span class="comment"> * Create TABLE Person(</span></span><br><span class="line"><span class="comment"> *  id INT PRIMARY KEY AUTO_INCREMENT,</span></span><br><span class="line"><span class="comment"> *  NAME VARCHAR(20) NOT NULL,</span></span><br><span class="line"><span class="comment"> *  age INT NOT NULL,</span></span><br><span class="line"><span class="comment"> *  bornDate DATE,</span></span><br><span class="line"><span class="comment"> *  email VARCHAR(20),</span></span><br><span class="line"><span class="comment"> *  address VARCHAR(20)</span></span><br><span class="line"><span class="comment"> * )CHARSET=utf8;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/7 17:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Date bornDate;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//id其实不用添加构造方法，因为id被设置为主键了，之后插入的数据，会自动增长创建的，</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> id,String name, <span class="keyword">int</span> age, Date bornDate, String email, String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.bornDate = bornDate;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加一个没有id的构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, Date bornDate, String email, String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.bornDate = bornDate;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getBornDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bornDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBornDate</span><span class="params">(Date bornDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bornDate = bornDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmail</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, bornDate=&quot;</span> + bornDate +</span><br><span class="line">                <span class="string">&quot;, email=&#x27;&quot;</span> + email + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>PersonDaoImpl.java</code>：DAO接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这是DAO接口。连接数据库中的表Person，作用：增、删、改、查单个、查所有</span></span><br><span class="line"><span class="comment"> * DAO只做数据库访问操作，不参与逻辑判断</span></span><br><span class="line"><span class="comment"> * 数据库一张表访问的复用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/7 17:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonDaoImpl</span> </span>&#123;</span><br><span class="line">    <span class="comment">//新增</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insert</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;insert into person(name,age,borndate,email,address) values(?,?,?,?,?);&quot;</span>; <span class="comment">//数据库的表名区分大小写</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setString(<span class="number">1</span>,person.getName());</span><br><span class="line">            preparedStatement.setInt(<span class="number">2</span>,person.getAge());</span><br><span class="line">            preparedStatement.setDate(<span class="number">3</span>,DateUtils.utilToSql(person.getBornDate())); <span class="comment">//person.getBornDate()拿到的是util.Date,要转换一下</span></span><br><span class="line">            preparedStatement.setString(<span class="number">4</span>,person.getEmail());</span><br><span class="line">            preparedStatement.setString(<span class="number">5</span>,person.getAddress());</span><br><span class="line">            <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//修改</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;update person set name=?,age=?,borndate=?,email=?,address=? where id = ?;&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setString(<span class="number">1</span>,person.getName());</span><br><span class="line">            preparedStatement.setInt(<span class="number">2</span>,person.getAge());</span><br><span class="line">            preparedStatement.setDate(<span class="number">3</span>,DateUtils.utilToSql(person.getBornDate()));</span><br><span class="line">            preparedStatement.setString(<span class="number">4</span>,person.getEmail());</span><br><span class="line">            preparedStatement.setString(<span class="number">5</span>,person.getAddress());</span><br><span class="line">            preparedStatement.setInt(<span class="number">6</span>,person.getId());</span><br><span class="line">            <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;delete from person where id = ?;&quot;</span>;</span><br><span class="line">        connection = DBUtils.getConnection();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setInt(<span class="number">1</span>,id);</span><br><span class="line">            <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查单个数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">select</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;select * from person where id = ?;&quot;</span>;</span><br><span class="line">        Person person = <span class="keyword">null</span>;   <span class="comment">//先初始化要拿到的数据person</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setInt(<span class="number">1</span>,id);</span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line">            <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">                person = <span class="keyword">new</span> Person();  <span class="comment">//无参的构造方法</span></span><br><span class="line">                <span class="keyword">int</span> pid = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                <span class="keyword">int</span> age = resultSet.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">                Date bornDate = resultSet.getDate(<span class="string">&quot;bornDate&quot;</span>);</span><br><span class="line">                String email = resultSet.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">                String address = resultSet.getString(<span class="string">&quot;address&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//将要拿到的数据赋到person中</span></span><br><span class="line">                person.setId(pid);</span><br><span class="line">                person.setName(name);</span><br><span class="line">                person.setAge(age);</span><br><span class="line">                person.setBornDate(bornDate);</span><br><span class="line">                person.setEmail(email);</span><br><span class="line">                person.setAddress(address);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> person;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,resultSet);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查所有数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Person&gt; <span class="title">selectAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">        Person person = <span class="keyword">null</span>;</span><br><span class="line">        List&lt;Person&gt; personList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(<span class="string">&quot;select *from person;&quot;</span>);</span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">                <span class="keyword">int</span> pid = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                <span class="keyword">int</span> age = resultSet.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">                Date bornDate = resultSet.getDate(<span class="string">&quot;bornDate&quot;</span>);      <span class="comment">//这个直接拿就可以了，不用转换日期的格式</span></span><br><span class="line">                String email = resultSet.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">                String address = resultSet.getString(<span class="string">&quot;address&quot;</span>);</span><br><span class="line"></span><br><span class="line">                person = <span class="keyword">new</span> Person(pid,name,age,bornDate,email,address);</span><br><span class="line">                personList.add(person);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> personList;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、Date工具类"><a href="#2、Date工具类" class="headerlink" title="2、Date工具类"></a>2、Date工具类</h5><blockquote>
<p>数据库存储的数据类型为java.sql.Date。Java应用层存储日期类型为java.util.Date。当用Java应用程序插入带有日期的数据到数据库中时，需要进行转换。</p>
</blockquote>
<ul>
<li><p><code>java.util.Date</code>    java语言常规应用层面的日期类型，可以通过字符串创建对应的和时间对象。无法直接通过JDBC插入到数据库中。</p>
</li>
<li><p><code>java.sql.Date</code>    不可以通过字符串创建对应的时间对象，只能通过毫秒值创建对象（1970年至今的毫秒值）。可以直接通过JDBC插入到数据库中。</p>
</li>
<li><p><code>SimpleDateFormat</code>    格式化和解析日期的具体类。允许进行格式化（日期—&gt;文本）、解析（文本—&gt;日期）和规范化。</p>
</li>
</ul>
<p><code>java.sql.Date</code>是<code>java.util.Date</code>的子类，所以java.util.Date可直接从java.sql.Date中取值，但要java.util.Date格式的日期插入到java.sql.Date中就要装换了。</p>
<p><code>java.util.Date</code>和<code>java.sql.Date</code>的装换：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.SimpleFormatter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Date工具类的测试：java.util.Date可直接从java.sql.Date中取值，但要java.util.Date格式的日期插入到java.sql.Date中就要装换了。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/8 23:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTimes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//获得当前系统的日期时间</span></span><br><span class="line">        System.out.println(<span class="string">&quot;util.Date的日期格式：&quot;</span>+<span class="keyword">new</span> java.util.Date());</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//字符串：自定义日期</span></span><br><span class="line">        String str=<span class="string">&quot;2020-11-2&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1、将字符串str=&quot;2020-11-2&quot;转换成util.Date</span></span><br><span class="line">        SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);  <span class="comment">//&quot;yyyy-MM-dd&quot;定义转换的格式</span></span><br><span class="line">            <span class="comment">//parse方法转换为util.Date</span></span><br><span class="line">        java.util.Date date = sdf.parse(str);</span><br><span class="line">        System.out.println(<span class="string">&quot;1、SimpleDateFormat将字符串str=\&quot;2020-11-2\&quot;转换成util.Date：&quot;</span>+date);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、format方法将日期转换为String类型</span></span><br><span class="line">        String dates = sdf.format(<span class="keyword">new</span> java.util.Date());</span><br><span class="line">        System.out.println(<span class="string">&quot;2、format方法又将1的转换好的日期格式转换为String类型：&quot;</span>+dates);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、sql.Date不支持字符串转换，只支持毫秒值创建   （这一步可以将util.Date格式的日期插入到数据库中）</span></span><br><span class="line">            <span class="comment">//通过util。Date拿到指定日期的毫秒值，转换为sql.Date</span></span><br><span class="line">        java.sql.Date sqlDate = <span class="keyword">new</span> java.sql.Date(date.getTime());      <span class="comment">//date.getTime()用来拿到毫秒值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;3、这一步可以将util.Date格式的日期插入到数据库中：&quot;</span>+sqlDate);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">util.Date的日期格式：Tue Nov 09 00:00:21 CST 2021</span></span><br><span class="line"><span class="section">-----------------------------------------------</span></span><br><span class="line">1、SimpleDateFormat将字符串str=&quot;2020-11-2&quot;转换成util.Date：Mon Nov 02 00:00:00 CST 2020</span><br><span class="line">2、format方法又将1的转换好的日期格式转换为String类型：2021-11-09</span><br><span class="line">3、这一步可以将util.Date格式的日期插入到数据库中：2020-11-02</span><br></pre></td></tr></table></figure>

<h5 id="3、DateUtils工具类封装"><a href="#3、DateUtils工具类封装" class="headerlink" title="3、DateUtils工具类封装"></a>3、<strong>DateUtils</strong>工具类封装</h5><p><code>封装——DateUtils.java</code>：封装日期转换格式，方便使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 封装Date工具类:日期格式的转换</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/9 9:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);   <span class="comment">//私有的静态属性，减少代码量,因为下面有两次使用这句</span></span><br><span class="line">    <span class="comment">//1、字符串转换为util.Date</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> java.util.<span class="function">Date <span class="title">strToUtil</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            java.util.Date date = sdf.parse(str);</span><br><span class="line">            <span class="keyword">return</span> date;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2、util.Date转换为sql.Date</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> java.sql.<span class="function">Date <span class="title">utilToSql</span><span class="params">(java.util.Date date)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> java.sql.Date(date.getTime());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3、util.Date转换为字符串形式</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">utilToStr</span><span class="params">(java.util.Date date)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sdf.format(date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>调用上面封装好的日期转换格式，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">preparedStatement.setDate(<span class="number">3</span>,DateUtils.utilToSql(person.getBornDate())); <span class="comment">//person.getBornDate()拿到的是util.Date,要转换一下</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Date张三&quot;</span>,<span class="number">20</span>,DateUtils.strToUtil(<span class="string">&quot;2002-11-1&quot;</span>),<span class="string">&quot;12345@163.com&quot;</span>,<span class="string">&quot;北京市&quot;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="四、Service业务逻辑层"><a href="#四、Service业务逻辑层" class="headerlink" title="四、Service业务逻辑层"></a>四、Service业务逻辑层</h4><h5 id="1、转账操作案例"><a href="#1、转账操作案例" class="headerlink" title="1、转账操作案例"></a>1、转账操作案例</h5><h6 id="创建数据表及添加数据"><a href="#创建数据表及添加数据" class="headerlink" title="创建数据表及添加数据"></a>创建数据表及添加数据</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 2021-11-9 Service层的练习</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> account(</span><br><span class="line">				cardNo <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">				PASSWORD <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">				NAME <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">				balance <span class="keyword">DOUBLE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">)CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account(cardNo,PASSWORD,NAME,balance) <span class="keyword">VALUES</span>(<span class="string">&#x27;1001&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">10000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account(cardNo,PASSWORD,NAME,balance) <span class="keyword">VALUES</span>(<span class="string">&#x27;1002&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955203.png" alt="image-20211110172949593" style="zoom:67%;" />

<h6 id="1、DBUtils-properties："><a href="#1、DBUtils-properties：" class="headerlink" title="1、DBUtils.properties："></a>1、<code>DBUtils.properties</code>：</h6><p>封装工具类，跨平台方案。数据库的连接信息。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://192.168.222.137:3306/JavaTest?serverTimezone=GMT&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<h6 id="2、DBUtils-java："><a href="#2、DBUtils-java：" class="headerlink" title="2、DBUtils.java："></a>2、<code>DBUtils.java</code>：</h6><p>连接数据库的操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> account;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/5 20:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DBUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Properties PROPERTIES = <span class="keyword">new</span> Properties();</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        InputStream is = DBUtils.class.getResourceAsStream(<span class="string">&quot;/DBUtils.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            PROPERTIES.load(is);</span><br><span class="line">            Class.forName(PROPERTIES.getProperty(<span class="string">&quot;driver&quot;</span>));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection  <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DriverManager.getConnection(PROPERTIES.getProperty(<span class="string">&quot;url&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;username&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(Connection connection, Statement statement, ResultSet resultSet)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (resultSet != <span class="keyword">null</span>)&#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(statement != <span class="keyword">null</span>)&#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(connection != <span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="3、Account-java："><a href="#3、Account-java：" class="headerlink" title="3、Account.java："></a>3、<code>Account.java</code>：</h6><p>创建实体类，账号。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> account;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建实体类，定义属性</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/9 18:14</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cardNo;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> balance;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Account&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;cardNo=&#x27;&quot;</span> + cardNo + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, balance=&quot;</span> + balance +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCardNo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCardNo</span><span class="params">(String cardNo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardNo = cardNo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getBalance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBalance</span><span class="params">(<span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(String cardNo, String password, String name, <span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cardNo = cardNo;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="4、AccountDAOImpl-java："><a href="#4、AccountDAOImpl-java：" class="headerlink" title="4、AccountDAOImpl.java："></a>4、<code>AccountDAOImpl.java</code>：</h6><p>DAO接口，数据的访问操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> account;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Dao接口：数据访问层</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/9 19:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insert</span><span class="params">(Account account)</span></span>&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(String cardNo)</span></span>&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="comment">//修改</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;update account set password=?,name=?,balance=? where cardNo = ?&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setString(<span class="number">1</span>,account.getPassword());</span><br><span class="line">            preparedStatement.setString(<span class="number">2</span>,account.getName());</span><br><span class="line">            preparedStatement.setDouble(<span class="number">3</span>,account.getBalance());</span><br><span class="line">            preparedStatement.setString(<span class="number">4</span>,account.getCardNo());</span><br><span class="line">            <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询单个</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">select</span><span class="params">(String cardNo)</span></span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">        Account account = <span class="keyword">null</span>;</span><br><span class="line">        String sql = <span class="string">&quot;select * from account where cardNo = ?&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = DBUtils.getConnection();</span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            preparedStatement.setString(<span class="number">1</span>,cardNo);</span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line">            <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">                String cardNos = resultSet.getString(<span class="string">&quot;cardNo&quot;</span>);</span><br><span class="line">                String password = resultSet.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">                String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                <span class="keyword">double</span> balance = resultSet.getDouble(<span class="string">&quot;balance&quot;</span>);</span><br><span class="line">                account = <span class="keyword">new</span> Account(cardNos,password,name,balance);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> account;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtils.closeAll(connection,preparedStatement,resultSet);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="5、AccountServiceImpl-java："><a href="#5、AccountServiceImpl-java：" class="headerlink" title="5、AccountServiceImpl.java："></a>5、<code>AccountServiceImpl.java</code>：</h6><p>业务逻辑层，业务操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> account;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 业务逻辑层</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/9 19:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(String fromNo,String pwd,String toNo,<span class="keyword">double</span> money)</span></span>&#123;    <span class="comment">//收参，收集参数</span></span><br><span class="line">        AccountDaoImpl accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line">        <span class="comment">//2、组织完善业务功能</span></span><br><span class="line">        <span class="comment">//2.1验证fromNo是否存在</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Account account = accountDao.select(fromNo);</span><br><span class="line">            <span class="keyword">if</span> (account==<span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;卡号不存在！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.2验证fromNo的密码是否正确</span></span><br><span class="line">            <span class="keyword">if</span> (!account.getPassword().equals(pwd))&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;密码错误！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.3验证约余额是否充足</span></span><br><span class="line">            <span class="keyword">if</span>(account.getBalance() &lt; money)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;余额不足！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.4验证toNo是否存在</span></span><br><span class="line">            Account toAccount = accountDao.select(toNo);</span><br><span class="line">            <span class="keyword">if</span> (toAccount == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;对方账号不存在！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.5减少fromNo的余额</span></span><br><span class="line">            account.setBalance(account.getBalance()-money);</span><br><span class="line">            accountDao.update(account);</span><br><span class="line">            <span class="comment">//2.6增加toNo的余额</span></span><br><span class="line">            toAccount.setBalance(toAccount.getBalance()+money);</span><br><span class="line">            accountDao.update(toAccount);</span><br><span class="line">            System.out.println(<span class="string">&quot;转账成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RuntimeException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;转账失败！&quot;</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="6、TestAccount-java"><a href="#6、TestAccount-java" class="headerlink" title="6、TestAccount.java"></a>6、<code>TestAccount.java</code></h6><p>转账测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> account;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/9 19:56</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAccount</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        AccountServiceImpl accountService = <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">        accountService.transfer(<span class="string">&quot;1001&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="string">&quot;1002&quot;</span>,<span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="7、运行结果"><a href="#7、运行结果" class="headerlink" title="7、运行结果"></a>7、<code>运行结果</code></h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">转账成功！</span><br></pre></td></tr></table></figure>

<p>数据库数据有也随之改变了</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955204.png" alt="image-20211110173043864" style="zoom:67%;" />



<h5 id="2、转账案例中存在的问题及解决"><a href="#2、转账案例中存在的问题及解决" class="headerlink" title="2、转账案例中存在的问题及解决"></a>2、转账案例中存在的问题及解决</h5><h6 id="1、解决方法一"><a href="#1、解决方法一" class="headerlink" title="1、解决方法一"></a>1、解决方法一</h6><p>（不推荐）：在AccountDAOImpl中传递Connection，但此方法不具有复用性，及之后的数据连接若改为mybatis或其他不是Connection连接时，代码需要再次修改。容易造成接口污染。</p>
<h6 id="2、解决方法二"><a href="#2、解决方法二" class="headerlink" title="2、解决方法二"></a>2、解决方法二</h6><p>（推荐）ThreadLocal。ThreadLocal可以将整个线程中（单线程）中存储一个共享值。线程拥有一个类似Map的属性，键值对结构&lt;ThreadLocal对象，值&gt;。</p>
<p>一个线程共享同一个ThreadLocal，在整个流程中任一环节可以存值或取值。</p>
<p><strong>假设业务层出现错误 int a = 10/0;</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//若此处出现异常,会提示转账失败，但转出账号的钱已经减少了，而钱没有到达对方的账号，所以这个业务逻辑层还得完善</span></span><br><span class="line"><span class="keyword">int</span> a =<span class="number">10</span>/<span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p><strong>使用方法二解决</strong></p>
<p>AccountServiceImpl的修改</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获得连接对象</span></span><br><span class="line">connection = DBUtils.getConnection();</span><br><span class="line">System.out.println(<span class="string">&quot;Service的连接地址：&quot;</span>+connection);</span><br><span class="line"><span class="comment">//设置当前事务的自动提交为手动提交。开启事务</span></span><br><span class="line">connection.setAutoCommit(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//转账成功！则整个事务提交！</span></span><br><span class="line">connection.commit();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//如果当前程序异常，则回滚当前整个事务！</span></span><br><span class="line">    connection.rollback();	</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException ex) &#123;</span><br><span class="line">    ex.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">    DBUtils.closeAll(connection,<span class="keyword">null</span>,<span class="keyword">null</span>);     <span class="comment">//在Service层关闭数据库连接connection</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>AccountDaoImpl也稍作修改了，不列出来了</p>
<p>DBUtils的修改</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Connection&gt; threadLocal = <span class="keyword">new</span> ThreadLocal&lt;&gt;();       <span class="comment">//创建一个ThreadLocal连接对象</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection connection = threadLocal.get();  <span class="comment">//将当前线程中绑定的Connection对象赋值给connection</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (connection==<span class="keyword">null</span>)&#123;</span><br><span class="line">    connection = DriverManager.getConnection(PROPERTIES.getProperty(<span class="string">&quot;url&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;username&quot;</span>),PROPERTIES.getProperty(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">    threadLocal.set(connection);    <span class="comment">//把连接存在当前线程共享中，方便接下来的拿取</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、事务的封装"><a href="#3、事务的封装" class="headerlink" title="3、事务的封装"></a>3、事务的封装</h5><p>将事务的开启、提交、回滚都封装在工具类DBUtils中，业务层调用即可。</p>
<p>第532集（以上面的转账案例为例进行封装处理）</p>
<h4 id="五、三层架构"><a href="#五、三层架构" class="headerlink" title="五、三层架构"></a><strong>五、三层架构</strong></h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/whitesun123/article/details/79687879">三层架构和MVC的区别</a></p>
<h5 id="1、相关概念"><a href="#1、相关概念" class="headerlink" title="1、相关概念"></a>1、相关概念</h5><p>1、表示层（JSP）</p>
<p>命名：xxxView</p>
<p>收集用户的数据和需求、展示数据。</p>
<p>2、业务逻辑层（Service）</p>
<p>命名：xxxServiceImpl</p>
<p>数据加工处理、调用DAO完成业务实现、控制事务。</p>
<p>3、数据访问层</p>
<p>命名：xxxDaoImpl</p>
<p>向业务层提供数据，将业务层加工后的数据同步到数据库。</p>
<h5 id="2、三层架构项目搭建"><a href="#2、三层架构项目搭建" class="headerlink" title="2、三层架构项目搭建"></a>2、三层架构项目搭建</h5><p>（按开发步骤）</p>
<ul>
<li><p>utils存放工具类（DBUtils）</p>
</li>
<li><p>entity存放实体类（Person）</p>
</li>
<li><p>dao存放DAO接口（PersonDao）</p>
<ul>
<li>impl存放DAO接口实现类（PersonDaoImpl）</li>
</ul>
</li>
<li><p>service存放service接口（PersonService）</p>
<ul>
<li>Impl存放service接口实现类（PersonServiceImpl）</li>
</ul>
</li>
<li><p>view存放程序启动类（main）</p>
</li>
</ul>
<p>程序设计时，考虑易修改、易扩展，为Service层和DAO层设计接口，便于未来实现类。</p>
<p><strong>工程项目结构：</strong></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955205.png" alt="image-20211111111235483" style="zoom:80%;" />



<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955206.png" alt="image-20211111111405210" style="zoom:67%;" />



<h5 id="3、DaoUtils工具类"><a href="#3、DaoUtils工具类" class="headerlink" title="3、DaoUtils工具类"></a>3、<strong>DaoUtils</strong>工具类</h5><p>在DAO层中，对数据库的表的增删改查操作存在代码冗余，可对其进行抽取封装DaoUtils工具类实现复用。</p>
<p><strong>增删改查的封装</strong></p>
<p>①增删改原冗余的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Connection connection = <span class="keyword">null</span>;</span><br><span class="line">PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">String sql = <span class="string">&quot;insert into person(name,age,borndate,email,address) values(?,?,?,?,?);&quot;</span>;</span><br><span class="line">connection = DbUtils.getConnection();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">    preparedStatement.setString(<span class="number">1</span>,person.getName());</span><br><span class="line">    preparedStatement.setInt(<span class="number">2</span>,person.getAge());</span><br><span class="line">    preparedStatement.setDate(<span class="number">3</span>, DateUtils.utilToSql(person.getBornDate()));</span><br><span class="line">    preparedStatement.setString(<span class="number">4</span>,person.getEmail());</span><br><span class="line">    preparedStatement.setString(<span class="number">5</span>,person.getAddress());</span><br><span class="line">    <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">    DbUtils.closeAll(<span class="keyword">null</span>,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>封装到DAO工具类，精简代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 公共处理增删改的方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sql 执行的sql语句</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args 参数列表</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 受影响行数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">commonsUpdate</span><span class="params">(String sql,Object...args)</span></span>&#123;         <span class="comment">//Object...args意思是可变的参数列表</span></span><br><span class="line">     </span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">    connection = DbUtils.getConnection();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        preparedStatement = connection.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;args.length ; i++) &#123;</span><br><span class="line">            preparedStatement.setObject(i+<span class="number">1</span>,args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = preparedStatement.executeUpdate();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        DbUtils.closeAll(<span class="keyword">null</span>,preparedStatement,<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>②查询单个源冗余代码，查询所有的冗余代码也差不多</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Connection connection = <span class="keyword">null</span>;</span><br><span class="line">PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line">String sql = <span class="string">&quot;select * from person where id = ?&quot;</span>;</span><br><span class="line">connection = DbUtils.getConnection();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">    preparedStatement.setInt(<span class="number">1</span>,id);</span><br><span class="line">    resultSet = preparedStatement.executeQuery();</span><br><span class="line">    <span class="keyword">if</span>(resultSet.next())&#123;</span><br><span class="line">        person = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="keyword">int</span> pid = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> age = resultSet.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        Date borndate = resultSet.getDate(<span class="string">&quot;borndate&quot;</span>);</span><br><span class="line">        String email = resultSet.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">        String address = resultSet.getString(<span class="string">&quot;address&quot;</span>);</span><br><span class="line">        person = <span class="keyword">new</span> Person(pid,name,age,borndate,email,address);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>封装到DAO工具类，精简代码。查询单个。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 公共的查询方法（可查询任意一张表，可查询单个对象，也可查询多个对象）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sql   执行sql语句</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args  参数列表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  集合</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Object&gt; <span class="title">commoonSelect</span><span class="params">(String sql, RowMapper rowMapper,Object...args)</span></span>&#123;</span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">    List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    connection = DbUtils.getConnection();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;args.length ; i++) &#123;</span><br><span class="line">            preparedStatement.setObject(i+<span class="number">1</span>,args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">            <span class="comment">//id name age borndate email address</span></span><br><span class="line">            <span class="comment">//如何根据查询结果完成ORM，如何寄给你小对象的创建以及赋值</span></span><br><span class="line">            Object object = rowMapper.getRow(resultSet);    <span class="comment">//回调——&gt;调用者提供一个封装方法ORM</span></span><br><span class="line">            list.add(object);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955207.png" alt="image-20211113171813326"></p>
<p>接口<code>RowMapper.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.person.advanced;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 行的映射：约束封装对象的ORM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/13 16:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RowMapper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getRow</span><span class="params">(ResultSet resultSet)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现类<code>PersonRowMapper.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.person.advanced.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.person.advanced.RowMapper;</span><br><span class="line"><span class="keyword">import</span> com.ya.person.entity.Person;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/13 16:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonRowMapper</span> <span class="keyword">implements</span> <span class="title">RowMapper</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getRow</span><span class="params">(ResultSet resultSet)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> pid = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> age = resultSet.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">            Date borndate = resultSet.getDate(<span class="string">&quot;borndate&quot;</span>);</span><br><span class="line">            String email = resultSet.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">            String address = resultSet.getString(<span class="string">&quot;address&quot;</span>);</span><br><span class="line">            person = <span class="keyword">new</span> Person(pid,name,age,borndate,email,address);</span><br><span class="line">            <span class="keyword">return</span> person;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>③查询的优化：后来查询所有时又将Object修改为了泛型T（可以查询单个和所有个，以后修改表格person为其他表格时也适用）</p>
<p>接口<code>RowMapper.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.person.advanced;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 行的映射：约束封装对象的ORM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/13 16:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RowMapper</span> &lt;<span class="title">T</span>&gt;</span>&#123;		<span class="comment">//修改为了泛型&lt;T&gt;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getRow</span><span class="params">(ResultSet resultSet)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现类<code>PersonRowMapper.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.person.advanced.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.person.advanced.RowMapper;</span><br><span class="line"><span class="keyword">import</span> com.ya.person.entity.Person;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/13 16:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonRowMapper</span> <span class="keyword">implements</span> <span class="title">RowMapper</span> &lt;<span class="title">Person</span>&gt;</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">getRow</span><span class="params">(ResultSet resultSet)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> pid = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> age = resultSet.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">            Date borndate = resultSet.getDate(<span class="string">&quot;borndate&quot;</span>);</span><br><span class="line">            String email = resultSet.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">            String address = resultSet.getString(<span class="string">&quot;address&quot;</span>);</span><br><span class="line">            person = <span class="keyword">new</span> Person(pid,name,age,borndate,email,address);</span><br><span class="line">            <span class="keyword">return</span> person;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>封装到DAO，精简代码。适用查询单个和所有个。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 公共的查询方法（可查询任意一张表，可查询单个对象，也可查询多个对象）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sql   执行sql语句</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args  参数列表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  集合</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;T&gt; <span class="title">commoonSelect</span><span class="params">(String sql, RowMapper&lt;T&gt; rowMapper,Object...args)</span></span>&#123;</span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">    List&lt;T&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    connection = DbUtils.getConnection();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">if</span>(args!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;args.length ; i++) &#123;</span><br><span class="line">                preparedStatement.setObject(i+<span class="number">1</span>,args[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">            <span class="comment">//id name age borndate email address</span></span><br><span class="line">            <span class="comment">//如何根据查询结果完成ORM，如何寄给你小对象的创建以及赋值</span></span><br><span class="line">            T t = rowMapper.getRow(resultSet);    <span class="comment">//回调——&gt;调用者提供一个封装方法ORM</span></span><br><span class="line">            list.add(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>测试</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.person.view;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.person.dao.Impl.PersonDaoImpl;</span><br><span class="line"><span class="keyword">import</span> com.ya.person.dao.PersonDao;</span><br><span class="line"><span class="keyword">import</span> com.ya.person.entity.Person;</span><br><span class="line"><span class="keyword">import</span> com.ya.person.utils.DateUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/11 11:05</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPerson</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PersonDao personDao = <span class="keyword">new</span> PersonDaoImpl();</span><br><span class="line">        <span class="comment">//插如数据</span></span><br><span class="line"><span class="comment">//            Person person = new Person(&quot;nice&quot;,18, DateUtils.strToUtil(&quot;2001-11-13&quot;),&quot;134@132.com&quot;,&quot;美国洛杉矶&quot;);</span></span><br><span class="line"><span class="comment">//            int result = personDao.insert(person);</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;插入数据成功！返回数值：&quot;+result);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询单个数据</span></span><br><span class="line">            Person person = personDao.select(<span class="number">13</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;查询到id为&quot;</span>+person.getId()+<span class="string">&quot;的数据为：&quot;</span>+person);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询所有</span></span><br><span class="line">            List&lt;Person&gt; person1 = personDao.selectAll();</span><br><span class="line">            System.out.println(person1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="六、Druid连接池"><a href="#六、Druid连接池" class="headerlink" title="六、Druid连接池"></a>六、Druid连接池</h4><h5 id="1、概念-2"><a href="#1、概念-2" class="headerlink" title="1、概念"></a>1、概念</h5><p>在程序初始化是，预先创建指定数量的数据库连接对象存储在池中。当需要连接数据库时，从连接池中抽取出现有连接；使用完毕后，也不会进行关闭，而是放回池中，实现复用，节省资源。</p>
<h5 id="2、创建连接池（有DbUtils工具类）"><a href="#2、创建连接池（有DbUtils工具类）" class="headerlink" title="2、创建连接池（有DbUtils工具类）"></a>2、创建连接池（有<strong>DbUtils</strong>工具类）</h5><p>要先在项目中导入<code>mysql-connector-java-5.1.49-bin.jar</code>、<code>druid-1.2.8.jar</code></p>
<p>​    <code>database.properties</code>    </p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#连接设置</span></span><br><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://192.168.222.137:3306/JavaTest?serverTimezone=GMT&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#初始化连接数量为10个</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">10</span></span><br><span class="line"><span class="comment">#最大连接数量</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">30</span></span><br><span class="line"><span class="comment">#最小空闲连接</span></span><br><span class="line"><span class="attr">maxIdle</span>=<span class="string">5</span></span><br><span class="line"><span class="comment">#超时等待时间</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">3000</span></span><br></pre></td></tr></table></figure>

<p><code>DbUtils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 11:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DbUtils</span> </span>&#123;</span><br><span class="line">    <span class="comment">//声明连接池对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DruidDataSource ds;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        InputStream is = DbUtils.class.getResourceAsStream(<span class="string">&quot;/database.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(is);</span><br><span class="line">            <span class="comment">//创建连接池</span></span><br><span class="line">            ds = (DruidDataSource) DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ds.getConnection();  <span class="comment">//通过连接池获得连接对象</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>TestPool.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.pools.utils.DbUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试连接池</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 11:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPool</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">20</span> ; i++) &#123;</span><br><span class="line">            Connection connection = DbUtils.getConnection();</span><br><span class="line">            System.out.println(connection);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//放回池中</span></span><br><span class="line">            connection.close(); <span class="comment">//这里的close是放回池中的意思，不是关闭的意思。调用的是DruidPooledConnection实现类的close()。这时拿到的都是同一个连接了</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>没放回连接池时的运行结果</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">十一月 <span class="number">14</span>, <span class="number">2021</span> <span class="number">11</span>:<span class="number">56</span>:<span class="number">53</span> 上午 com<span class="selector-class">.alibaba</span><span class="selector-class">.druid</span><span class="selector-class">.pool</span><span class="selector-class">.DruidAbstractDataSource</span> error</span><br><span class="line">严重: maxIdle is deprecated</span><br><span class="line">十一月 <span class="number">14</span>, <span class="number">2021</span> <span class="number">11</span>:<span class="number">56</span>:<span class="number">54</span> 上午 com<span class="selector-class">.alibaba</span><span class="selector-class">.druid</span><span class="selector-class">.pool</span><span class="selector-class">.DruidDataSource</span> info</span><br><span class="line">信息: &#123;dataSource-<span class="number">1</span>&#125; inited</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">47</span>d384ee</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">2</span>d6a9952</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">22</span>a71081</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3930015</span>a</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">629</span>f0666</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">1</span>bc6a36e</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">1</span>ff8b8f</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">387</span>c703b</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">224</span>aed64</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@c39f790</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">71</span>e7a66b</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">2</span>ac1fdc4</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">5</span>f150435</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">1</span>c53fd30</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">50</span>cbc42f</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">75412</span>c2f</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">282</span>ba1e</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">13</span>b6d03</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@f5f2bb7</span><br></pre></td></tr></table></figure>

<p>放回连接池时的运行结果，这时的连接就是同一个连接了，因为每次连接后都会放回池中再进行第二次连接，再次取连接时会是同一个连接。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">十一月 <span class="number">14</span>, <span class="number">2021</span> <span class="number">12</span>:<span class="number">02</span>:<span class="number">19</span> 下午 com<span class="selector-class">.alibaba</span><span class="selector-class">.druid</span><span class="selector-class">.pool</span><span class="selector-class">.DruidAbstractDataSource</span> error</span><br><span class="line">严重: maxIdle is deprecated</span><br><span class="line">十一月 <span class="number">14</span>, <span class="number">2021</span> <span class="number">12</span>:<span class="number">02</span>:<span class="number">19</span> 下午 com<span class="selector-class">.alibaba</span><span class="selector-class">.druid</span><span class="selector-class">.pool</span><span class="selector-class">.DruidDataSource</span> info</span><br><span class="line">信息: &#123;dataSource-<span class="number">1</span>&#125; inited</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br><span class="line">com<span class="selector-class">.mysql</span><span class="selector-class">.jdbc</span>.JDBC4Connection@<span class="number">3</span>ac42916</span><br></pre></td></tr></table></figure>



<h4 id="七、Apache的DbUtils使用"><a href="#七、Apache的DbUtils使用" class="headerlink" title="七、Apache的DbUtils使用"></a>七、Apache的DbUtils使用</h4><p>Commons DbUtils是Apache组织提供的一个对JDBC进行简单封装的开源工具类库，使用它能够简化JDBC应用程序的开发，同时不会影响程序的性能。</p>
<h5 id="1、DbUtils简介"><a href="#1、DbUtils简介" class="headerlink" title="1、DbUtils简介"></a>1、DbUtils简介</h5><p>DbUtils是Java编程中数据库操作实用小工具，小巧、简单、实用。</p>
<p>​        对于数据表的查询操作，可以把结果转换为List、Array、Set等集合，便于操作。</p>
<p>​        对于数据表的DML操作，也变得很简单（只需写SQL语句）。</p>
<h5 id="2、DbUtils主要包含"><a href="#2、DbUtils主要包含" class="headerlink" title="2、DbUtils主要包含"></a>2、<strong>DbUtils</strong>主要包含</h5><p>ResultSetHandle接口：装换类型接口</p>
<p>​    BeanHandler：实现类，将查询结果的第一行数据，封装到user对象</p>
<p>​    BeanListHandler：实现类，将查询结果的每一行封装到user对象，然后再存入List集合</p>
<p>​    ScalarHandler：实现类，封装类似count、avg、max、min、sum……函数的执行结果。适合获取一行一行的数据。</p>
<p>QueryRunner：执行SQL语句的类</p>
<p>​    增删改，update();</p>
<p>​    查询，query();</p>
<h5 id="3、使用"><a href="#3、使用" class="headerlink" title="3、使用"></a>3、使用</h5><p>要先在项目中导入<code>commons-dbutils-1.7.jar</code>、<code>mysql-connector-java-5.1.49-bin.jar</code>、<code>druid-1.2.8.jar</code></p>
<p><strong>以下使用基于数据表user，包含增、改、删、查单个、查所有个的操作。</strong></p>
<p>数据库连接信息<code>database.properties</code></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#连接设置</span></span><br><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://192.168.222.137:3306/JavaTest?serverTimezone=GMT&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#初始化连接数量为10个</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">10</span></span><br><span class="line"><span class="comment">#最大连接数量</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">30</span></span><br><span class="line"><span class="comment">#最小空闲连接</span></span><br><span class="line"><span class="attr">maxIdle</span>=<span class="string">5</span></span><br><span class="line"><span class="comment">#超时等待时间</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">3000</span></span><br></pre></td></tr></table></figure>

<p>JDBC连接池工具<code>DbUtils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 11:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DbUtils</span> </span>&#123;</span><br><span class="line">    <span class="comment">//声明连接池对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DruidDataSource ds;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        InputStream is = DbUtils.class.getResourceAsStream(<span class="string">&quot;/database.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(is);</span><br><span class="line">            <span class="comment">//创建连接池</span></span><br><span class="line">            ds = (DruidDataSource) DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ds.getConnection();  <span class="comment">//通过连接池获得连接对象</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title">getDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    实现类<code>User.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.entity;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现类User</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 13:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> userId;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> userId, String username, String password, String address, String phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userId = userId;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">        <span class="keyword">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String username, String password, String address, String phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">        <span class="keyword">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getUserId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserId</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userId = userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPhone</span><span class="params">(String phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;userId=&quot;</span> + userId +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, phone=&#x27;&quot;</span> + phone + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DAO接口<code>UserDao.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.pools.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 13:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insert</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> userId)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">select</span><span class="params">(<span class="keyword">int</span> userId)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectAll</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DAO的接口实现类<code>UserDaoImpl.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.dao.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.pools.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.ya.pools.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.ya.pools.utils.DbUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 13:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> QueryRunner queryRunner = <span class="keyword">new</span> QueryRunner(DbUtils.getDataSource());</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insert</span><span class="params">(User user)</span> </span>&#123;      <span class="comment">//插入数据</span></span><br><span class="line">        Object[] parms = &#123;user.getUsername(),user.getPassword(),user.getAddress(),user.getPhone()&#125;;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> result = queryRunner.update(<span class="string">&quot;insert into user(username,password,address,phone) values(?,?,?,?);&quot;</span>,parms);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;      <span class="comment">//更新</span></span><br><span class="line">        Object[] parms = &#123;user.getUsername(),user.getPassword(),user.getAddress(),user.getPhone(),user.getUserId()&#125;;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> result = queryRunner.update(<span class="string">&quot;update user set username=?,password=?,address=?,phone=? where userId=?;&quot;</span>,parms);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;     <span class="comment">//删除</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> result = queryRunner.update(<span class="string">&quot;delete from user where userId=?&quot;</span>,userId);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">select</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;    <span class="comment">//查询单个</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            User user = queryRunner.query(<span class="string">&quot;select * from user where userId=?;&quot;</span>,<span class="keyword">new</span> BeanHandler&lt;User&gt;(User.class),userId);</span><br><span class="line">            <span class="keyword">return</span> user;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectAll</span><span class="params">()</span> </span>&#123;     <span class="comment">//查询所有</span></span><br><span class="line">        List&lt;User&gt; userList = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            userList = queryRunner.query(<span class="string">&quot;select * from user;&quot;</span>,<span class="keyword">new</span> BeanListHandler&lt;User&gt;(User.class));</span><br><span class="line">            <span class="keyword">return</span> userList;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试<code>TestDbutils.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ya.pools.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ya.pools.dao.Impl.UserDaoImpl;</span><br><span class="line"><span class="keyword">import</span> com.ya.pools.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.ya.pools.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/11/14 14:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDbutils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//插入数据</span></span><br><span class="line"><span class="comment">//        User user = new User(&quot;阿花&quot;,&quot;123456&quot;,&quot;中国&quot;,&quot;13000007891&quot;);</span></span><br><span class="line"><span class="comment">//        int result = userDao.insert(user);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;插入数据成功！返回值：&quot;+result);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        //更新数据</span></span><br><span class="line"><span class="comment">//        User user = new User(4,&quot;阿花&quot;,&quot;123456&quot;,&quot;中国&quot;,&quot;13000007891&quot;);</span></span><br><span class="line"><span class="comment">//        int result = userDao.update(user);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;更新数据成功！返回值：&quot;+result);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除数据</span></span><br><span class="line"><span class="comment">//        int result =  userDao.delete(4);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;删除成功！返回数值：&quot;+result);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询单个</span></span><br><span class="line"><span class="comment">//        User user = userDao.select(1);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;查询到id为&quot;+user.getUserId()+&quot;的数据为：&quot;+user);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询所有</span></span><br><span class="line">        List&lt;User&gt; userList = userDao.selectAll();</span><br><span class="line">        userList.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="八、前端基础"><a href="#八、前端基础" class="headerlink" title="八、前端基础"></a>八、前端基础</h4><p>另创建一个前端的Markdown文件写了</p>
<h4 id="九、Tomcat"><a href="#九、Tomcat" class="headerlink" title="九、Tomcat"></a>九、Tomcat</h4><p><code>安装Tomcat服务器其实是为了使用其中的Servlet功能</code></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955208.png" alt="image-20211014111623861" style="zoom:80%;" />

<p><code>myServlet.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/14 10:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myServlet</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;diyigeSevelet!!&quot;</span>);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> Date());     <span class="comment">//获取系统时间</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>web.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;3.1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是我的第一个myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.myjava.servlet.myServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是我的第一个myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myS<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>   <span class="comment">&lt;!--导入的路径，即打开的路径，打开网页需要输入的路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在浏览器中输入对应的网址进行访问后，idea控制台会输出内容</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955209.png" alt="image-20211014112636353"></p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955210.png" alt="image-20211014112752833"></p>
<p><strong>关于war包</strong></p>
<p>war包是web部署后的发布项目版本</p>
<p>项目完成后，有时候需要打成war方便部署。war包可以直接放入Tomcat的webapps目录中，启动Tomcat后自动解压，即可访问。</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955211.png" alt="image-20211014112309422"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=582">B站视频-war包部署</a></p>
<p>还有一个概念，<strong>热部署</strong>就是idea的部署Tomcat项目修改时不用项目手动复制到Tomcat的webapps目录中，可以直接在idea的终端中运行实现。</p>
<h4 id="十、Severlet"><a href="#十、Severlet" class="headerlink" title="十、Severlet"></a>十、Severlet</h4><h5 id="1、Servlet的核心接口和类"><a href="#1、Servlet的核心接口和类" class="headerlink" title="1、Servlet的核心接口和类"></a>1、Servlet的核心接口和类</h5><p>*<em>Servlet接口有两个默认的实现类：HttpServlet，GenericServlet</em></p>
<h6 id="（1）继承GenericServlet完成Servlet的编写"><a href="#（1）继承GenericServlet完成Servlet的编写" class="headerlink" title="（1）继承GenericServlet完成Servlet的编写"></a>（1）继承GenericServlet完成Servlet的编写</h6><p><code>GenericServlet</code>：GenericServlet抽象类的使用：使编写Servlet变得更加容易。提供生命周期的方法init和destroy的简单实现，编写一般的Servlet只需要重写service方法即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * GenericServlet抽象类的使用：使编写Servlet变得更加容易。提供生命周期的方法init和destroy的简单实现，编写一般的Servlet只需要重写service方法即可</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/14 22:56</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Genservlet</span> <span class="keyword">extends</span> <span class="title">GenericServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span>   <span class="comment">//编写一般的Servlet只需要重写service方法即可</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是GenericServlet打印的内容！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>web.xml</code>中添加如下内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--GenericServlet的连接使用--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是GenericServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.myjava.servlet.Genservlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是GenericServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myGS<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>    <span class="comment">&lt;!--注意这里的斜杆/--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<pre><code>这是GenericServlet打印的内容！
</code></pre>
<h6 id="（2）继承HttpServlet完成Servlet的编写"><a href="#（2）继承HttpServlet完成Servlet的编写" class="headerlink" title="（2）继承HttpServlet完成Servlet的编写"></a>（2）继承HttpServlet完成Servlet的编写</h6><p>HttpServlet是继承GenericServlet的基础上的进一步扩展。提供将要被子类化以创建使用于web站点的HTTP Servlet的抽象类。HttpServlet的子类至少必须重写一个方法，如doGet：用于Servlet支持HTTPGET请求；doPost：用于HTTP POST请求；doPut：用于HTTP PUT请求；doDelete：用于HTTP DELETE请求。</p>
<p><code>b2_HttpServlet.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**HTTPServlet的使用：HttpServlet是继承GenericServlet的基础上的进一步扩展。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/14 23:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b2HttpServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"><span class="comment">//    @Override     //这个是继承类GenericServlet的写法</span></span><br><span class="line"><span class="comment">//    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException &#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;HTTPServlet class&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是get请求！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是Post请求！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>web.xml</code>中添加</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTTPServlet的连接使用--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是HTTPServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.myjava.servlet.b2HttpServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>这是HTTPServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myHS<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>    <span class="comment">&lt;!--注意这里的斜杆/--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是<span class="keyword">get</span>请求!</span><br></pre></td></tr></table></figure>

<h5 id="2、Servlet的两种创建方式"><a href="#2、Servlet的两种创建方式" class="headerlink" title="2、Servlet的两种创建方式"></a>2、Servlet的两种创建方式</h5><p>实现接口Servlet（麻烦），比较麻烦，不推荐。代码在<code>myServlet.java</code>。</p>
<p>继承HttpServlet（推荐这个方式）</p>
<h6 id="方式一：实现Servlet接口"><a href="#方式一：实现Servlet接口" class="headerlink" title="方式一：实现Servlet接口"></a>方式一：实现Servlet接口</h6><p><em>代码在Tomcat那里</em></p>
<p>步骤：</p>
<ul>
<li>1.声明一个Servlet类，实现Servlet接口</li>
<li>2.实现service方法，处理请求，并响应数据</li>
<li>3.到web.xml中去配置Servlet程序的访问地址</li>
</ul>
<h6 id="方式二：继承HttpServlet类"><a href="#方式二：继承HttpServlet类" class="headerlink" title="方式二：继承HttpServlet类"></a>方式二：继承HttpServlet类</h6><p>步骤：</p>
<ul>
<li>1.声明一个Servlet类，继承于HttpServlet类</li>
<li>2.重写doGet()方法或者doPost()方法</li>
<li>3.到web.xml中去配置Servlet程序的访问地址</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/orzjiangxiaoyu/p/13643072.html">Servlet的两种创建方式-博客园</a></p>
<h5 id="3、Servlet的两种配置方式"><a href="#3、Servlet的两种配置方式" class="headerlink" title="3、Servlet的两种配置方式"></a>3、Servlet的两种配置方式</h5><h6 id="1、使用web-xml（Servlet2-5之前）"><a href="#1、使用web-xml（Servlet2-5之前）" class="headerlink" title="1、使用web.xml（Servlet2.5之前）"></a>1、使用web.xml（Servlet2.5之前）</h6><p><strong>Servlet的url pattern 匹配规则</strong></p>
<p>就是<code>web.xml</code>中的这句代码怎么写然后浏览器中该输入什么内容进行匹配</p>
<p>​            <code>精确匹配</code></p>
<p>　　            <url-pattern>中配置的项必须与url完全精确匹配。</p>
<p>​                    注：<url-pattern>/user/*/hi</url-pattern>     这里的 *不是通配符，是精确匹配</p>
<p>​            <code>扩展名匹配</code></p>
<p>　　            以 “*.” 开头的字符串被用于扩展名匹配</p>
<p>​                    注：<url-pattern>/user/*.html</url-pattern> 错误，会产生illegalArgumentException</p>
<p>​            <code>路径匹配</code></p>
<p>　　            以 “/” 字符开头，并以“/*”结尾的字符串用于路径匹配</p>
<p>​                    注：<url-pattern>/user/*/hi</url-pattern> 这里不是路径匹配，是精确匹配</p>
<p>​            <code>缺省匹配</code></p>
<p>​                    <url-pattern>/</url-pattern></p>
<p><strong>load-on-startup Servlet 启动优先级</strong></p>
<p>load-on-startup    在web.xml文件中添加，如</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"> 	<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>S1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"> 	<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.web.servlet.S1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"> 	<span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span>		<span class="comment">&lt;!--就是加了这一句--&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​            当值为0或者大于0时，表示容器在应用启动时就加载并初始化这个servlet；</p>
<p>​            正数的值越小，该servlet的优先级越高，应用启动时就越先加载；</p>
<p>​            不写load-on-startup的默认在网址中输入该请求时才会加载对应的Servlet文件。</p>
<h6 id="2、使用注解（Servlet3-0之后支持）"><a href="#2、使用注解（Servlet3-0之后支持）" class="headerlink" title="2、使用注解（Servlet3.0之后支持）"></a>2、使用注解（Servlet3.0之后支持）</h6><p>在新创建的Servlet文件import后添加这一句即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(value = &#123;&quot;/bs&quot;&#125;)</span>    <span class="comment">//使用注解配置Servlet,这样当重新创建一个Servlet文件时就不用再次到web.xml文件中配置了。/bs指的是可以通过bs访问</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">b3_BasicServlet</span> <span class="keyword">extends</span> <span class="title">b2HttpServlet</span></span>&#123;<span class="comment">//代码&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="4、Servlet应用【重点】"><a href="#4、Servlet应用【重点】" class="headerlink" title="4、Servlet应用【重点】"></a>4、Servlet应用【重点】</h5><h6 id="1、request对象"><a href="#1、request对象" class="headerlink" title="1、request对象"></a>1、request对象</h6><blockquote>
<p>在Servlet中用来处理客户端请求需要用doGet或doPosts方法的request对象</p>
</blockquote>
<h6 id="2、get请求和post请求"><a href="#2、get请求和post请求" class="headerlink" title="2、get请求和post请求"></a>2、get请求和post请求</h6><p>get明文传递，不安全，以?分割URL和传输数据，参数之间以&amp;相连，但效率高。若不指明</p>
<h6 id="3、request主要方法"><a href="#3、request主要方法" class="headerlink" title="3、request主要方法"></a>3、request主要方法</h6><p><code>get请求的例子</code></p>
<p>register.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>这是get请求的注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/myWeb_war_exploded/rs&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">        用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span><span class="attr">value</span>=<span class="string">&quot;注册&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c1_RegisterServlet.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * get请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/17 20:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/rs&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c1_RegisterServlet</span> <span class="keyword">extends</span> <span class="title">b2HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1、获取用户请求发送的数据</span></span><br><span class="line">        String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;提交的数据：&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>post请求的例子</code></p>
<p>打印到控制台时，post请求有中文乱码问题，要解决。【post中文乱码】</p>
<p><em>//先解决Post中文输入乱码问题</em><br>        <em>req.setCharacterEncoding(“utf-8”);</em></p>
<p>PRegister.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>这是Post请求的注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/myWeb_war_exploded/PRS&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span><span class="attr">value</span>=<span class="string">&quot;注册&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c2_postRS.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Post请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/17 20:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/PRS&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_postRS</span> <span class="keyword">extends</span> <span class="title">b2HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//先解决Post中文输入乱码问题</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">//1、获取用户请求发送的数据</span></span><br><span class="line">        String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;提交的数据：&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="4、response响应数据"><a href="#4、response响应数据" class="headerlink" title="4、response响应数据"></a>4、response响应数据</h6><p>给用户的请求输出响应数据，在浏览器里显示数据。</p>
<h6 id="5、response的主要方法"><a href="#5、response的主要方法" class="headerlink" title="5、response的主要方法"></a>5、response的主要方法</h6><p>显示时，请求时显示的内容有中文乱码问题，要解决，【post和get响应时都会有乱码问题】</p>
<p><code>方法一</code>:两行代码，不推荐</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解决Post响应时显示内容中文乱码的问题</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Type&quot;</span>,<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>方法二</code>简单、推荐</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解决Post响应时显示内容中文乱码的问题:方法二</span></span><br><span class="line">       resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>添加响应的Post请求:c2_postRS.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Post请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/10/17 20:40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/PRS&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">c2_postRS</span> <span class="keyword">extends</span> <span class="title">b2HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//先解决Post中文输入乱码问题</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">//1、获取用户请求发送的数据</span></span><br><span class="line">        String username = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;提交的数据：&quot;</span>+username+<span class="string">&quot;\t&quot;</span>+password);    <span class="comment">//这个是在控制台显示的</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、响应数据给客户端</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            //解决Post响应时显示内容中文乱码的问题:方法一</span></span><br><span class="line"><span class="comment">//        resp.setCharacterEncoding(&quot;utf-8&quot;);</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;Content-Type&quot;,&quot;text/html;charset=utf-8&quot;);</span></span><br><span class="line">        <span class="comment">//解决Post响应时显示内容中文乱码的问题:方法二</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        PrintWriter printWriter = resp.getWriter();</span><br><span class="line">        printWriter.println(<span class="string">&quot;注册成功！&quot;</span>);</span><br><span class="line">        printWriter.println(<span class="string">&quot;register success！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>添加响应的个体请求：在c1_RegisterServlet.java中添加以下这个即可</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2、响应数据给客户端</span></span><br><span class="line"><span class="comment">//解决Post响应时显示内容中文乱码的问题</span></span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">PrintWriter printWriter = resp.getWriter();</span><br><span class="line">printWriter.println(<span class="string">&quot;注册成功！&quot;</span>);</span><br><span class="line">printWriter.println(<span class="string">&quot;register success！&quot;</span>);</span><br></pre></td></tr></table></figure>



<h5 id="5、综合案例"><a href="#5、综合案例" class="headerlink" title="5、综合案例"></a>5、综合案例</h5><p>照着写了代码，但login的业务层登录时输入正确的用户名和密码却显示登录失败，找不到原因，控制台也没显示错误。showall的业务层可以显示出数据。代码在业务逻辑的Servlet中。</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955212.png" alt="image-20211218235452639"></p>
<h5 id="6、转发request"><a href="#6、转发request" class="headerlink" title="6、转发request"></a>6、转发request</h5><p>转发的作用在<strong>服务器端</strong>（不是网页的跳转，是在服务端的。客户端访问a，但服务器端把a跳转到b了），将请求发送给服务器上的其他资源，以共同完成一次请求的处理。</p>
<h6 id="6-1-request实现页面转发跳转"><a href="#6-1-request实现页面转发跳转" class="headerlink" title="6.1 request实现页面转发跳转"></a>6.1 request实现页面转发跳转</h6><p>使用forward跳转时，是在服务器内部跳转，网页地址栏不发生变化，属于同一次请求。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在调用业务逻辑的Servlet中，编写以下代码来实现跳转</span></span><br><span class="line">request.getRequestDispatcher(<span class="string">&quot;/目标URL-pattern&quot;</span>).forward(request, response);</span><br></pre></td></tr></table></figure>

<h6 id="6-2-数据传递"><a href="#6-2-数据传递" class="headerlink" title="6.2 数据传递"></a>6.2 数据传递</h6><blockquote>
<p>forward表示一次请求，是在服务器内部跳转，可以共享同一次request作用域中的数据</p>
<p>。request作用域:拥有存储数据的空间，作用范围是一次请求有效(一次请求可以经过多次转发)</p>
<p>​    可以将数据存入request后，在一次请求过程中的任何位置进行获取，<strong>可传递任何数据(基本数据类型、对象、数组、集合等)</strong></p>
<p>。存数据:request.setAttribute(key,value);<br>    以键值对形式存储在request作用域中。key为string类型，value为object类型。</p>
<p>。取数据:request.getAttribute(key);<br>    通过string类型的key访问object类型的value</p>
</blockquote>
<h6 id="6-3-转发的特点"><a href="#6-3-转发的特点" class="headerlink" title="6.3 转发的特点"></a>6.3 转发的特点</h6><blockquote>
<p>。转发是服务器行为<br>。转发是浏览器只做了一次访问请求</p>
<p>。转发浏览器地址不变<br>。转发两次跳转之间传输的信息不会丢失，所以可以通过request进行数据的传递</p>
<p>。转发只能将请求转发给同一个web应用中的组件</p>
</blockquote>
<h5 id="7、重定向response"><a href="#7、重定向response" class="headerlink" title="7、重定向response"></a>7、重定向response</h5><p>重定向作用在<strong>客户端</strong>，客户端将请求发送给服务器后，服务器响应给客户端一个新的请求地址，客户端重新发送新请求。</p>
<h6 id="7-1-response实现客户端页面跳转"><a href="#7-1-response实现客户端页面跳转" class="headerlink" title="7.1 response实现客户端页面跳转"></a>7.1 response实现客户端页面跳转</h6><p>网页上输入a的访问地址，但会跳转到b的访问地址</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在调用业务逻辑的Servlet中，编写以下代码</span></span><br><span class="line">response.sendRedirect(<span class="string">&quot;目标URl&quot;</span>);</span><br></pre></td></tr></table></figure>

<h6 id="7-2-数据传递"><a href="#7-2-数据传递" class="headerlink" title="7.2 数据传递"></a>7.2 数据传递</h6><blockquote>
<p>sendRedirect跳转时，地址栏改变，代表客户端重新发送的请求。属于两次请求</p>
<p>​    response没有作用域，两次request请求中的数据无法共享。只能传递String型的数据</p>
<p>​    。传递数据：通过uRI的拼接进行数据传递(“/webProject/b?username=tom”);</p>
<p>​    。获取数据：request.getParameter(“username”);</p>
</blockquote>
<h6 id="7-3-重定向的特点"><a href="#7-3-重定向的特点" class="headerlink" title="7.3 重定向的特点"></a>7.3 重定向的特点</h6><blockquote>
<p>重定向是客户端行为。</p>
<p>重定向是浏览器做了至少两次的访问请求。</p>
<p>重定向浏览器地址改变。</p>
<p>重定向两次跳转之间传输的信息会丢失(request范围)。</p>
<p>重定向可以指向任何的资源，包括当前应用程序中的其他资源、同一个站点上的其他应用程序中的资源、其他站点的资源。</p>
<p>重定向是明文传递(url是明文的，get请求)，不安全</p>
</blockquote>
<h5 id="8、转发、重定向总结"><a href="#8、转发、重定向总结" class="headerlink" title="8、转发、重定向总结"></a>8、转发、重定向总结</h5><blockquote>
<p>当两个Servlet需要传递数据时，选择forward转发（转发）。不建议使用sendRedirect进行传递（重定向），因为明文传递不安全。</p>
</blockquote>
<h5 id="9、Servlet的生命周期"><a href="#9、Servlet的生命周期" class="headerlink" title="9、Servlet的生命周期"></a>9、Servlet的生命周期</h5><p>实例化、初始化、服务、销毁</p>
<p><code>实例化、初始化、销毁</code>都只执行一次，<code>服务</code>执行多次，请求一次就执行一次。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955213.png" alt="image-20211219113951957" style="zoom:67%;" />



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.lifeServlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet的生命周期演示：实例化、初始化、服务、销毁</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/12/19 11:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/lifeServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">lifeServlet</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">lifeServlet</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1、实例化(只执行一次)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2、初始化(只执行一次)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;3、接受请求，响应结果(请求一次就执行一次)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;4、服务器关闭，执行销毁&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>运行结果</code></p>
<p>客户端结果</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955214.png" alt="image-20211219113556241"></p>
<p>控制台结果</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Web应用程序目录<span class="selector-attr">[D:\Tomcat\webapps\manager]</span>的部署已在<span class="selector-attr">[101]</span>毫秒内完成</span><br><span class="line"><span class="number">1</span>、实例化(只执行一次)</span><br><span class="line"><span class="number">2</span>、初始化(只执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line"><span class="number">3</span>、接受请求，响应结果(请求一次就执行一次)</span><br><span class="line">D:\Tomcat\bin\catalina<span class="selector-class">.bat</span> stop</span><br><span class="line">Using CATALINA_BASE:   <span class="string">&quot;C:\Users\****\.IntelliJIdea2019.3\system\tomcat\Unnamed_myWeb_3&quot;</span></span><br><span class="line">Using CATALINA_HOME:   <span class="string">&quot;D:\Tomcat&quot;</span></span><br><span class="line">Using CATALINA_TMPDIR: <span class="string">&quot;D:\Tomcat\temp&quot;</span></span><br><span class="line">Using JRE_HOME:        <span class="string">&quot;D:\Program Files\Java\jdk1.8.0_131&quot;</span></span><br><span class="line">Using CLASSPATH:       <span class="string">&quot;D:\Tomcat\bin\bootstrap.jar;D:\Tomcat\bin\tomcat-juli.jar&quot;</span></span><br><span class="line">Using CATALINA_OPTS:   <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="number">19</span>-Dec-<span class="number">2021</span> <span class="number">11</span>:<span class="number">34</span>:<span class="number">59.430</span> 信息 <span class="selector-attr">[main]</span> org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardServer</span><span class="selector-class">.await</span> 通过关闭端口接收到有效的关闭命令。正在停止服务器实例。</span><br><span class="line"><span class="number">19</span>-Dec-<span class="number">2021</span> <span class="number">11</span>:<span class="number">34</span>:<span class="number">59.431</span> 信息 <span class="selector-attr">[main]</span> org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span><span class="selector-class">.AbstractProtocol</span><span class="selector-class">.pause</span> 暂停ProtocolHandler<span class="selector-attr">[<span class="string">&quot;http-nio-8080&quot;</span>]</span></span><br><span class="line"><span class="number">4</span>、服务器关闭，执行销毁</span><br><span class="line"><span class="number">19</span>-Dec-<span class="number">2021</span> <span class="number">11</span>:<span class="number">35</span>:<span class="number">00.174</span> 信息 <span class="selector-attr">[main]</span> org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span><span class="selector-class">.StandardService</span><span class="selector-class">.stopInternal</span> 正在停止服务<span class="selector-attr">[Catalina]</span></span><br><span class="line"><span class="number">19</span>-Dec-<span class="number">2021</span> <span class="number">11</span>:<span class="number">35</span>:<span class="number">00.188</span> 信息 <span class="selector-attr">[main]</span> org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span><span class="selector-class">.AbstractProtocol</span><span class="selector-class">.stop</span> 正在停止ProtocolHandler <span class="selector-attr">[<span class="string">&quot;http-nio-8080&quot;</span>]</span></span><br><span class="line"><span class="number">19</span>-Dec-<span class="number">2021</span> <span class="number">11</span>:<span class="number">35</span>:<span class="number">00.222</span> 信息 <span class="selector-attr">[main]</span> org<span class="selector-class">.apache</span><span class="selector-class">.coyote</span><span class="selector-class">.AbstractProtocol</span><span class="selector-class">.destroy</span> 正在摧毁协议处理器 <span class="selector-attr">[<span class="string">&quot;http-nio-8080&quot;</span>]</span></span><br><span class="line">Disconnected from server</span><br></pre></td></tr></table></figure>

<h5 id="10、Servlet线程安全问题"><a href="#10、Servlet线程安全问题" class="headerlink" title="10、Servlet线程安全问题"></a>10、Servlet线程安全问题</h5><p>问题</p>
<blockquote>
<p>Servlet在访问之后，会执行实例化操作，创建一个Servlet对象。而我们Tomcat容器可以同时多个线程并发访问同一个Servlet，如果在方法中对成员变量做修改操作，就会有线程安全的问题。</p>
</blockquote>
<p>解决方法</p>
<blockquote>
<ul>
<li><p>synchronized(只能同时执行一个线程，若有多个线程，效率太低，不适用)</p>
<p>将存在线程安全问题的代码放到同步代码块中。</p>
</li>
<li><p>实现singleThreadModel接口</p>
<p>servlet实现SingleThreadModel接口后，每个线程都会创建servlet实例，这样每个客户端请求就不存在共享资源的问题，但是servlet响应客户端请求的效率太低，所以已经淘汰。</p>
</li>
<li><p>尽可能使用局部变量(用这个方法)</p>
</li>
</ul>
</blockquote>
<h4 id="十一、Cookie"><a href="#十一、Cookie" class="headerlink" title="十一、Cookie"></a>十一、Cookie</h4><p>客户端的状态管理技术Cookie技术</p>
<p>cookie是服务器响应给浏览器的一段数据。cookie由标识该信息的名称(name)和值(value)组成。</p>
<h5 id="1、创建Cookie对象测试"><a href="#1、创建Cookie对象测试" class="headerlink" title="1、创建Cookie对象测试"></a>1、创建Cookie对象测试</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.cookies;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/12/19 23:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/cookie&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CookieServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1、服务端创建对象</span></span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zairian&quot;</span>);</span><br><span class="line">        <span class="comment">//2、将Cookie响应给客户端</span></span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、Cookie设置路径及有效期"><a href="#2、Cookie设置路径及有效期" class="headerlink" title="2、Cookie设置路径及有效期"></a>2、Cookie设置路径及有效期</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建Cookie</span></span><br><span class="line">Cookie ck=<span class="keyword">new</span> Cookie(<span class="string">&quot;code&quot;</span>,<span class="string">&quot;codeValue&quot;</span>);</span><br><span class="line">ck.setPath(<span class="string">&quot;/webs&quot;</span>);		<span class="comment">//设置Cookie的路径</span></span><br><span class="line">ck.setMaxAge(-<span class="number">1</span>);		<span class="comment">//内存存储，取值有三种，&gt;0有效期，单位秒;=0浏览器关闭;&lt;0内存存储,默认-1</span></span><br><span class="line">response.addCookie(ck) ; <span class="comment">//添加到response对象中，响应时发送给客户端</span></span><br><span class="line"><span class="comment">//注意:有效路径:当前访问资源的上一级目录，不带主机名</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cookie.setPath(<span class="string">&quot;/myWeb_war_exploded/webs&quot;</span>);  <span class="comment">//设置Cookie的路径，只能通过这个路径才能访问这个Cookie。但在浏览器的url中依旧是输入@WebServlet(value = &quot;/cookie&quot;)的/cookie访问</span></span><br><span class="line">cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>);       <span class="comment">//内存存储，取值有三种，&gt;0有效期，单位秒;=0浏览器关闭;&lt;0内存存储,默认-1。60*60就是一个小时</span></span><br></pre></td></tr></table></figure>

<h5 id="3、Cookie的获取"><a href="#3、Cookie的获取" class="headerlink" title="3、Cookie的获取"></a>3、Cookie的获取</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.cookies;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Cookie的获取</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2021/12/20 22:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/get&quot;)</span>     <span class="comment">//在CookieServlet中设置的cookie的访问路径path为/get，所以这里要获取cookie路径也要为/get</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.通过request对象获取所有的cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">// 2.通过循环遍历Cookie</span></span><br><span class="line">        <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">            System.out.println(cookie.getName() + <span class="string">&quot;:&quot;</span> + cookie.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">       doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4、Cookie的修改"><a href="#4、Cookie的修改" class="headerlink" title="4、Cookie的修改"></a>4、Cookie的修改</h5><p>只要保证Cookie的名和路径一致即可修改。</p>
<p>注意:如果改变cookie的name和有效路径会新建cookie；而改变cookie值、有效期会覆盖原有cookie(即修改Cookie)</p>
<h5 id="5、Cookie的编码及接码"><a href="#5、Cookie的编码及接码" class="headerlink" title="5、Cookie的编码及接码"></a>5、Cookie的编码及接码</h5><blockquote>
<p>Cookie默认不支持中文，只能包含ASCII字符，所以Cookie需要对Unicode字符进行编码，否则会出现乱码。</p>
<p>编码使用java.net.URLEncoder类的URLEncoder.encode(String str,String encoding)方法<br>解码使用java.net.URLDecoder类的URLEncoder.decode(String str,String encoding)方法</p>
</blockquote>
<p>编码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(value = &quot;/ck&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CookieCode</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(URLEncoder.encode(<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>),URLEncoder.encode(<span class="string">&quot;男&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>));     <span class="comment">//Cookie对中文乱码编码</span></span><br><span class="line">        cookie.setPath(<span class="string">&quot;/myWeb_war_exploded/get&quot;</span>);</span><br><span class="line">        cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>解码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">    System.out.println(URLDecoder.decode(cookie.getName(),<span class="string">&quot;UTF-8&quot;</span>)+ <span class="string">&quot;:&quot;</span> + URLDecoder.decode(cookie.getValue(),<span class="string">&quot;UTF-8&quot;</span>));        <span class="comment">//Cookie对中文乱码解码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6、Cookie总结"><a href="#6、Cookie总结" class="headerlink" title="6、Cookie总结"></a>6、Cookie总结</h5><blockquote>
<p>优点:<br>1、可配置到期规则。<br>2、简单性:Cookie是一种基于文本的轻量结构，包含简单的键值对。<br>3、数据持久性:Cookie默认在过期之前是可以一直存在客户端浏览器上的。<br>缺点:<br>1.大小受到限制:大多数浏览器对cookie的大小有4K、8K字节的限制。<br>2、用户配置为禁用:有些用户禁用了浏览器或客户端设备接收Cookie的能力，因此限制了这一功能。</p>
<p>3、潜在的安全风险: Cookie可能会被篡改。会对安全性造成潜在风险或者导致依赖于Cookie 的应用程序失败。</p>
</blockquote>
<h4 id="十二、Session"><a href="#十二、Session" class="headerlink" title="十二、Session"></a>十二、Session</h4><p>服务端的状态管理技术Session技术</p>
<h5 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h5><blockquote>
<p>Session用于记录用户的状态。Session指的是在一段时间内，单个客户端与web服务器的一连串相关的交互过程。<br>在一个Session中，客户可能会多次请求访问同一个资源，也有可能请求访问各种不同的服务器资源。</p>
</blockquote>
<h5 id="2、Session原理"><a href="#2、Session原理" class="headerlink" title="2、Session原理"></a>2、Session原理</h5><blockquote>
<p>服务器会为每一次会话分配一个Session对象<br>同一个浏览器发起的多次请求，同属于一次会话(Session)<br>首次使用到Session时，服务器会自动创建Session，并创建Cookie存储SessionId发送回客户端</p>
<p>Session是由服务端创建的</p>
</blockquote>
<h5 id="3、Session的使用"><a href="#3、Session的使用" class="headerlink" title="3、Session的使用"></a>3、Session的使用</h5><blockquote>
<p>Session作用域:拥有存储数据的空间，作用范围是一次会话有效</p>
<p>。一次会话是使用同一浏览器发送的多次请求。一旦浏览器关闭，则结束会话。浏览器不关闭的话，session的ID是一样的。</p>
<p>。可以将数据存入Session中，在一次会话的任意位置进行获取</p>
<p>。<strong>可传递任何数据(基本数据类型、对象、集合、数组)</strong></p>
</blockquote>
<p>这样创建session 更快捷</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955215.png" alt="image-20211222092138568"></p>
<p>Session的存储获取移除数据</p>
<p>  获取：String s = (String) session.getAttribute( “username”);</p>
<p>  移除：session.removeAttribute(“username”);</p>
<h5 id="4、Session与Request的应用区别"><a href="#4、Session与Request的应用区别" class="headerlink" title="4、Session与Request的应用区别"></a>4、Session与Request的应用区别</h5><blockquote>
<p>request是一次请求有效，请求改变，则request改变。</p>
<p>session是一次会话有效，浏览器改变，则session改变，浏览器关闭在打开session就会发生改变。</p>
</blockquote>
<h5 id="5、Session的生命周期"><a href="#5、Session的生命周期" class="headerlink" title="5、Session的生命周期"></a>5、Session的生命周期</h5><blockquote>
<ul>
<li><p>开始：第一次使用到Session的请求产生，则创建Session。</p>
</li>
<li><p>结束:</p>
<p>浏览器关闭，则失效</p>
<p>Session超时，则失效</p>
<pre><code>    session.setMaxInactivelnterval(seconds);    //设置最大有效时间(单位:秒)，超过这个时间Session的id就会发生改变。
</code></pre>
<p>手工销毁，则失效</p>
<pre><code>     session.invalidate0;    //登录退出、注销
</code></pre>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session.setMaxInactiveInterval(<span class="number">10</span>);     <span class="comment">//设置Session的生命周期为10秒，10秒过后Session就会发生改变</span></span><br><span class="line">System.out.println(session.getId());     <span class="comment">//用Session的id来观察</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HttpSession session = request.getSession();		<span class="comment">//不设置时间，浏览器关闭Session才会失效</span></span><br><span class="line">System.out.println(session.getId());</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">7C8DCA227C0F0A985A07C8E0B67671E4</span><br><span class="line">7C8DCA227C0F0A985A07C8E0B67671E4</span><br><span class="line">B4F55AD81CDF53AE8DA87BC8AF86A698		<span class="comment">//10秒之后Session改变了</span></span><br></pre></td></tr></table></figure>

<p>手动销毁Session</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.invalidate();       <span class="comment">//销毁Session，相当于登录退出、注销</span></span><br></pre></td></tr></table></figure>

<p>运行结果，每次访问都是新的Session</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3F70C52F59BDA81FF1BA24453AB4F8F0</span><br><span class="line">DEC14EA7BB51330E586D1C3AAD9BE97C</span><br></pre></td></tr></table></figure>

<h5 id="6、浏览器禁用Cookie的解决方案"><a href="#6、浏览器禁用Cookie的解决方案" class="headerlink" title="6、浏览器禁用Cookie的解决方案"></a>6、浏览器禁用Cookie的解决方案</h5><p>重写URL，即在URL后加上session的值，这样每次访问都是同一个session，记录值也就一样了。</p>
<h5 id="7、Session实现验证码"><a href="#7、Session实现验证码" class="headerlink" title="7、Session实现验证码"></a>7、Session实现验证码</h5><p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955216.png" alt="image-20211229235702709"></p>
<h5 id="8、ServletContext对象【重点】"><a href="#8、ServletContext对象【重点】" class="headerlink" title="8、ServletContext对象【重点】"></a>8、ServletContext对象【重点】</h5><h6 id="8-1-ServletContext描述"><a href="#8-1-ServletContext描述" class="headerlink" title="8.1 ServletContext描述"></a>8.1 ServletContext描述</h6><blockquote>
<p>全局对象，也拥有作用域，对应一个Tomcat中的web应用。</p>
<p>当web服务器启动时，会为每一个web应用程序创建一块共享的存储区域(ServletContext) 。</p>
<p>ServletContext在Web服务器启动时创建，服务器关闭时销毁。</p>
</blockquote>
<h6 id="8-2-获取ServletContext对象"><a href="#8-2-获取ServletContext对象" class="headerlink" title="8.2 获取ServletContext对象"></a>8.2 获取ServletContext对象</h6><blockquote>
<p>GenericServlet提供了getServletContext()方法。**(推荐) this.getServletContext();**</p>
<p>HttpServletRequest提供了getServletContext()方法。**(推荐)**</p>
<p>HttpSession提供了getServletContext()方法。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.通过this. getServletContext();</span></span><br><span class="line">ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line"><span class="comment">//2.通过request对象获取</span></span><br><span class="line">ServletContext servletContext1 = request.getServletContext();</span><br><span class="line"><span class="comment">//3.通过session对象获取</span></span><br><span class="line">HttpSession session = request.getSession() ;</span><br><span class="line">ServletContext servletContext2 = session.getServletContext();</span><br><span class="line"></span><br><span class="line">System.out.println(servletContext);</span><br><span class="line">System.out.println(servletContext1);</span><br><span class="line">System.out.println(servletContext2);</span><br></pre></td></tr></table></figure>

<p>三个的获取方法输出的都是一样的</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span>.ApplicationContextFacade@<span class="number">519827</span>c6</span><br><span class="line">org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span>.ApplicationContextFacade@<span class="number">519827</span>c6</span><br><span class="line">org<span class="selector-class">.apache</span><span class="selector-class">.catalina</span><span class="selector-class">.core</span>.ApplicationContextFacade@<span class="number">519827</span>c6</span><br></pre></td></tr></table></figure>



<h6 id="8-3-ServletContext作用"><a href="#8-3-ServletContext作用" class="headerlink" title="8.3 ServletContext作用"></a>8.3 ServletContext作用</h6><p><strong>①获取项目真实路径</strong></p>
<blockquote>
<p>获取当前项目在服务器发布的真实路径</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(servletContext.getRealPath(<span class="string">&quot;/&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:<span class="symbol">\M</span>yITData<span class="symbol">\J</span>avaIDEA<span class="symbol">\J</span>avaStudy<span class="symbol">\m</span>yWeb<span class="symbol">\o</span>ut<span class="symbol">\a</span>rtifacts<span class="symbol">\m</span>yWeb_war_exploded\</span><br></pre></td></tr></table></figure>



<p><strong>②获取项目上下文路径</strong></p>
<blockquote>
<p>获取当前项目上下文路径(应用程序名称)，即项目的名称。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(servletContext.getContextPath());	<span class="comment">//上下文路径(应用程序名称)</span></span><br><span class="line">System.out.println(request. getContextPath());</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/myWeb_war_exploded</span></span><br></pre></td></tr></table></figure>

<p><strong>③全局容器</strong> </p>
<blockquote>
<p>ServletContext拥有作用域，可以存储数据到全局容器中<br>存储数据: servletContext.setAttribute(“name”value);<br>获取数据: servletContext.getAttribute(“name”);<br>移除数据: servletContext.removeAttribute(“name”);</p>
</blockquote>
<p>存一个全局的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用来做全局容器</span></span><br><span class="line">servletContext.setAttribute(<span class="string">&quot;context&quot;</span>,<span class="string">&quot;info&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>其他地方获取这个数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取servletContext对象</span></span><br><span class="line">ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line"><span class="comment">//获取全局数据</span></span><br><span class="line">String s = (String)servletContext.getAttribute( <span class="string">&quot;context&quot;</span>);</span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure>

<h6 id="8-4-ServletContext特点"><a href="#8-4-ServletContext特点" class="headerlink" title="8.4 ServletContext特点"></a>8.4 ServletContext特点</h6><blockquote>
<p>唯一性：一个应用对应一个servletContext。<br>生命周期：只要容器不关闭或者应用不卸载，ServletContext就一直存在。</p>
</blockquote>
<h6 id="8-5-ServletContext应用场景"><a href="#8-5-ServletContext应用场景" class="headerlink" title="8.5 ServletContext应用场景"></a>8.5 ServletContext应用场景</h6><blockquote>
<p>使用ServletContext统计当前项目的访问次数</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.获取ServletContext对象</span></span><br><span class="line">ServletContext servletContext = request.getServletContext();</span><br><span class="line"><span class="comment">//2.获取计数器</span></span><br><span class="line">Integer counter = (Integer) servletContext.getAttribute(<span class="string">&quot;counter&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (counter == <span class="keyword">null</span>) &#123;</span><br><span class="line">    counter = <span class="number">1</span>;</span><br><span class="line">    servletContext.setAttribute(<span class="string">&quot;counter&quot;</span>, counter);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    counter++;</span><br><span class="line">    servletContext.setAttribute(<span class="string">&quot;counter&quot;</span>, counter);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;counter:&quot;</span> + counter);</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">counter</span>:<span class="number">1</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">2</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">3</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">4</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">5</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">6</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">7</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">8</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">9</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">10</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">11</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>每个人访问的次数都是依次叠加的，这里的show和counter就相当于两个不同的使用者</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">show</span>:<span class="number">1</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">2</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">3</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">4</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">5</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">6</span></span><br><span class="line"><span class="attribute">counter</span>:<span class="number">7</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">8</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">9</span></span><br><span class="line"><span class="attribute">show</span>:<span class="number">10</span></span><br></pre></td></tr></table></figure>



<h6 id="8-6-作用域总结"><a href="#8-6-作用域总结" class="headerlink" title="8.6 作用域总结"></a>8.6 作用域总结</h6><blockquote>
<p>HttpServletRequest：一次请求，请求响应之前有效。</p>
<p>HttpSession：一次会话开始，浏览器不关闭或不超时之前有效。</p>
<p>ServletContext：服务器启动开始，服务器停止之前有效。</p>
</blockquote>
<h4 id="十三、过滤器Filter"><a href="#十三、过滤器Filter" class="headerlink" title="十三、过滤器Filter"></a>十三、过滤器Filter</h4><p>FilterConfig接口用于定义FilterConfig对象应该对外提供的方法，以便在Filter程序中可以调用这些方法来获取ServletContext对象，以及获取在web.xml文件中为Filter设置的友好名称和初始化参数。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33628614/article/details/78833784">CSDN-Filter详解</a></p>
<h5 id="1、什么是过滤器？做什么用？"><a href="#1、什么是过滤器？做什么用？" class="headerlink" title="1、什么是过滤器？做什么用？"></a>1、什么是过滤器？做什么用？</h5><blockquote>
<p>开发者用Filter技术管理web的资源，对一些静态文件进行过滤拦截，得到想要的信息，就像过滤器一样。</p>
</blockquote>
<blockquote>
<p>作用是对web的资源进行有效的管理，比如过滤掉敏感信息等，让目标文件上传到web服务器上。</p>
</blockquote>
<h5 id="2、如何使用"><a href="#2、如何使用" class="headerlink" title="2、如何使用"></a>2、如何使用</h5><blockquote>
<p>Servlet API 中有一个Filter接口，若编写某个java类实现这个接口，则把这个java类称为过滤器Filter。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">interface</span> <span class="title">Filter</span></span>&#123;  </span><br><span class="line"> <span class="comment">//初始化方法</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig paramFilterConfig)</span> <span class="keyword">throws</span> ServletException</span>;  </span><br><span class="line"> <span class="comment">//执行操作</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest paramServletRequest, ServletResponse          </span></span></span><br><span class="line"><span class="params"><span class="function"> paramServletResponse, FilterChain paramFilterChain)</span> <span class="keyword">throws</span>  IOException,ServletException</span>;  </span><br><span class="line"> <span class="comment">//销毁方法</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>;  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>Filter接口中有一个<strong>doFilter方法</strong>，作用：<br>调用目标资源之前，让一段代码执行。<br>是否调用目标资源（即是否让用户访问web资源）。<br>调用目标资源之后，让一段代码执行。</p>
<p>web服务器在调用doFilter方法时，会传递一个<strong>filterChain对象</strong>进来，filterChain对象是filter接口中最重要的一个对象，它也提供了一个doFilter方法，开发人员可以根据需求决定是否调用此方法，调用该方法，则web服务器就会调用web资源的service方法，即web资源就会被访问，否则web资源不会被访问。</p>
<p>编写多个Filter,这些Filter组合起来称之为<strong>Filter链</strong> 。</p>
</blockquote>
<blockquote>
<p>使用Filter开发步骤：</p>
<p>1.编写java类实现Filter接口，并实现其doFilter方法<br>2.在web.xml中使用<Filter>和<Filter-mapping> 元素对Filter进行注册，并设置它所能拦截的资源。</p>
</blockquote>
<h5 id="3、怎么进行访问查看效果呢？"><a href="#3、怎么进行访问查看效果呢？" class="headerlink" title="3、怎么进行访问查看效果呢？"></a>3、怎么进行访问查看效果呢？</h5><blockquote>
<p>先创建一个Servlet文件，再正对性的创建过滤器对Servlet的内容进行过滤</p>
<p>Servlet文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;TargetServlet&quot;,value = &quot;/t&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TargetServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;Servlet的内容！Filter进行拦截在执行该内容&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     doPost(request, response);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>过滤器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(value = &quot;/t&quot;)</span>       <span class="comment">//这里的访问标识与拦截的TargetServlet对应。指的是拦截/t的资源</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;过滤器Filter！&quot;</span>);</span><br><span class="line">     <span class="comment">//拦截TargetServlet的内容后再继续执行TargetServlet——即让请求继续</span></span><br><span class="line">     filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">     <span class="comment">//执行完TargetServlet的内容后再返回过滤器接着执行</span></span><br><span class="line">     System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>浏览器访问<a target="_blank" rel="noopener" href="http://localhost:8080/myWeb_war_exploded/t%E5%8D%B3%E5%8F%AF%E5%9C%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA">http://localhost:8080/myWeb_war_exploded/t即可在控制台输出</a></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">过滤器<span class="keyword">Filter</span>！</span><br><span class="line">Servlet的内容！<span class="keyword">Filter</span>进行拦截在执行该内容</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h5 id="4、注解配置web-xml中配置"><a href="#4、注解配置web-xml中配置" class="headerlink" title="4、注解配置web.xml中配置"></a>4、注解配置web.xml中配置</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Filter注解的web.xml配置方式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>xml注解配置<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span>       <span class="comment">&lt;!--定义filter的名称。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.myjava.filter.zhujieFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>xml注解配置<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/zhujie<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>      <span class="comment">&lt;!--这里的路径是拦截的路径--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="5、配置拦截路径的三种方式"><a href="#5、配置拦截路径的三种方式" class="headerlink" title="5、配置拦截路径的三种方式"></a>5、配置拦截路径的三种方式</h5><p>在过滤器文件中进行配置@WebFilter() ，如@WebFilter(value = “/t”) ，注意单独的/不能起到拦截作用</p>
<blockquote>
<p>过滤器的拦截路径通常有三种形式:<br>精确拦截匹配，比如 /index.jsp         /myservlet<br>后缀拦截匹配，比如*.jsp、 *.html、 * .jpg<br>通配符拦截匹配 /*，表示拦截所有。注意过滤器不能使用 / 匹配。</p>
<p>/aaa/bbb/* 允许</p>
</blockquote>
<h5 id="6、过滤器链及优先级"><a href="#6、过滤器链及优先级" class="headerlink" title="6、过滤器链及优先级"></a>6、过滤器链及优先级</h5><p>过滤器优先级</p>
<blockquote>
<p>在一个web应用中，可以开发编写多个Filter，这些Filter组合起来称之为一个Filter链。</p>
<p>优先级:<br>如果为注解的话，是按照类全名称的字符串顺序决定作用顺序。<br>如果web.xml，按照 filter-mapping 注册顺序，从上往下。<br>web.xml配置高于注解方式。<br>如果注解和web.xml同时配置，会创建多个过滤器对象，造成过滤多次。</p>
</blockquote>
<p><strong>默认优先级：监听器Listener&gt;过滤器Filter&gt;Servlet</strong></p>
<h5 id="7、过滤器应用一：乱码处理"><a href="#7、过滤器应用一：乱码处理" class="headerlink" title="7、过滤器应用一：乱码处理"></a>7、过滤器应用一：乱码处理</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(value = &quot;/*&quot;)</span>        <span class="comment">//匹配整个内容</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">//统一处理请求和响应乱码</span></span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="8、过滤器应用二：权限认证"><a href="#8、过滤器应用二：权限认证" class="headerlink" title="8、过滤器应用二：权限认证"></a>8、过滤器应用二：权限认证</h5><p>代码略</p>
<h4 id="十四、监听器"><a href="#十四、监听器" class="headerlink" title="十四、监听器"></a>十四、监听器</h4><p>这个视频中没有，这是补充的。</p>
<h5 id="1、什么是监听器？作用是？"><a href="#1、什么是监听器？作用是？" class="headerlink" title="1、什么是监听器？作用是？"></a>1、什么是监听器？作用是？</h5><blockquote>
<p>监听器是web应用程序中监听程序并对此做出反应的程序。</p>
</blockquote>
<blockquote>
<p>监听器的主要作用是在web程序中及时对某个事件作出不反应，增强web应用的事件处理能力。</p>
</blockquote>
<h5 id="2、监听器种类"><a href="#2、监听器种类" class="headerlink" title="2、监听器种类"></a>2、监听器种类</h5><p>监听器主要分为三类8种</p>
<p>三类主要是指三个域：ServletContext、HttpSession、ServletRequest的对应一些操作(比如域对象的创建与销毁事件)的监听。事件源：被监听的对象(三个域对象 request、session、servletContext) </p>
<p>其中<strong>ServletContext</strong>有：<br> —-ServletContextListener监听<code>ServletContext对象</code>的创建和销毁事件。(生命周期监听)<br> —-ServletContextAttributeListener监听对ServletContext属性的操作，比如说增加，删除，修改。(属性监听)</p>
<p><strong>HttpSession</strong>有：<br> —-HttpSessionListener监听<code>Session对象</code>的创建与销毁。(生命周期监听)<br> —-HttpSessionAttributeListener监听Session的属性操作，比如添加、替换、移除属性。(属性监听)<br> —-HttpSessionActivationListener监听HTTP会话的active和passivate情况，passivate是指非活动的session被写入持久设备（如硬盘），active相反。实体类被序列化或反序列化。(感知Session监听)<br> —-HttpSessionBindingListener监听器感知Session绑定的事件监听器，比如实体类从Session中被放入或移除。(感知Session监听)</p>
<p><strong>ServletRequest</strong>有：<br> —-ServletRequestListener监听<code>Requst对象</code>的创建或销毁。(生命周期监听)<br> —-ServletRequestAttributeListener监听Request中的属性操作，添加、替换、移除。(属性监听)</p>
<h5 id="3、怎样实现一个监听器？"><a href="#3、怎样实现一个监听器？" class="headerlink" title="3、怎样实现一个监听器？"></a>3、怎样实现一个监听器？</h5><p>首先要有事件、接着再设计监听程序。</p>
<p>一个类实现某个监听器接口，然后实现接口对应的方法，达到监听具体事项的动作。</p>
<p><strong>例子</strong></p>
<p>使用HttpSessionListener监听：监听Session的对象的创建和销毁</p>
<p>事件：Session的对象的创建和销毁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;createSessionServlet&quot;,value = &quot;/session1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">createSessionServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//创建Session对象</span></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;Session对象创建了！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;destroyedSessionServlet&quot;,value = &quot;/session2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">destroyedSessionServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//销毁Session对象。这里销毁的是createSessionServlet中创建的Session对象</span></span><br><span class="line">        request.getSession().invalidate();      <span class="comment">//手动销毁Session对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;session对象被销毁了！&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>监听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Listenertest</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//监听Session对象的创建</span></span><br><span class="line">        System.out.println(<span class="string">&quot;正在监听Session对象的创建！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//监听Session对象的销毁</span></span><br><span class="line">        System.out.println(<span class="string">&quot;正在监听Session对象的销毁！&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Session</span>对象创建了！</span><br><span class="line">正在监听<span class="keyword">Session</span>对象的销毁！</span><br><span class="line"><span class="keyword">session</span>对象被销毁了！</span><br><span class="line">正在监听<span class="keyword">Session</span>对象的创建！</span><br><span class="line"><span class="keyword">Session</span>对象创建了！</span><br><span class="line">正在监听<span class="keyword">Session</span>对象的销毁！</span><br><span class="line"><span class="keyword">session</span>对象被销毁了！</span><br></pre></td></tr></table></figure>



<h5 id="4、监听器应用：统计在线人数"><a href="#4、监听器应用：统计在线人数" class="headerlink" title="4、监听器应用：统计在线人数"></a>4、监听器应用：统计在线人数</h5><p>原理：使用HttpSessionListener监听Session对象的创建(人数+1)和销毁(人数-1)，打开浏览器时就会创建一个Session对象，关闭浏览器或者退出网站会销毁Session对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 在线人数监听</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2022/2/21 23:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">onlineNumListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer num=<span class="number">0</span>;  <span class="comment">//初始在线人数为0</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//监听Session的创建，在线人数+1</span></span><br><span class="line">        num++;</span><br><span class="line">        <span class="comment">//将人数保存到ServletContext作用域中，因为要保持在不同的浏览器中的人数统计同步，即让Session的生命周期改变。</span></span><br><span class="line">        se.getSession().getServletContext().setAttribute(<span class="string">&quot;num&quot;</span>,num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//监听Session的创建，在线人数-1</span></span><br><span class="line">        num--;</span><br><span class="line">        se.getSession().getServletContext().setAttribute(<span class="string">&quot;num&quot;</span>,num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.myjava.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2022/2/21 23:35</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(name = &quot;onlineNumServlet&quot;,value = &quot;/ONS&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">onlineNumServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">       <span class="comment">//创建Session对象</span></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        <span class="comment">//获取参数值key</span></span><br><span class="line">        String key = request.getParameter(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        <span class="comment">//判断参数是否为空，如果不为空，则表示做退出操作。在线人数-1</span></span><br><span class="line">        <span class="keyword">if</span> (key != <span class="keyword">null</span> &amp;&amp;<span class="string">&quot;logout&quot;</span>.equals(key)) &#123;</span><br><span class="line">            <span class="comment">//销毁session对象</span></span><br><span class="line">            session.invalidate();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//登录操作，在线人数+1   得到当前作用域的在线人数</span></span><br><span class="line">        Integer num = (Integer) session.getServletContext().getAttribute(<span class="string">&quot;num&quot;</span>);</span><br><span class="line">        <span class="comment">//设置响应类型即编码</span></span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//输出人数</span></span><br><span class="line">        response.getWriter().write(<span class="string">&quot;&lt;h2&gt;当前在线人数：&quot;</span>+num+<span class="string">&quot;&lt;/h2&gt; &lt;a href=&#x27;ONS?key=logout&#x27;&gt;退出&lt;/a&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果，可在多个浏览器中打开URL进行访问来充当人数。</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955217.png" alt="image-20220222001443651" style="zoom:67%;" />



<p><strong>为什么明明是一个浏览器打开人数却显示2？？</strong></p>
<h4 id="十五、综合案例——EMP"><a href="#十五、综合案例——EMP" class="headerlink" title="十五、综合案例——EMP"></a>十五、综合案例——EMP</h4><p>对整个Servlet的内容进行整合应用的案例。（第625~631集）</p>
<h4 id="十六、JSP"><a href="#十六、JSP" class="headerlink" title="十六、JSP"></a>十六、JSP</h4><h5 id="1、JSP是什么"><a href="#1、JSP是什么" class="headerlink" title="1、JSP是什么"></a>1、JSP是什么</h5><p>JSP是Java服务器页面的英文简称，是运行在服务端的语言，是跨平台的动态网页技术标准，通过在HTML中插入Java程序从而形成 *.JSP文件。</p>
<h5 id="2、JSP作用"><a href="#2、JSP作用" class="headerlink" title="2、JSP作用"></a>2、JSP作用</h5><blockquote>
<p>替换显示页面部分的Servlet(使用*.jsp文件替换XxxJSP.java)</p>
</blockquote>
<h5 id="3、创建一个JSP文件"><a href="#3、创建一个JSP文件" class="headerlink" title="3、创建一个JSP文件"></a>3、创建一个JSP文件</h5><p>先创建一个JavaEE的Web项目</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955218.png" alt="image-20220223212950058" style="zoom:50%;" />

<p>JSP支持热部署，可以设置一下，编辑项目的Tomcat配置</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955219.png" alt="image-20220223213535325" style="zoom: 67%;" />



<p>接着在项目的web文件夹下新建一个.JSP文件</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955220.png" alt="image-20220223213128885" style="zoom: 67%;" />





<p>完成</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955221.png" alt="image-20220223213217536" style="zoom:50%;" />



<p>JSP文件    <code>first.jsp</code></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">86184</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">2</span>/<span class="number">23</span></span><br><span class="line">  Time: <span class="number">21</span>:<span class="number">24</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;第一个JSP文件&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=<span class="string">&quot;center&quot;</span>&gt;第一个JSP文件&lt;/h1&gt;</span><br><span class="line">&lt;h2&gt;当前时间：&lt;%= <span class="keyword">new</span> java.util.Date() %&gt;&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h5 id="4、JSP与Servlet的关系与区别"><a href="#4、JSP与Servlet的关系与区别" class="headerlink" title="4、JSP与Servlet的关系与区别"></a>4、JSP与Servlet的关系与区别</h5><blockquote>
<p>关系</p>
<p>​    JSP文件在容器中会转换成Servlet执行。<br>​    JSP是对sexlet的一种高级封装。本质还是Servlet。</p>
<p>区别<br>    与Servlet,相比: JSP可以很方便的编写或者修改HTML网页而不用去面对大量的println语句。</p>
</blockquote>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955222.png" alt="image-20220223214144586" style="zoom: 80%;" />



<h5 id="5、JSP与HTML集成开发"><a href="#5、JSP与HTML集成开发" class="headerlink" title="5、JSP与HTML集成开发"></a>5、JSP与HTML集成开发</h5><h6 id="5-1-脚本"><a href="#5-1-脚本" class="headerlink" title="5.1 脚本"></a>5.1 脚本</h6><blockquote>
<p>脚本可以编写Java语句、变量、方法或表达式。</p>
</blockquote>
<p>5.1.1 普通脚本</p>
<blockquote>
<p>语法：&lt;% Java代码 %&gt;</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;普通脚本&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="keyword">int</span> a=<span class="number">10</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;打印在控制台的&quot;</span>+a);</span><br><span class="line">        out.println(<span class="string">&quot;打印在客户端的&quot;</span>+a);</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>经验：普通脚本可以使用所有Java语法，除了定义函数。<br>注意：脚本与脚本之间不可嵌套，脚本与HTML标签不可嵌套</p>
<p>5.1.2 声明脚本</p>
<blockquote>
<p>语法：&lt;%! 定义变量、函数 %&gt;</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">    <span class="keyword">int</span> b=<span class="number">20</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;声明一个方法：play()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">math</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>声明脚本声明的变量是全局变量。<br>声明脚本的内容必须在普通脚本&lt;% %&gt;中调用。<br>如果声明脚本中的函数具有返回值，使用输出脚本调用&lt;%= %&gt;</p>
<p>5.1.3输出脚本</p>
<blockquote>
<p>语法：&lt;%= Java表达式%&gt;</p>
</blockquote>
<p>经验：输出脚本可以输出带有返回值的函数<br>注意：输出脚本中不能加;</p>
<h6 id="5-2-注释"><a href="#5-2-注释" class="headerlink" title="5.2 注释"></a>5.2 注释</h6><blockquote>
<p>可为脚本代码做注释及为HTML内容注释</p>
</blockquote>
<p>&lt;%–  注释  –%&gt; JSP注释，注释内容不会被发送至浏览器甚至不会被编译，网页源代码也查看不到注释，在.jsp文件编译成的.java源文件也看不到。</p>
<!-- 注释 --> HTML注释，通过浏览器查看网页源代码时可以看见注释内容，在.jsp文件编译成的.java源文件也可看到。



<h6 id="5-3-JSP指令"><a href="#5-3-JSP指令" class="headerlink" title="5.3 JSP指令"></a>5.3 JSP指令</h6><blockquote>
<p>JSP指令可用来设置与整个JSP页面相关的属性。</p>
</blockquote>
<p><strong>常用的三个指令</strong>：</p>
<p>&lt;%@ page …%&gt;    定义页面的依赖属性，比如脚本语言、error页面、缓存需求等等。</p>
<p>&lt;%@ include …%&gt;    包含其他文件。<br>&lt;%@ taglib …%&gt;    引入标签库的定义，可以是自定义标签。</p>
<p>5.3.1 Page指令</p>
<blockquote>
<p>语法:&lt;%@ page attribute1=”valuel” attribute2=”value2” %&gt;</p>
<p>Page指令为容器提供当前页面的使用说明。一个JSP页面可以包含多个page指令。</p>
</blockquote>
<p><code>contentType</code>：指定当前JSP页面的MIME类型和字符编码格式。<br><code>errorPage</code>：指定当JSP页面发生异常时需要转向的错误处理页面。<br><code>isErrorpage</code>：指定当前页面是否可以作为另一个JSP页面的错误处理页面。<br><code>import</code>：导入要使用的Java类。<br><code>language</code>：定义JSP页面所用的脚本语言，默认是Java。<br><code>session</code>：指定JSP页面是否使用session。默认为true立即创建，false为使用时创建。<br><code>pageEncoding</code>：指定JSP页面的解码格式。不是HTML页面的解码格式，HTML页面的解码格式会单独在HTML头部设置。</p>
<p>5.3.2 include指令</p>
<blockquote>
<p>语法：&lt;%@ include file = “被包含的JSP路径”%&gt;</p>
<p>通过include指令来包含其他文件。</p>
<p>被包含的文件可以是JSP文件、HTML文件或文本文件。包含的文件就好像是当前JSP文件的一部分，会被同时编译执行(<strong>静态包含</strong>)。</p>
</blockquote>
<p>应用：网站的main.jsp页面include包含 header.jsp和footer.jsp页面</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;header页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;include指令讲解-这是头部页面&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;footer页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;include指令讲解-这是尾部页面&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;header.jsp&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;主页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;include指令讲解-这是main页面&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;footer.jsp&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>

<p>注意：可能会有重名的冲突问题，不建议使用。</p>
<p>5.3.3 taglib指令</p>
<blockquote>
<p>语法：&lt;%@ taglib uri=”外部标签库路径” prefix=”前缀” %&gt;</p>
<p>引入JSP的标准标签库</p>
</blockquote>
<p>JSTL中再展开讲解。</p>
<h6 id="5-4-动作标签"><a href="#5-4-动作标签" class="headerlink" title="5.4 动作标签"></a>5.4 动作标签</h6><blockquote>
<p>语法：&lt;jsp:action_name attribute=”value” /&gt;</p>
<p>动作标签指的是JSP页面在运行期间的命令</p>
</blockquote>
<p>5.4.1 include</p>
<blockquote>
<p>语法: &lt;jsp:include page=”相对URL地址”/&gt;<br>&lt;jsp:include &gt;动作元素会将外部文件输出结果包含在JSP中(动态包含)。</p>
</blockquote>
<p>注意：前面已经介绍过include指令，它是将外部文件<strong>的输出代码</strong>复制到了当前JSP文件中。而这里的jsp:include动作不同，是将外部文件<strong>的输出结果</strong>引入到了当前JSP文件中。</p>
<p>5.4.2 useBean</p>
<blockquote>
<p>语法:&lt;jsp:useBean id=”name” class=”package.slassName” /&gt;</p>
<p>jsp:useBean动作用来加载一个将在JSP页面中使用的JavaBean。</p>
</blockquote>
<p>在类载入后，我们可以通过jsp:setProperty 和jsp:getProperty动作来修改和获取bean的属性。</p>
<p><code>User.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jsp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * userBean的使用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yagote    create 2022/2/24 17:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>useBean.jsp</code></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;useBean的使用&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;jsp:useBean id=<span class="string">&quot;user&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.jsp.User&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;jsp:setProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;userName&quot;</span> value=<span class="string">&quot;zhangsna&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:setProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;19&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:getProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;userName&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:getProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;age&quot;</span>/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>5.4.3 forward</p>
<blockquote>
<p>语法: &lt;jsp:forward page=”相对URL地址”/&gt;</p>
<p>jsp:forward动作把请求转到另外的页面。</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:forward page=<span class="string">&quot;B.jsp&quot;</span>&gt;&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>

<p>5.4.4 param</p>
<blockquote>
<p>语法：&lt;jsp:param name=” “ value=” “ /&gt;</p>
<p>在转发动作内部使用，做参数传递</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;A页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;jsp:forward page=<span class="string">&quot;B.jsp&quot;</span>&gt;</span><br><span class="line">        &lt;jsp:param name=<span class="string">&quot;sex&quot;</span> value=<span class="string">&quot;nan&quot;</span>/&gt;</span><br><span class="line">    &lt;/jsp:forward&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;B页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;B页面&lt;/h1&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    String okk=request.getParameter(<span class="string">&quot;sex&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%=okk%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h6 id="5-5-内置对象"><a href="#5-5-内置对象" class="headerlink" title="5.5 内置对象"></a>5.5 内置对象</h6><blockquote>
<p> 由JSP自动创建的对象，可直接使用。</p>
</blockquote>
<p>九大内置对象</p>
<p><strong>pageContext</strong>  javax.servlet.jsp.PageContext    JSP的页面容器    </p>
<p><strong>request</strong>       javax.servlet.http.HttpServletrequest  获取用户的请求信息</p>
<p><strong>response</strong>     javax.servlet.http.HttpServletResponse 服务器向客户端的回应信息</p>
<p><strong>session</strong>      javax.servlet.http.HttpSession    用来保存每一个用户的信息   </p>
<p><strong>application</strong>  javax.servlet.ServletContext  表示所有用户的共享信息</p>
<p>config       javax.servlet.ServletConfig 服务器配置信息，可以取得初始化参数</p>
<p>out          javax.servlet.jsp.jspWriter  页面输出</p>
<p>page         java.lang.Object当前对象this</p>
<p>exception    java.lang.Throwable         </p>
<p>5.5.1四大域对象</p>
<blockquote>
<p>JSP有四大作用域对象，存储数据和获取数据的方式一样，不同的是取值的范围有差别。</p>
<p>pageContext (javax.seculet.isp.PageContext)    当前JSP页面范围。</p>
<p>request (javax.servlet.http.Http.ServletRequest)    一次请求有效。</p>
<p>session (javax.servlet.http.Http.Session)    一次会话有效(关闭浏览器失效)。</p>
<p>application (jiavax.servlet.ServletContext)    整个web应用有效(服务器重启或关闭失效)。 </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;ScopeServlet&quot;,value = &quot;/scope&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScopeServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        request.setAttribute(<span class="string">&quot;requestScope&quot;</span>,<span class="string">&quot;OKK&quot;</span>);</span><br><span class="line"><span class="comment">//        request.getRequestDispatcher(&quot;/inner/innerObject.jsp&quot;).forward(request,response);   //将请求对象转发到目标文件</span></span><br><span class="line"></span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;sessionScope&quot;</span>,<span class="string">&quot;OKKK&quot;</span>);</span><br><span class="line">        request.getServletContext().setAttribute(<span class="string">&quot;servletContextScope&quot;</span>,<span class="string">&quot;OKKKK&quot;</span>);</span><br><span class="line">        response.sendRedirect(request.getContextPath()+<span class="string">&quot;/inner/innerObject.jsp&quot;</span>);   <span class="comment">//重定向</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;作用域对象传值的使用&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line"><span class="comment">//pageContext</span></span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;pageC&quot;</span>,<span class="string">&quot;OK&quot;</span>);</span><br><span class="line">        String OK = (String) pageContext.getAttribute(<span class="string">&quot;pageC&quot;</span>);</span><br><span class="line"><span class="comment">//request</span></span><br><span class="line">        String OKK = (String) request.getAttribute(<span class="string">&quot;requestScope&quot;</span>);</span><br><span class="line"><span class="comment">//session</span></span><br><span class="line">        String OKKK=(String) session.getAttribute(<span class="string">&quot;sessiomScope&quot;</span>);</span><br><span class="line"><span class="comment">//Appliation</span></span><br><span class="line">        String OKKKK=(String) application.getAttribute(<span class="string">&quot;servletContextScope&quot;</span>);</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;pageC:&lt;%=OK%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;request:&lt;%=OKK%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;session:&lt;%=OKKK%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;application:&lt;%=OKKKK%&gt;&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>运行结果：输入URL<a target="_blank" rel="noopener" href="http://localhost:8080/web_JSP/scope%E4%BC%9A%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0http://localhost:8080/web_JSP/inner/innerObject.jsp">http://localhost:8080/web_JSP/scope会重定向到http://localhost:8080/web_JSP/inner/innerObject.jsp</a></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955223.png" alt="image-20220225133756743" style="zoom:50%;" />



<p>5.5.2 pageContext对象</p>
<blockquote>
<p>pageContext对象是JSP技术中最重要的一个对象，它代表JSP页面的运行环境，这个对象不仅封装了对其它8大隐式对象的引用，它自身还是一个域对象，可以用来保存数据。并且，这个对象还封装了web开发中经常涉及到的一些常用操作，例如引入和跳转其它资源、检索其它域对象中的属性等。 </p>
</blockquote>
<p><strong>通过pageContext获得其他对象</strong> </p>
<p>  getException方法返回exception隐式对象 </p>
<p>  getPage方法返回page隐式对象</p>
<p>  getRequest方法返回request隐式对象 </p>
<p>  getResponse方法返回response隐式对象 </p>
<p>  getServletConfig方法返回config隐式对象</p>
<p>  getServletContext方法返回application隐式对象</p>
<p>  getSession方法返回session隐式对象 </p>
<p>  getOut方法返回out隐式对象</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;pageContext的使用&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--    获取其他八个对象--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    pageContext.getRequest();</span><br><span class="line">    pageContext.getSession();</span><br><span class="line">    pageContext.getResponse();</span><br><span class="line">    pageContext.getPage();</span><br><span class="line">    pageContext.getException();</span><br><span class="line">    pageContext.getOut();</span><br><span class="line">    pageContext.getServletContext();</span><br><span class="line">    pageContext.getServletConfig();</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--pageContext操作其他作用域--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="comment">//存值</span></span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;page&quot;</span>,<span class="string">&quot;a&quot;</span>);   <span class="comment">//当前JSP有效</span></span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;req&quot;</span>,<span class="string">&quot;b&quot;</span>, PageContext.REQUEST_SCOPE);</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;sess&quot;</span>,<span class="string">&quot;c&quot;</span>,PageContext.SESSION_SCOPE);</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;app&quot;</span>,<span class="string">&quot;d&quot;</span>,PageContext.APPLICATION_SCOPE);</span><br><span class="line"><span class="comment">//取值</span></span><br><span class="line"><span class="comment">//    String req = (String) request.getAttribute(&quot;req&quot;);</span></span><br><span class="line"><span class="comment">//    String sess = (String) request.getAttribute(&quot;sess&quot;);</span></span><br><span class="line"><span class="comment">//    String app = (String) request.getAttribute(&quot;app&quot;);</span></span><br><span class="line"><span class="comment">//或者这样取值</span></span><br><span class="line">    String req = (String) pageContext.getAttribute(<span class="string">&quot;req&quot;</span>,PageContext.REQUEST_SCOPE);</span><br><span class="line">    String sess = (String) pageContext.getAttribute(<span class="string">&quot;sess&quot;</span>,PageContext.SESSION_SCOPE);</span><br><span class="line">    String app = (String) pageContext.getAttribute(<span class="string">&quot;app&quot;</span>,PageContext.APPLICATION_SCOPE);</span><br><span class="line"></span><br><span class="line"><span class="comment">//万能方法查值    查找顺序：pageContext、request、session、application</span></span><br><span class="line">    String result = (String)pageContext.findAttribute(<span class="string">&quot;app&quot;</span>);   <span class="comment">//可填写req\sess\app</span></span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line">&lt;h1&gt;request:&lt;%=req%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;session:&lt;%=sess%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;application:&lt;%=app%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;find:&lt;%=result%&gt;&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>浏览器运行结果</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955224.png" alt="image-20220225172218265" style="zoom:50%;" />

<h4 id="十七、EL表达式"><a href="#十七、EL表达式" class="headerlink" title="十七、EL表达式"></a>十七、EL表达式</h4><blockquote>
<p>Expression Language表达式语言，是一种在JSP页面获取数据的简单方式(只能获取数据，不能设置数据)</p>
<p>用于替换作用域对象.getAttribute(“name”);</p>
</blockquote>
<h5 id="1、EL的应用-获取基本类型、字符串"><a href="#1、EL的应用-获取基本类型、字符串" class="headerlink" title="1、EL的应用(获取基本类型、字符串)"></a>1、EL的应用(获取基本类型、字符串)</h5><h6 id="1-1-EL应用案例"><a href="#1-1-EL应用案例" class="headerlink" title="1.1 EL应用案例"></a>1.1 EL应用案例</h6><blockquote>
<p>${scope.name}    获取具体某个作用域中的数据。</p>
<p>${name}    获取作用域中的数据，逐级查找(pageContext、request、session、application)</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;EL应用案例-获取基本类型、字符串&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;value1&quot;</span>);</span><br><span class="line">    session.setAttribute(<span class="string">&quot;key2&quot;</span>,<span class="string">&quot;value2&quot;</span>);</span><br><span class="line">    application.setAttribute(<span class="string">&quot;key3&quot;</span>,<span class="string">&quot;value3&quot;</span>);</span><br><span class="line"></span><br><span class="line">    request.setAttribute(<span class="string">&quot;key3&quot;</span>,<span class="string">&quot;value4&quot;</span>);</span><br><span class="line">    session.setAttribute(<span class="string">&quot;key3&quot;</span>,<span class="string">&quot;value5&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line">&lt;!--El取值--&gt;</span><br><span class="line">&lt;h1&gt;$&#123;requestScope.key1&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;sessionScope.key2&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;applicationScope.key3&#125;&lt;/h1&gt;</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">&lt;h1&gt;$&#123;requestScope.key3&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;sessionScope.key3&#125;&lt;/h1&gt;</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">&lt;!--或者,key相同时不适用--&gt;</span><br><span class="line">&lt;h1&gt;$&#123;key1&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;key2&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;key3&#125;&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h6 id="1-2-EL和JSP获取数据的区别"><a href="#1-2-EL和JSP获取数据的区别" class="headerlink" title="1.2 EL和JSP获取数据的区别"></a>1.2 EL和JSP获取数据的区别</h6><blockquote>
<p>&lt;%=request.getAttribute() %&gt;         &lt;%–没有找到则返回则null –%&gt;<br>S{requestScope.name}                    &lt;%–没找到则返回“”空的，什么也没有–0%&gt;</p>
</blockquote>
<h5 id="2、EL的应用-获取应用类型"><a href="#2、EL的应用-获取应用类型" class="headerlink" title="2、EL的应用(获取应用类型)"></a>2、EL的应用(获取应用类型)</h5><blockquote>
<p>使用EL获取作用域中的对象调用属性时，只能访问对象的get方法，必须遵守命名规范定义。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;com.jsp.User&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;EL获取对象&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        request.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">    %&gt;</span><br><span class="line">$&#123;user.userName&#125;&lt;br/&gt;</span><br><span class="line">$&#123;user.age&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="3、EL的应用-获取数组、集合的元素"><a href="#3、EL的应用-获取数组、集合的元素" class="headerlink" title="3、EL的应用(获取数组、集合的元素)"></a>3、EL的应用(获取数组、集合的元素)</h5><blockquote>
<p>EL可以获取Array、List、Map中的元素，Set由于没下标，无法直接访问元素，后续可遍历。</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.ArrayList&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.HashMap&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Map&quot;</span> %&gt;&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">86184</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">2</span>/<span class="number">25</span></span><br><span class="line">  Time: <span class="number">18</span>:<span class="number">30</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;EL获取数组、集合的值&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>, <span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    request. setAttribute (<span class="string">&quot;array&quot;</span>, array);</span><br><span class="line">    List&lt;String&gt; nums = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    nums.add(<span class="string">&quot;A&quot;</span>) ;</span><br><span class="line">    nums.add(<span class="string">&quot;B&quot;</span>) ;</span><br><span class="line">    nums.add(<span class="string">&quot;C&quot;</span>) ;</span><br><span class="line">    request.setAttribute (<span class="string">&quot;nums&quot;</span>,nums);</span><br><span class="line"></span><br><span class="line">    Map&lt;String,String&gt; maps = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    maps.put (<span class="string">&quot;CN&quot;</span>,<span class="string">&quot;中国&quot;</span>);</span><br><span class="line">    maps.put(<span class="string">&quot;FK&quot;</span>,<span class="string">&quot;法国&quot;</span>);</span><br><span class="line">    maps.put (<span class="string">&quot;US&quot;</span>,<span class="string">&quot;美国&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;maps&quot;</span>,maps);</span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--EL访问数组--&gt;</span><br><span class="line">    $&#123;array[<span class="number">1</span>] &#125;&lt;br/&gt;</span><br><span class="line">    $&#123;array[<span class="number">2</span>] &#125;&lt;br/&gt;</span><br><span class="line">    $&#123;array[<span class="number">3</span>] &#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;nums[<span class="number">0</span>] &#125;&lt;br/&gt;</span><br><span class="line">    $&#123;nums[<span class="number">1</span>] &#125;&lt;br/&gt;</span><br><span class="line">    $&#123;nums.get(<span class="number">2</span>)&#125;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;maps.CN&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;maps[<span class="string">&quot;FK&quot;</span>]&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;maps.US&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>浏览器运行结果</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955225.png" alt="image-20220225183908556" style="zoom:50%;" />



<h5 id="4、EL的运算符"><a href="#4、EL的运算符" class="headerlink" title="4、EL的运算符"></a>4、EL的运算符</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955226.png" alt="image-20220225195157036" style="zoom: 50%;" />

<h5 id="5、隐式对象"><a href="#5、隐式对象" class="headerlink" title="5、隐式对象"></a>5、隐式对象</h5><blockquote>
<p>EL表达式中定义了11个隐式对象，使用这些隐式对象可以很方便地读取到Cookie、HTTP请求消息头字段、请求参数、<br>Web应用程序中的初始化参数的信息，EL表达式中的隐式对象具体如下：</p>
</blockquote>
<table>
<thead>
<tr>
<th>隐式对象</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>对应于JSP页面中的pageContext对象</td>
</tr>
<tr>
<td>pageScope</td>
<td>代表page域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>requestScope</td>
<td>代表request域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>sessionScope</td>
<td>代表session域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>applicationScope</td>
<td>代表application域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>param</td>
<td>表示一个保存了所有请求参数的Map对象</td>
</tr>
<tr>
<td>paramValues</td>
<td>表示一个保存了所有请求参数的Map对象，它对于某个请求参数， 返回的是一个string类型数组</td>
</tr>
<tr>
<td>header</td>
<td>表示一个保存了所有http请求头字段的Map对象</td>
</tr>
<tr>
<td>headerValues</td>
<td>表示一个保存了所有http请求头字段的Map对象，返回string类型数组</td>
</tr>
<tr>
<td>cookie</td>
<td>表示一个保存了所有cookie的Map对象</td>
</tr>
<tr>
<td>initParam</td>
<td>表示一个保存了所有web应用初始化参数的map对象</td>
</tr>
</tbody></table>
<h6 id="5-1-获取应用路径"><a href="#5-1-获取应用路径" class="headerlink" title="5.1 获取应用路径"></a>5.1 获取应用路径</h6><blockquote>
<p>&lt;%=request.getContextPath( ) %&gt;    //旧方法</p>
<p>${pageContext.request.contextPath}        //使用EL获取</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    String path = request.getContextPath ();</span><br><span class="line">%&gt;</span><br><span class="line">    &lt;%=path%&gt;&lt;br/&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;&lt;%=request.getContextPath()%&gt;/manager/safe/xxxController&quot;</span>&gt;Click me&lt;/a&gt;&lt;br&gt;        &lt;!--旧方法获取路径--&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/manager/safe/ xxxController&quot;</span>&gt;Click target&lt;/a&gt;   &lt;!--使用EL获取路径--&gt;</span><br></pre></td></tr></table></figure>

<h6 id="5-2-获取Cookie对象"><a href="#5-2-获取Cookie对象" class="headerlink" title="5.2 获取Cookie对象"></a>5.2 获取Cookie对象</h6><blockquote>
<p>${cookie.username}    //获取名为username的cookie对象</p>
<p>${cookie.password}    //获取名为password的cookie对象</p>
<p>${cookie.password.value }    //获取password的cookie的value值</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;CookieServlet&quot;,value = &quot;/cookie&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CookieServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        Cookie cookie1 = <span class="keyword">new</span> Cookie(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        Cookie cookie2 = <span class="keyword">new</span> Cookie(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        response.addCookie(cookie1);</span><br><span class="line">        response.addCookie(cookie2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注释掉的是旧方法</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;获取CookieServlet的内容&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--&lt;%--%&gt;</span><br><span class="line">&lt;%--    Cookie[] cookies = request.getCookies();--%&gt;</span><br><span class="line">&lt;%--    String username = <span class="string">&quot;&quot;</span>;--%&gt;</span><br><span class="line">&lt;%--    String  password= <span class="string">&quot;&quot;</span>;--%&gt;</span><br><span class="line">&lt;%--    <span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;--%&gt;</span><br><span class="line">&lt;%--        <span class="keyword">for</span> (Cookie cookie : cookies) &#123;--%&gt;</span><br><span class="line">&lt;%--            <span class="keyword">if</span> (cookie.getName () .equals (<span class="string">&quot;username&quot;</span>))&#123;--%&gt;</span><br><span class="line">&lt;%--                username = cookie.getValue ();--%&gt;</span><br><span class="line">&lt;%--            &#125;--%&gt;</span><br><span class="line">&lt;%--            <span class="keyword">if</span> (cookie.getName ().equals (<span class="string">&quot;password&quot;</span>)) &#123;--%&gt;</span><br><span class="line">&lt;%--                password = cookie.getValue() ;--%&gt;</span><br><span class="line">&lt;%--            &#125;--%&gt;</span><br><span class="line">&lt;%--        &#125;--%&gt;</span><br><span class="line">&lt;%--    &#125;--%&gt;</span><br><span class="line">&lt;%--%&gt;--%&gt;</span><br><span class="line">&lt;%--&lt;%=username%&gt;--%&gt;</span><br><span class="line">&lt;%--&lt;%=password%&gt;--%&gt;</span><br><span class="line">&lt;%--&lt;hr/&gt;--%&gt;</span><br><span class="line">&lt;h1&gt;$&#123;cookie.username.value&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;cookie.password.value&#125;&lt;/h1&gt;</span><br><span class="line">&lt;%--    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;&lt;%=username%&gt;&quot;</span>&gt;&lt;br/&gt;--%&gt;</span><br><span class="line">&lt;%--    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;&lt;%=password%&gt;&quot;</span>&gt;&lt;br/&gt;--%&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;$&#123;cookie.username.value&#125;&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;$&#123;cookie.password.value&#125;&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h4 id="十八、JSTL"><a href="#十八、JSTL" class="headerlink" title="十八、JSTL"></a>十八、JSTL</h4><h5 id="1、现有问题"><a href="#1、现有问题" class="headerlink" title="1、现有问题"></a>1、现有问题</h5><blockquote>
<p>EL主要是用于作用域获取数据，虽然可以做运算判断，但是得到的都是一个结果，做展示。</p>
<p>EL不存在流程控制。比如判断。</p>
<p>EL对于集合只能做单点访问，不能实现遍历操作。比如循环。</p>
</blockquote>
<h5 id="2、什么是JSTL"><a href="#2、什么是JSTL" class="headerlink" title="2、什么是JSTL"></a>2、什么是JSTL</h5><blockquote>
<p>JSTL(JavaServer Pages Standard Tag Library)是一个JSP标签集合，它封装了JSP应用的通用核心功能。</p>
</blockquote>
<h5 id="3、使用-1"><a href="#3、使用-1" class="headerlink" title="3、使用"></a>3、使用</h5><blockquote>
<p>下载jar包，在项目中导入jar包    <a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-taglibs.cgi">下载</a></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955227.png" alt="image-20220225211716179" style="zoom:67%;" />
</blockquote>
<p>在jsp文件前添加</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>

<p>接着就可以使用 &lt;c:if &gt; </c:if >等语法了。</p>
<h5 id="4、JSTL条件判断"><a href="#4、JSTL条件判断" class="headerlink" title="4、JSTL条件判断"></a>4、JSTL条件判断</h5><h6 id="4-1-单条件判断"><a href="#4-1-单条件判断" class="headerlink" title="4.1 单条件判断"></a>4.1 单条件判断</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">$&#123;username&#125;</span><br><span class="line">    &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;username eq &#x27;zhangsan&#x27;&#125;&quot;</span>&gt;</span><br><span class="line">        &lt;h1&gt;用户 张三 已成功登录！&lt;/h1&gt;</span><br><span class="line">    &lt;/c:<span class="keyword">if</span>&gt;</span><br></pre></td></tr></table></figure>

<p>浏览器运行结果</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955228.png" alt="image-20220225212800695" style="zoom:50%;" />

<h6 id="4-2-多条件判断"><a href="#4-2-多条件判断" class="headerlink" title="4.2 多条件判断"></a>4.2 多条件判断</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:choose&gt;   </span><br><span class="line">  &lt;c:when test=<span class="string">&quot;expression&quot;</span>&gt;   </span><br><span class="line">        body content   </span><br><span class="line">  &lt;/c:when&gt;   </span><br><span class="line">  &lt;c:when test=<span class="string">&quot;expression&quot;</span>&gt;   </span><br><span class="line">        body content   </span><br><span class="line">  &lt;/c:when&gt;   </span><br><span class="line">  ...   </span><br><span class="line">  &lt;c:otherwise&gt;   </span><br><span class="line">        body content   </span><br><span class="line">  &lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;     </span><br></pre></td></tr></table></figure>

<p>相当于java 语言的switch case用法，进来一个变量，根据不同判断，得到最终的一个结果。</p>
<p>​    </p>
<h5 id="5、JSTL迭代遍历"><a href="#5、JSTL迭代遍历" class="headerlink" title="5、JSTL迭代遍历"></a>5、JSTL迭代遍历</h5><blockquote>
<p>语法：</p>
<p>&lt;cforeach<br>    var=”变量名”<br>    items=”集合”<br>    begin=”起始下标”<br>    end=”结束下标”<br>    step=”间隔长度”<br>    varstatus=”遍历状态”&gt;</p>
<p></c:foreach ></p>
</blockquote>
<p>varstatus：变量状态——遍历出的每一项内容的状态:</p>
<p>​        first    是否是第一行<br>​        last    是否是最后一行<br>​        count    当前行数<br>​        index    当前元素的下标</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.ArrayList&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;foreach标签讲解&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    ArrayList books=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;java入门&quot;</span>));</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;JSTL入门&quot;</span>));</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;C++精通&quot;</span>));</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;C++精通2&quot;</span>));</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;C++精通3&quot;</span>));</span><br><span class="line">    books.add(<span class="keyword">new</span> String(<span class="string">&quot;C++精通4&quot;</span>));</span><br><span class="line"></span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;booksq&quot;</span>,books);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;book&quot;</span> items=<span class="string">&quot;$&#123;booksq&#125;&quot;</span> begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;3&quot;</span> step=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;book&#125;&quot;</span>/&gt;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="6、JSTL重写URL"><a href="#6、JSTL重写URL" class="headerlink" title="6、JSTL重写URL"></a>6、JSTL重写URL</h5><blockquote>
<p>在cookie禁用的情况下，通过重写URL拼接JSESSIONID来传递ID值。便于下一次访问时仍可查找到上一次的Session对象。</p>
</blockquote>
<p>经验：所有涉及到页面跳转或者重定向跳转时，都应该使用URL重写。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot; &lt;c:url context=&#x27;$&#123;pageContext.request.contextPath&#125;&#x27; value=&#x27;/jstl/jstl1.jsp&#x27;&gt;&lt;/c:url&gt; &quot;</span>&gt;跳转到jstl1.jsp页面&lt;/a&gt;</span><br></pre></td></tr></table></figure>



<h4 id="十九、MVC框架"><a href="#十九、MVC框架" class="headerlink" title="十九、MVC框架"></a><strong>十九、MVC框架</strong></h4><h5 id="1、MVC模式详解"><a href="#1、MVC模式详解" class="headerlink" title="1、MVC模式详解"></a>1、MVC模式详解</h5><blockquote>
<p>MVC并不是Java独有的，现在几乎所有的B/S的架构都采用了MMC模式。</p>
<p>视图View：视图即是用户看到并与之交互的界面，比如<strong>HTML</strong>(静态资源)，<strong>JSP</strong>(动态资源)等等。<br>控制器Controller：控制器即是控制请求的处理逻辑，对请求进行处理，负责流程跳转(<strong>转发和重定向</strong>)。Servlet放在Controller中。<br>模型Model：对客观世界的一种代表和模拟(<strong>业务</strong>模拟、<strong>对象</strong>模拟)。</p>
</blockquote>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955229.png" alt="image-20220226104748775" style="zoom:80%;" />



<h5 id="2、MVC模式优点"><a href="#2、MVC模式优点" class="headerlink" title="2、MVC模式优点"></a>2、MVC模式优点</h5><blockquote>
<p>低耦合性：模块与模块之间的关联性不强，不与某一种具体实现产生密不可分的关联性。</p>
<p>高维护性：基于低耦合性，可做到不同层级的功能模块灵活更换、插拔。</p>
<p>高重用性：相同的数据库操作，可以服务于不同的业务处理。将数据作为独立模块，提高重用性。</p>
</blockquote>
<h5 id="3、MVC在框架中的应用"><a href="#3、MVC在框架中的应用" class="headerlink" title="3、MVC在框架中的应用"></a>3、MVC在框架中的应用</h5><blockquote>
<p>MVC模式被广泛用于Java的各种框架中，比如Struts2、SpringMVC等都用到了这种思想。</p>
</blockquote>
<h5 id="4、MVC与三层架构"><a href="#4、MVC与三层架构" class="headerlink" title="4、MVC与三层架构"></a>4、MVC与三层架构</h5><p>MVC是框架，三层架构就是个架构的思想。架构思想在框架思想之下。</p>
<blockquote>
<p>三层架构：</p>
<p>View层(表示|界面层UI)、Service层(业务逻辑层BLL)、DAO层(数据访问层或DAL)</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955230.png" alt="image-20220226110259939" style="zoom:80%;" />
</blockquote>
<blockquote>
<p>MVC与三层架构的区别：</p>
<p>MVC强调的是视图和业务代码的分离。严格的说MVC其实关注的是Web层。View就是单独的页面，如JSP、HTML等，不负责业务处理，只负责数据的展示。而数据封装到Model里，由Controller负责在v和M之间传递。MVC强调业务和视图分离。</p>
<p>三层架构是“数据访问层”、“业务逻辑层”、“表示层”，指的是代码之间的解耦，方便维护和复用。</p>
</blockquote>
<h4 id="二十、分页"><a href="#二十、分页" class="headerlink" title="二十、分页"></a>二十、分页</h4><p>这里用到的项目时【十五】的项目，期间在【十六】【十七】【十八】把一些页面改为了JSP页面。所以要跟着这个视频来有点麻烦。</p>
<p>分页还是JSP的内容，使用JSP来设置前端显示页面。</p>
<p>这部分的视频看完了，但没有写代码，还得重新找一份有源码的视频实操一下。</p>
<h4 id="二十一、文件上传与下载"><a href="#二十一、文件上传与下载" class="headerlink" title="二十一、文件上传与下载"></a>二十一、文件上传与下载</h4><p>第666~673集。这部分可以跟着这个视频学。</p>
<h4 id="二十二、综合项目-EMS"><a href="#二十二、综合项目-EMS" class="headerlink" title="二十二、综合项目-EMS"></a>二十二、综合项目-EMS</h4><p>第674~683集。新项目，可以跟着这个视频学。</p>
<hr>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a><strong>其他</strong></h3><h4 id="idea使用效率"><a href="#idea使用效率" class="headerlink" title="idea使用效率"></a>idea使用效率</h4><h5 id="1、一些快捷键"><a href="#1、一些快捷键" class="headerlink" title="1、一些快捷键"></a>1、一些快捷键</h5><p><strong>main函数</strong>：</p>
<p>输入public static void main的首字母：psvm 然后按tab或者enter，就会写好main方法 。或者直接写main回车即可。</p>
<p><strong>输出语句</strong>：</p>
<p>System.out.print(); 键入：sout</p>
<p><strong>for循环</strong>：</p>
<p>输入： fori</p>
<p><strong>格式化代码</strong>：</p>
<p>Ctrl+Alt+L</p>
<p><strong>快速换行</strong></p>
<p>CTRL+shift+enter</p>
<h5 id="2、快速添加带参构造方法"><a href="#2、快速添加带参构造方法" class="headerlink" title="2、快速添加带参构造方法"></a>2、快速添加带参构造方法</h5><p>首先得有属性，右键点击Generate……再点击Constructor</p>
<h5 id="3、代码设置写满自动换行"><a href="#3、代码设置写满自动换行" class="headerlink" title="3、代码设置写满自动换行"></a>3、代码设置写满自动换行</h5><p>再设置general——》soft-wrap files 添加需要换行的文件格式即可</p>
<h5 id="4、快速返回上次编辑的地方"><a href="#4、快速返回上次编辑的地方" class="headerlink" title="4、快速返回上次编辑的地方"></a>4、快速返回上次编辑的地方</h5><p>idea默认的是 ： Ctrl + Alt + 左箭头</p>
<h5 id="5、快捷键-ctrl-alt-t"><a href="#5、快捷键-ctrl-alt-t" class="headerlink" title="5、快捷键 ctrl+alt+t"></a>5、快捷键 ctrl+alt+t</h5><p>surround with</p>
<p> 选中想要包裹的代码，按住此快捷键，会出现以下内容：选中某个即可</p>
<p>6、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/dyd168/p/14422934.html">IDEA如何将Web应用打包成.war文件?</a> </p>
<p>7、查看继承类所有方法的快捷键</p>
<p>ctrl+alt+b</p>
<p>8、查看方法的属性</p>
<p>alt+7</p>
<p>9、缩进快捷键</p>
<p>CTRL+alt+i</p>
<p>10、按列选择快捷键</p>
<p>按住alt再用鼠标进行选择</p>
<p>11、快速new一个对象</p>
<p>选中 <code>new ArrayList&lt;&gt;();</code> 或者光标放在new前面，按  ctrl+alt+v ，即可快速生成 <code>ArrayList&lt;&gt; arrayList = new ArrayList&lt;&gt;();</code></p>
<h4 id="eclipse使用效率"><a href="#eclipse使用效率" class="headerlink" title="eclipse使用效率"></a>eclipse使用效率</h4><h5 id="1、设置作者及时间"><a href="#1、设置作者及时间" class="headerlink" title="1、设置作者及时间"></a>1、设置作者及时间</h5><p><a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/b0b63dbf2bc1254a4830703d.html">https://jingyan.baidu.com/article/b0b63dbf2bc1254a4830703d.html</a></p>
<h5 id="2、更换默认的工作空间"><a href="#2、更换默认的工作空间" class="headerlink" title="2、更换默认的工作空间"></a>2、更换默认的工作空间</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a549654065/article/details/80561689">https://blog.csdn.net/a549654065/article/details/80561689</a></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955231.png" alt="image-20211207234143842" style="zoom:50%;" />



<p>打开eclipse会提示设置工作空间，如果勾选了不在提示，那么就会变成默认的工作空间，下次修改时可按照上面的网址修改。</p>
<p>3、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/obge/p/11290511.html">eclipse运行javaweb 项目</a></p>
<p>4、<a target="_blank" rel="noopener" href="https://blog.csdn.net/wyyang2/article/details/106137062/">Eclipse怎么运行一个java web项目（详细版）</a></p>
<hr>
<h3 id="java其他知识点"><a href="#java其他知识点" class="headerlink" title="java其他知识点"></a><strong>java其他知识点</strong></h3><p>（B站观看视频<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gC4y1p7z2?p=14&amp;spm_id_from=pageDriver%EF%BC%89">https://www.bilibili.com/video/BV1gC4y1p7z2?p=14&amp;spm_id_from=pageDriver）</a></p>
<h5 id="1、源文件名："><a href="#1、源文件名：" class="headerlink" title="1、源文件名："></a>1、源文件名：</h5><p>源文件名必须和类名相同。当保存文件的时候，你应该使用类名作为文件名保存（切记 Java 是大小写敏感的），文件名的后缀为 <strong>.java</strong></p>
<h5 id="2、DOS（cmd命令）"><a href="#2、DOS（cmd命令）" class="headerlink" title="2、DOS（cmd命令）"></a>2、DOS（cmd命令）</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955232.png" alt="image-20210706220421010" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955233.png" alt="image-20210706220912483" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955234.png" alt="image-20210706221613176" style="zoom: 50%;" />

<h5 id="3、cmd-运行编译-java文件时"><a href="#3、cmd-运行编译-java文件时" class="headerlink" title="3、cmd 运行编译.java文件时"></a>3、cmd 运行编译.java文件时</h5><p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955235.png" alt="image-20210707230929630"></p>
<p>解决方法 javac -encoding UTF-8 HelloWorld.java</p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955236.png" alt="image-20210707231336555"></p>
<h5 id="4、常量"><a href="#4、常量" class="headerlink" title="4、常量"></a>4、常量</h5><p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955237.png" alt="image-20210708233804043"></p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955238.png" alt="image-20210708234051993"></p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955240.png" alt="image-20210708234208600"></p>
<h5 id="5、数据类型"><a href="#5、数据类型" class="headerlink" title="5、数据类型"></a>5、数据类型</h5><p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955241.png" alt="image-20210708234747721"></p>
<h5 id="6、一个源文件中只能有一个公开类"><a href="#6、一个源文件中只能有一个公开类" class="headerlink" title="6、一个源文件中只能有一个公开类"></a>6、一个源文件中只能有一个公开类</h5><h5 id="7、编译-javac-文件名-java-运行-java-文件名"><a href="#7、编译-javac-文件名-java-运行-java-文件名" class="headerlink" title="7、编译 javac + 文件名.java      运行 java + 文件名"></a>7、编译 javac + 文件名.java      运行 java + 文件名</h5><h5 id="8、java反编译"><a href="#8、java反编译" class="headerlink" title="8、java反编译"></a>8、java反编译</h5><p>在cmd中运行 javap HelloWorld.class   //这个就是反编译HelloWorld成源文件</p>
<h5 id="9、package包："><a href="#9、package包：" class="headerlink" title="9、package包："></a>9、package包：</h5><p>用来管理.class 文件<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955242.png" alt="image-20210721230109418" style="zoom: 67%;" /></p>
<p><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955243.png" alt="image-20210721225559002"></p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955244.png" alt="image-20210721225632454" style="zoom:33%;" />

<h5 id="10、注释"><a href="#10、注释" class="headerlink" title="10、注释"></a>10、注释</h5><p>文档注释</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955245.png" alt="image-20210722212837316" style="zoom: 67%;" />

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955246.png" alt="image-20210722213000318" style="zoom:67%;" />



<p>其他</p>
<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955247.png" alt="image-20210722230125225" style="zoom:67%;" />

<h5 id="11、命名规范"><a href="#11、命名规范" class="headerlink" title="11、命名规范"></a>11、命名规范</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955248.png" alt="image-20210722233100612" style="zoom:80%;" />

<h5 id="12、强弱类型编程语言"><a href="#12、强弱类型编程语言" class="headerlink" title="12、强弱类型编程语言"></a>12、强弱类型编程语言</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955249.png" alt="image-20210723212810739" style="zoom:67%;" />

<h5 id="13、数据类型"><a href="#13、数据类型" class="headerlink" title="13、数据类型"></a>13、数据类型</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955250.png" alt="image-20210723213131481" style="zoom: 33%;" />

<p>整数4：byte、short、int、long（定义时要加L）</p>
<p>小数2：float（定义时要加F，4字节）、double（8字节）</p>
<p>字符1：char</p>
<p>布尔1：boolean</p>
<h5 id="14、转义字符"><a href="#14、转义字符" class="headerlink" title="14、转义字符"></a>14、转义字符</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955251.png" alt="image-20210723220704512" style="zoom: 50%;" />

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955252.png" alt="image-20210723220811329" style="zoom:50%;" />

<h5 id="15、强制类型转换"><a href="#15、强制类型转换" class="headerlink" title="15、强制类型转换"></a>15、强制类型转换</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955253.png" alt="image-20210723231641670" style="zoom: 50%;" />

<h5 id="16、自动类型提升"><a href="#16、自动类型提升" class="headerlink" title="16、自动类型提升"></a>16、自动类型提升</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955254.png" alt="image-20210724232444688" style="zoom:67%;" />

<h5 id="17、键盘出入"><a href="#17、键盘出入" class="headerlink" title="17、键盘出入"></a>17、键盘出入</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955255.png" alt="image-20210727002131330" style="zoom: 50%;" />

<h5 id="18、技巧"><a href="#18、技巧" class="headerlink" title="18、技巧"></a>18、技巧</h5><p>运行时遇到死循环，CTRL+C强制结束循环</p>
<p>CTRL+D快速复制</p>
<h5 id="19、println和print"><a href="#19、println和print" class="headerlink" title="19、println和print"></a>19、println和print</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println();<span class="comment">/*纵向输出*/</span></span><br><span class="line">System.out.print();<span class="comment">/*直接输出*/</span></span><br></pre></td></tr></table></figure>

<h5 id="20、eclipse的java快捷键"><a href="#20、eclipse的java快捷键" class="headerlink" title="20、eclipse的java快捷键"></a>20、eclipse的java快捷键</h5><img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955256.png" alt="image-20210908180422304" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/yagote/blog-image/master/202310011955257.png" alt="image-20210908180544374" style="zoom:50%;" />

<h5 id="21、equals"><a href="#21、equals" class="headerlink" title="21、equals"></a>21、equals</h5><p>equals() 方法用于将字符串与指定的对象比较。</p>
<p>== 比较引用地址是否相同，equals() 比较字符串的内容是否相同。</p>
<h5 id="22、换行"><a href="#22、换行" class="headerlink" title="22、换行"></a>22、换行</h5><p>\r\n 表示换行</p>
<h5 id="23、泛型"><a href="#23、泛型" class="headerlink" title="23、泛型"></a>23、泛型</h5><p>泛型如果不知道怎么写可以写?</p>
<p>如：Class&lt;?&gt; class = ……</p>
<h5 id="24、方法与函数"><a href="#24、方法与函数" class="headerlink" title="24、方法与函数"></a>24、方法与函数</h5><p>在java中没有函数这么一说，只有方法一说。但其实函数是大家的函数，方法是类的方法。一个东西，用对象调用的叫方法，直接调函数名的叫函数。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zx_balabala/article/details/82633975">csdn</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://yagote.github.io">虾壳</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yagote.github.io/2023/10/01/java-ji-chu/">http://yagote.github.io/2023/10/01/java-ji-chu/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yagote.github.io" target="_blank">虾壳</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/Java-Web/">Java Web</a><a class="post-meta__tags" href="/tags/Java-SE/">Java SE</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/10/01/maven/" title="Maven"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Maven</div></div></a></div><div class="next-post pull-right"><a href="/2023/10/01/nodejs/" title="NodeJS"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">NodeJS</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/08/spring-data-jpa/" title="Spring Data JPA"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-08</div><div class="title">Spring Data JPA</div></div></a></div><div><a href="/2023/10/01/json-he-ajax/" title="JSON和Ajax"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-01</div><div class="title">JSON和Ajax</div></div></a></div><div><a href="/2023/10/01/spring5/" title="Spring5"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-01</div><div class="title">Spring5</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-SE"><span class="toc-text">Java SE</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">Java基本数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E6%9E%9A%E4%B8%BE"><span class="toc-text">Java枚举</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F"><span class="toc-text">十大经典排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IO%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">IO流复制文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#java%E5%B8%B8%E8%A7%81%E5%AE%B9%E5%99%A8"><span class="toc-text">java常见容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%BE%AA%E7%8E%AF-amp-%E6%9D%A1%E4%BB%B6-amp-%E9%80%89%E6%8B%A9"><span class="toc-text">一、循环&amp;条件&amp;选择</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81for"><span class="toc-text">1、for</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81while"><span class="toc-text">2、while</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81do-while"><span class="toc-text">3、do while</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81if%EF%BC%88%E6%9D%A1%E4%BB%B6%EF%BC%89"><span class="toc-text">4、if（条件）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81switch%EF%BC%88%E9%80%89%E6%8B%A9%EF%BC%89"><span class="toc-text">5、switch（选择）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%96%B9%E6%B3%95-%E5%87%BD%E6%95%B0"><span class="toc-text">二、方法&#x2F;函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E8%B0%83%E7%94%A8"><span class="toc-text">1、调用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">2、方法的参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8E%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B"><span class="toc-text">3、返回值与返回类型</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%80%92%E5%BD%92"><span class="toc-text">三、递归</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B0%E7%BB%84"><span class="toc-text">四、数组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">1、定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-text">2、数组的遍历</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">3、数组的默认值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">4、数组的创建方式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%85%88%E5%A3%B0%E6%98%8E%E5%86%8D%E5%88%86%E9%85%8D%E7%A9%BA%E9%97%B4"><span class="toc-text">1、先声明再分配空间</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%A3%B0%E6%98%8E%E5%B9%B6%E5%88%86%E9%85%8D%E7%A9%BA%E9%97%B4"><span class="toc-text">2、声明并分配空间</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E5%A3%B0%E6%98%8E%E5%B9%B6%E8%B5%8B%E5%80%BC%EF%BC%88%E7%B9%81%EF%BC%89"><span class="toc-text">3、声明并赋值（繁）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E5%A3%B0%E6%98%8E%E5%B9%B6%E8%B5%8B%E5%80%BC%EF%BC%88%E7%AE%80%EF%BC%89"><span class="toc-text">4、声明并赋值（简）</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E6%B1%82%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="toc-text">5、求数组中的平均值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-text">6、数组排序</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">五、面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%B1%BB%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">1、类中的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-text">2、定义类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">3、创建对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F-%E5%A6%82%E5%B1%9E%E6%80%A7"><span class="toc-text">4、实例变量(如属性)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">5、实例变量与局部变量的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-text">6、实例方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="toc-text">7、方法重载</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">8、构造方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="toc-text">9、构造方法重载</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81this%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">10、this关键字</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="toc-text">六、面向对象的三大特性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%B0%81%E8%A3%85"><span class="toc-text">1、封装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E7%BB%A7%E6%89%BF"><span class="toc-text">2、继承</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E4%B8%8D%E5%8F%AF%E7%BB%A7%E6%89%BF%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-text">1、不可继承的情况</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">2、修饰符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E6%96%B9%E6%B3%95%E7%9A%84%E8%A6%86%E7%9B%96-%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text">3、方法的覆盖(方法重写)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81super%E5%85%B3%E9%94%AE%E5%AD%97-%E4%B8%8E%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E6%9C%89%E5%85%B3"><span class="toc-text">4、super关键字(与方法重写有关)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81this%E4%B8%8Esuper%E5%8C%BA%E5%88%AB"><span class="toc-text">5、this与super区别</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%A4%9A%E6%80%81-polymorphism"><span class="toc-text">3、多态(polymorphism)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5"><span class="toc-text">1、概念</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Java%E4%B8%AD%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%A4%9A%E6%80%81%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-text">Java中的两种多态机制：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%A4%9A%E6%80%81%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%E8%A6%86%E7%9B%96-%E9%87%8D%E5%86%99"><span class="toc-text">2、多态中的方法覆盖(重写)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E5%A4%9A%E6%80%81%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">3、多态的应用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B-%E8%A3%85%E7%AE%B1"><span class="toc-text">4、向上转型(装箱)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B-%E6%8B%86%E7%AE%B1"><span class="toc-text">5、向下转型(拆箱)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81instanceof%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">6、instanceof关键字</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E4%B8%89%E4%B8%AA%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">七、三个修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81abstract"><span class="toc-text">1、abstract</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81static"><span class="toc-text">2、static</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">1、知识点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E9%9D%99%E6%80%81%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-text">2、静态代码块</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E7%B1%BB%E5%8A%A0%E8%BD%BD"><span class="toc-text">3、类加载</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81final"><span class="toc-text">3、final</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%8E%A5%E5%8F%A3"><span class="toc-text">八、接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%AE%9A%E4%B9%89%E5%8F%8A%E6%A6%82%E5%BF%B5"><span class="toc-text">1、定义及概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">2、一些知识点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%8E%A5%E5%8F%A3%E4%B8%8E%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%BC%82%E5%90%8C%EF%BC%9A"><span class="toc-text">3、接口与抽象类的异同：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">4、接口的作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A4%9A%E6%80%81"><span class="toc-text">5、接口的多态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E5%B8%B8%E8%A7%81%E5%85%B3%E7%B3%BB"><span class="toc-text">6、常见关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E5%B8%B8%E9%87%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">7、常量接口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E6%A0%87%E8%AE%B0%E6%8E%A5%E5%8F%A3"><span class="toc-text">8、标记接口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%9B%9E%E8%B0%83"><span class="toc-text">9、接口的回调</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-text">九、内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%88%90%E5%91%98%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-text">1、成员内部类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E9%9D%99%E6%80%81%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-text">2、静态内部类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%B1%80%E9%83%A8%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-text">3、局部内部类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-text">4、匿名内部类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%B8%B8%E7%94%A8%E7%B1%BBobject%E7%B1%BB"><span class="toc-text">十、常用类object类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81getclass%E6%96%B9%E6%B3%95"><span class="toc-text">1、getclass方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81hashCode"><span class="toc-text">2、hashCode</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81toString-%E6%96%B9%E6%B3%95"><span class="toc-text">3、toString()方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81equals%E6%96%B9%E6%B3%95"><span class="toc-text">4、equals方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81finalize%E6%96%B9%E6%B3%95"><span class="toc-text">5、finalize方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-text">十一、包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%8C%85%E8%A3%85%E7%B1%BB%E5%AF%B9%E5%BA%94"><span class="toc-text">1、包装类对应</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%8B%86%E7%AE%B1%E5%92%8C%E8%A3%85%E7%AE%B1"><span class="toc-text">2、拆箱和装箱</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%85%B6%E4%BB%96%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%A3%85%E6%8D%A2"><span class="toc-text">3、其他的类型装换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%95%B4%E6%95%B0%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">4、整数缓冲区</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81String%E7%B1%BB"><span class="toc-text">十二、String类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B1%A0"><span class="toc-text">1、字符串池</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81String%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">2、String常用方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81String%E6%A1%88%E4%BE%8B"><span class="toc-text">3、String案例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81StringBuffer%E5%92%8CStringBuilder%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">4、StringBuffer和StringBuilder的使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81BigDecimal"><span class="toc-text">十三、BigDecimal</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="toc-text">十四、时间日期类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Date%E7%B1%BB"><span class="toc-text">1、Date类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81calendar%E7%B1%BB"><span class="toc-text">2、calendar类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81SimpleDateFormat"><span class="toc-text">3、SimpleDateFormat</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81System%E7%B1%BB"><span class="toc-text">十五、System类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81%E9%9B%86%E5%90%88"><span class="toc-text">十六、集合</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#0%E3%80%81properties"><span class="toc-text">0、properties</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Collection"><span class="toc-text">1、Collection</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81List%E9%9B%86%E5%90%88"><span class="toc-text">2、List集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81ArrayList-%E7%B1%BB"><span class="toc-text">3、ArrayList 类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81vector%E5%90%91%E9%87%8F%E7%B1%BB"><span class="toc-text">4、vector向量类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81LinkedList"><span class="toc-text">5、LinkedList</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81Iterator%EF%BC%88%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%89%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-text">7、Iterator（迭代器）遍历集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81set%E9%9B%86%E5%90%88"><span class="toc-text">8、set集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81HashSet"><span class="toc-text">9、HashSet</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81HashMap"><span class="toc-text">10、HashMap</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81TreeSet"><span class="toc-text">11、TreeSet</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E3%80%81-Comparator"><span class="toc-text">12、 Comparator</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%E3%80%81Ma%E9%9B%86%E5%90%88"><span class="toc-text">13、Ma集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14%E3%80%81Collection%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">14、Collection集合工具类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%83%E3%80%81%E6%B3%9B%E5%9E%8B"><span class="toc-text">十七、泛型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AB%E3%80%81%E5%BC%82%E5%B8%B8"><span class="toc-text">十八、异常</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB"><span class="toc-text">1、异常分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8"><span class="toc-text">2、常见异常</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%BC%82%E5%B8%B8%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-text">3、异常的传递</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">4、异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81tryCatch"><span class="toc-text">1、tryCatch</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81tryCatchFinally"><span class="toc-text">2、tryCatchFinally</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E5%A4%9A%E9%87%8Dcatch"><span class="toc-text">3、多重catch</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81tryFinally"><span class="toc-text">4、tryFinally</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%BC%82%E5%B8%B8%E5%A3%B0%E6%98%8E"><span class="toc-text">5、异常声明</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="toc-text">6、抛出异常</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-text">7、自定义异常</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E5%BC%82%E5%B8%B8%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%E8%A6%86%E7%9B%96%EF%BC%88%E9%87%8D%E5%86%99%EF%BC%89"><span class="toc-text">8、异常中的方法覆盖（重写）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B9%9D%E3%80%81%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">十九、多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5-1"><span class="toc-text">1、概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">2、创建线程的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E7%BB%A7%E6%89%BFThread%E7%B1%BB%EF%BC%8C%E9%87%8D%E5%86%99run%E6%96%B9%E6%B3%95%E3%80%82"><span class="toc-text">1、方法一：继承Thread类，重写run方法。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%AE%9E%E7%8E%B0Runnable%E6%8E%A5%E5%8F%A3"><span class="toc-text">2、方法二：实现Runnable接口</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E5%AE%9E%E7%8E%B0Callable%E6%8E%A5%E5%8F%A3"><span class="toc-text">3、方法三：实现Callable接口</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-text">3、线程的状态</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0"><span class="toc-text">1、线程休眠</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E7%BA%BF%E7%A8%8B%E6%94%BE%E5%BC%83"><span class="toc-text">2、线程放弃</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E7%BA%BF%E7%A8%8B%E5%8A%A0%E5%85%A5"><span class="toc-text">3、线程加入</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7%E5%92%8C%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-text">4、线程优先级和守护线程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">1、线程优先级</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-text">2、守护线程</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8"><span class="toc-text">5、线程安全</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E5%A4%84%E7%90%86%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-text">6、处理线程安全问题</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%90%8C%E6%AD%A5%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97%E3%80%81%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95"><span class="toc-text">使用同步的方法：同步代码块、同步方法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%AD%BB%E9%94%81"><span class="toc-text">7、死锁</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E7%BA%BF%E7%A8%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-text">8、线程间的通信</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E3%80%81%E9%AB%98%E7%BA%A7%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">二十、高级多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%A6%82%E5%BF%B5"><span class="toc-text">1、线程池概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%8E%9F%E7%90%86"><span class="toc-text">2、线程池原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-text">3、创建线程池</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Future%E6%8E%A5%E5%8F%A3"><span class="toc-text">4、Future接口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="toc-text">5、线程同步和异步</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="toc-text">1、线程同步</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%BC%82%E6%AD%A5"><span class="toc-text">2、线程的异步</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81Lock%E6%8E%A5%E5%8F%A3"><span class="toc-text">6、Lock接口</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81Lock%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB-%E9%87%8D%E5%85%A5%E9%94%81"><span class="toc-text">1、Lock的实现类-重入锁</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81Lock%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB-%E8%AF%BB%E5%86%99%E9%94%81"><span class="toc-text">2、Lock的实现类-读写锁</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E5%B8%B8%E8%A7%81%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%9B%86%E5%90%88"><span class="toc-text">7、常见线程安全集合</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81Collection-1"><span class="toc-text">1、Collection</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81Map"><span class="toc-text">2、Map</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81CopyOnWriteArrayList"><span class="toc-text">3、CopyOnWriteArrayList</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81CopyOnWriteArraySet"><span class="toc-text">4、CopyOnWriteArraySet</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81Queue"><span class="toc-text">5、Queue</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81ConcurrentHashMap"><span class="toc-text">6、ConcurrentHashMap</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81I-O%E6%A1%86%E6%9E%B6-I-O%E6%B5%81"><span class="toc-text">二十一、I&#x2F;O框架-I&#x2F;O流</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%B5%81"><span class="toc-text">1、流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">2、流的分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%AD%97%E8%8A%82%E6%B5%81%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">3、字节流的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E8%8A%82%E6%B5%81%E7%9A%84%E7%88%B6%E7%B1%BB%EF%BC%88%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%89"><span class="toc-text">1、字节流的父类（抽象类）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-text">2、文件字节流</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%AD%97%E8%8A%82%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">4、字节流复制文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%AD%97%E8%8A%82%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-text">5、字节缓冲流</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81BufferInputStream"><span class="toc-text">1、BufferInputStream</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81BufferedOutputStream"><span class="toc-text">2、BufferedOutputStream</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E5%AF%B9%E8%B1%A1%E6%B5%81-%E5%8F%8D-%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">7、对象流-(反)序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81ObjectOutputStream%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">1、ObjectOutputStream序列化</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81ObjectInputStream%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-text">2、ObjectInputStream反序列化</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">8、字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-text">1、字符编码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E6%96%87%E4%BB%B6%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">2、文件字符流</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E5%AD%97%E7%AC%A6%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">3、字符流复制文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-text">4、字符缓冲流</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-text">9、打印流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-text">10、转换流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81File%E7%B1%BB-%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">11、File类-文件和文件夹操作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">1、文件操作</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">2、文件夹操作</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81FileFilter%E6%8E%A5%E5%8F%A3-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">3、FileFilter接口-过滤器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%A4%B9%E2%80%94%E2%80%94%E9%80%92%E5%BD%92%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">4、递归遍历文件夹——递归删除文件夹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-text">二十二、网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-text">1、网络模型-OSI参考模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B-TCP-IP%E6%A8%A1%E5%9E%8B"><span class="toc-text">2、网络模型-TCP&#x2F;IP模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81TCP%E5%8D%8F%E8%AE%AE"><span class="toc-text">3、TCP协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81UDP%E5%8D%8F%E8%AE%AE"><span class="toc-text">4、UDP协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81IP%E5%8D%8F%E8%AE%AE"><span class="toc-text">5、IP协议</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81InetAddress%E7%B1%BB"><span class="toc-text">6、InetAddress类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E5%9F%BA%E4%BA%8ETCP%E5%8D%8F%E8%AE%AE%E7%9A%84Socket%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-text">7、基于TCP协议的Socket网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E6%A1%88%E4%BE%8B%E4%B8%80%EF%BC%9A"><span class="toc-text">1、案例一：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E6%A1%88%E4%BE%8B%E4%BA%8C%EF%BC%9A"><span class="toc-text">2、案例二：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E6%A1%88%E4%BE%8B%E4%B8%89%EF%BC%9A"><span class="toc-text">3、案例三：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E6%A1%88%E4%BE%8B%E5%9B%9B%EF%BC%9A"><span class="toc-text">4、案例四：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E5%8F%8D%E5%B0%84"><span class="toc-text">二十三、反射</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">1、类的对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E7%B1%BB%E5%AF%B9%E8%B1%A1%E2%80%94%E2%80%94class%E5%AF%B9%E8%B1%A1-Class%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">2、类对象——class对象(Class类的对象)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="toc-text">3、获取类对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%8F%8D%E5%B0%84%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-text">4、反射的常见操作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81"><span class="toc-text">1、</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81"><span class="toc-text">2、</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81"><span class="toc-text">3、</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81"><span class="toc-text">4、</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81"><span class="toc-text">5、</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">5、设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">1、工厂设计模式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-Singleton"><span class="toc-text">2、单例模式-Singleton</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="toc-text">6、枚举类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%B3%A8%E8%A7%A3%E7%B1%BB%E5%9E%8B"><span class="toc-text">7、注解类型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E6%B3%A8%E8%A7%A3%E4%BF%A1%E6%81%AF"><span class="toc-text">1、使用反射获取注解信息</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%85%83%E6%B3%A8%E8%A7%A3"><span class="toc-text">2、元注解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81Java8"><span class="toc-text">二十四、Java8</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Lambda%E8%A1%A8%E7%A4%BA%E5%BC%8F"><span class="toc-text">1、Lambda表示式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">2、函数式接口</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">1、常见函数式接口</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8"><span class="toc-text">3、方法引用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Stream-API"><span class="toc-text">4、Stream API</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E6%96%B0%E6%97%B6%E9%97%B4API"><span class="toc-text">5、新时间API</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-Web"><span class="toc-text">Java Web</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%87Web%E9%A1%B9%E7%9B%AE"><span class="toc-text">如何创建一个文Web项目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80"><span class="toc-text">一、数据库基础</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81JDBC"><span class="toc-text">二、JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%AE%89%E8%A3%85MySQL%E9%A9%B1%E5%8A%A8"><span class="toc-text">1、安装MySQL驱动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%B5%8B%E8%AF%95%E8%BF%9E%E6%8E%A5"><span class="toc-text">2、测试连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81JDBC%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">3、JDBC开发步骤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81ResultSet%EF%BC%88%E7%BB%93%E6%9E%9C%E9%9B%86%EF%BC%89"><span class="toc-text">4、ResultSet（结果集）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81JDBC%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B%E4%B9%8B%E7%99%BB%E5%BD%95"><span class="toc-text">5、JDBC综合案例之登录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81SQL%E6%B3%A8%E5%85%A5%E9%97%AE%E9%A2%98"><span class="toc-text">6、SQL注入问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81PreparedStatement"><span class="toc-text">7、PreparedStatement</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E5%B0%81%E8%A3%85%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">8、封装工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E9%87%8D%E7%94%A8%E6%80%A7%E6%96%B9%E6%A1%88DBUtils"><span class="toc-text">1、重用性方案DBUtils</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%96%B9%E6%A1%88DBUtils"><span class="toc-text">2、跨平台方案DBUtils</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81ORM"><span class="toc-text">9、ORM</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81DAO%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1"><span class="toc-text">三、DAO数据访问对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81DAO%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-text">1、DAO的基本操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Date%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">2、Date工具类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81DateUtils%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%B0%81%E8%A3%85"><span class="toc-text">3、DateUtils工具类封装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Service%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82"><span class="toc-text">四、Service业务逻辑层</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E8%BD%AC%E8%B4%A6%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B"><span class="toc-text">1、转账操作案例</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%8F%8A%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-text">创建数据表及添加数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81DBUtils-properties%EF%BC%9A"><span class="toc-text">1、DBUtils.properties：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81DBUtils-java%EF%BC%9A"><span class="toc-text">2、DBUtils.java：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81Account-java%EF%BC%9A"><span class="toc-text">3、Account.java：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81AccountDAOImpl-java%EF%BC%9A"><span class="toc-text">4、AccountDAOImpl.java：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81AccountServiceImpl-java%EF%BC%9A"><span class="toc-text">5、AccountServiceImpl.java：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81TestAccount-java"><span class="toc-text">6、TestAccount.java</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">7、运行结果</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%BD%AC%E8%B4%A6%E6%A1%88%E4%BE%8B%E4%B8%AD%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3"><span class="toc-text">2、转账案例中存在的问题及解决</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-text">1、解决方法一</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">2、解决方法二</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B0%81%E8%A3%85"><span class="toc-text">3、事务的封装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-text">五、三层架构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-text">1、相关概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="toc-text">2、三层架构项目搭建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81DaoUtils%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">3、DaoUtils工具类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E3%80%81Druid%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">六、Druid连接池</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5-2"><span class="toc-text">1、概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E8%BF%9E%E6%8E%A5%E6%B1%A0%EF%BC%88%E6%9C%89DbUtils%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%89"><span class="toc-text">2、创建连接池（有DbUtils工具类）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%83%E3%80%81Apache%E7%9A%84DbUtils%E4%BD%BF%E7%94%A8"><span class="toc-text">七、Apache的DbUtils使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81DbUtils%E7%AE%80%E4%BB%8B"><span class="toc-text">1、DbUtils简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81DbUtils%E4%B8%BB%E8%A6%81%E5%8C%85%E5%90%AB"><span class="toc-text">2、DbUtils主要包含</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E4%BD%BF%E7%94%A8"><span class="toc-text">3、使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80"><span class="toc-text">八、前端基础</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E3%80%81Tomcat"><span class="toc-text">九、Tomcat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E3%80%81Severlet"><span class="toc-text">十、Severlet</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Servlet%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB"><span class="toc-text">1、Servlet的核心接口和类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%BB%A7%E6%89%BFGenericServlet%E5%AE%8C%E6%88%90Servlet%E7%9A%84%E7%BC%96%E5%86%99"><span class="toc-text">（1）继承GenericServlet完成Servlet的编写</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%BB%A7%E6%89%BFHttpServlet%E5%AE%8C%E6%88%90Servlet%E7%9A%84%E7%BC%96%E5%86%99"><span class="toc-text">（2）继承HttpServlet完成Servlet的编写</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Servlet%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-text">2、Servlet的两种创建方式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E5%AE%9E%E7%8E%B0Servlet%E6%8E%A5%E5%8F%A3"><span class="toc-text">方式一：实现Servlet接口</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E7%BB%A7%E6%89%BFHttpServlet%E7%B1%BB"><span class="toc-text">方式二：继承HttpServlet类</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81Servlet%E7%9A%84%E4%B8%A4%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">3、Servlet的两种配置方式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8web-xml%EF%BC%88Servlet2-5%E4%B9%8B%E5%89%8D%EF%BC%89"><span class="toc-text">1、使用web.xml（Servlet2.5之前）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%EF%BC%88Servlet3-0%E4%B9%8B%E5%90%8E%E6%94%AF%E6%8C%81%EF%BC%89"><span class="toc-text">2、使用注解（Servlet3.0之后支持）</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Servlet%E5%BA%94%E7%94%A8%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91"><span class="toc-text">4、Servlet应用【重点】</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81request%E5%AF%B9%E8%B1%A1"><span class="toc-text">1、request对象</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81get%E8%AF%B7%E6%B1%82%E5%92%8Cpost%E8%AF%B7%E6%B1%82"><span class="toc-text">2、get请求和post请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81request%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95"><span class="toc-text">3、request主要方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81response%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">4、response响应数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81response%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95"><span class="toc-text">5、response的主要方法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-text">5、综合案例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E8%BD%AC%E5%8F%91request"><span class="toc-text">6、转发request</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#6-1-request%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E8%BD%AC%E5%8F%91%E8%B7%B3%E8%BD%AC"><span class="toc-text">6.1 request实现页面转发跳转</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92"><span class="toc-text">6.2 数据传递</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-3-%E8%BD%AC%E5%8F%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">6.3 转发的特点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91response"><span class="toc-text">7、重定向response</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#7-1-response%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="toc-text">7.1 response实现客户端页面跳转</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7-2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92"><span class="toc-text">7.2 数据传递</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7-3-%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">7.3 重定向的特点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E8%BD%AC%E5%8F%91%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91%E6%80%BB%E7%BB%93"><span class="toc-text">8、转发、重定向总结</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81Servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">9、Servlet的生命周期</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81Servlet%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-text">10、Servlet线程安全问题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81Cookie"><span class="toc-text">十一、Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BACookie%E5%AF%B9%E8%B1%A1%E6%B5%8B%E8%AF%95"><span class="toc-text">1、创建Cookie对象测试</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Cookie%E8%AE%BE%E7%BD%AE%E8%B7%AF%E5%BE%84%E5%8F%8A%E6%9C%89%E6%95%88%E6%9C%9F"><span class="toc-text">2、Cookie设置路径及有效期</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81Cookie%E7%9A%84%E8%8E%B7%E5%8F%96"><span class="toc-text">3、Cookie的获取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Cookie%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-text">4、Cookie的修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81Cookie%E7%9A%84%E7%BC%96%E7%A0%81%E5%8F%8A%E6%8E%A5%E7%A0%81"><span class="toc-text">5、Cookie的编码及接码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81Cookie%E6%80%BB%E7%BB%93"><span class="toc-text">6、Cookie总结</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81Session"><span class="toc-text">十二、Session</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%A6%82%E8%BF%B0"><span class="toc-text">1、概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Session%E5%8E%9F%E7%90%86"><span class="toc-text">2、Session原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81Session%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">3、Session的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Session%E4%B8%8ERequest%E7%9A%84%E5%BA%94%E7%94%A8%E5%8C%BA%E5%88%AB"><span class="toc-text">4、Session与Request的应用区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81Session%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">5、Session的生命周期</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A6%81%E7%94%A8Cookie%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">6、浏览器禁用Cookie的解决方案</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81Session%E5%AE%9E%E7%8E%B0%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-text">7、Session实现验证码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81ServletContext%E5%AF%B9%E8%B1%A1%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91"><span class="toc-text">8、ServletContext对象【重点】</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#8-1-ServletContext%E6%8F%8F%E8%BF%B0"><span class="toc-text">8.1 ServletContext描述</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-2-%E8%8E%B7%E5%8F%96ServletContext%E5%AF%B9%E8%B1%A1"><span class="toc-text">8.2 获取ServletContext对象</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-3-ServletContext%E4%BD%9C%E7%94%A8"><span class="toc-text">8.3 ServletContext作用</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-4-ServletContext%E7%89%B9%E7%82%B9"><span class="toc-text">8.4 ServletContext特点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-5-ServletContext%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">8.5 ServletContext应用场景</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-6-%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%80%BB%E7%BB%93"><span class="toc-text">8.6 作用域总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E8%BF%87%E6%BB%A4%E5%99%A8Filter"><span class="toc-text">十三、过滤器Filter</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%9F%E5%81%9A%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">1、什么是过滤器？做什么用？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8"><span class="toc-text">2、如何使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE%E6%9F%A5%E7%9C%8B%E6%95%88%E6%9E%9C%E5%91%A2%EF%BC%9F"><span class="toc-text">3、怎么进行访问查看效果呢？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AEweb-xml%E4%B8%AD%E9%85%8D%E7%BD%AE"><span class="toc-text">4、注解配置web.xml中配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E8%B7%AF%E5%BE%84%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">5、配置拦截路径的三种方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE%E5%8F%8A%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">6、过滤器链及优先级</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E8%BF%87%E6%BB%A4%E5%99%A8%E5%BA%94%E7%94%A8%E4%B8%80%EF%BC%9A%E4%B9%B1%E7%A0%81%E5%A4%84%E7%90%86"><span class="toc-text">7、过滤器应用一：乱码处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E8%BF%87%E6%BB%A4%E5%99%A8%E5%BA%94%E7%94%A8%E4%BA%8C%EF%BC%9A%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81"><span class="toc-text">8、过滤器应用二：权限认证</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">十四、监听器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E7%9B%91%E5%90%AC%E5%99%A8%EF%BC%9F%E4%BD%9C%E7%94%A8%E6%98%AF%EF%BC%9F"><span class="toc-text">1、什么是监听器？作用是？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E7%9B%91%E5%90%AC%E5%99%A8%E7%A7%8D%E7%B1%BB"><span class="toc-text">2、监听器种类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%80%8E%E6%A0%B7%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%9B%91%E5%90%AC%E5%99%A8%EF%BC%9F"><span class="toc-text">3、怎样实现一个监听器？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E7%9B%91%E5%90%AC%E5%99%A8%E5%BA%94%E7%94%A8%EF%BC%9A%E7%BB%9F%E8%AE%A1%E5%9C%A8%E7%BA%BF%E4%BA%BA%E6%95%B0"><span class="toc-text">4、监听器应用：统计在线人数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94EMP"><span class="toc-text">十五、综合案例——EMP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81JSP"><span class="toc-text">十六、JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81JSP%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1、JSP是什么</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81JSP%E4%BD%9C%E7%94%A8"><span class="toc-text">2、JSP作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAJSP%E6%96%87%E4%BB%B6"><span class="toc-text">3、创建一个JSP文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81JSP%E4%B8%8EServlet%E7%9A%84%E5%85%B3%E7%B3%BB%E4%B8%8E%E5%8C%BA%E5%88%AB"><span class="toc-text">4、JSP与Servlet的关系与区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81JSP%E4%B8%8EHTML%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91"><span class="toc-text">5、JSP与HTML集成开发</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#5-1-%E8%84%9A%E6%9C%AC"><span class="toc-text">5.1 脚本</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-%E6%B3%A8%E9%87%8A"><span class="toc-text">5.2 注释</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-3-JSP%E6%8C%87%E4%BB%A4"><span class="toc-text">5.3 JSP指令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-4-%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE"><span class="toc-text">5.4 动作标签</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-5-%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-text">5.5 内置对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%83%E3%80%81EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">十七、EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81EL%E7%9A%84%E5%BA%94%E7%94%A8-%E8%8E%B7%E5%8F%96%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">1、EL的应用(获取基本类型、字符串)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-EL%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B"><span class="toc-text">1.1 EL应用案例</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-2-EL%E5%92%8CJSP%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">1.2 EL和JSP获取数据的区别</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81EL%E7%9A%84%E5%BA%94%E7%94%A8-%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">2、EL的应用(获取应用类型)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81EL%E7%9A%84%E5%BA%94%E7%94%A8-%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E3%80%81%E9%9B%86%E5%90%88%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-text">3、EL的应用(获取数组、集合的元素)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81EL%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">4、EL的运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E9%9A%90%E5%BC%8F%E5%AF%B9%E8%B1%A1"><span class="toc-text">5、隐式对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#5-1-%E8%8E%B7%E5%8F%96%E5%BA%94%E7%94%A8%E8%B7%AF%E5%BE%84"><span class="toc-text">5.1 获取应用路径</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-%E8%8E%B7%E5%8F%96Cookie%E5%AF%B9%E8%B1%A1"><span class="toc-text">5.2 获取Cookie对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AB%E3%80%81JSTL"><span class="toc-text">十八、JSTL</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%8E%B0%E6%9C%89%E9%97%AE%E9%A2%98"><span class="toc-text">1、现有问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFJSTL"><span class="toc-text">2、什么是JSTL</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E4%BD%BF%E7%94%A8-1"><span class="toc-text">3、使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81JSTL%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">4、JSTL条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#4-1-%E5%8D%95%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">4.1 单条件判断</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-2-%E5%A4%9A%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">4.2 多条件判断</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81JSTL%E8%BF%AD%E4%BB%A3%E9%81%8D%E5%8E%86"><span class="toc-text">5、JSTL迭代遍历</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81JSTL%E9%87%8D%E5%86%99URL"><span class="toc-text">6、JSTL重写URL</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B9%9D%E3%80%81MVC%E6%A1%86%E6%9E%B6"><span class="toc-text">十九、MVC框架</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81MVC%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3"><span class="toc-text">1、MVC模式详解</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81MVC%E6%A8%A1%E5%BC%8F%E4%BC%98%E7%82%B9"><span class="toc-text">2、MVC模式优点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81MVC%E5%9C%A8%E6%A1%86%E6%9E%B6%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">3、MVC在框架中的应用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81MVC%E4%B8%8E%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-text">4、MVC与三层架构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E3%80%81%E5%88%86%E9%A1%B5"><span class="toc-text">二十、分页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8E%E4%B8%8B%E8%BD%BD"><span class="toc-text">二十一、文件上传与下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE-EMS"><span class="toc-text">二十二、综合项目-EMS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#idea%E4%BD%BF%E7%94%A8%E6%95%88%E7%8E%87"><span class="toc-text">idea使用效率</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%B8%80%E4%BA%9B%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">1、一些快捷键</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%BF%AB%E9%80%9F%E6%B7%BB%E5%8A%A0%E5%B8%A6%E5%8F%82%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">2、快速添加带参构造方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE%E5%86%99%E6%BB%A1%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C"><span class="toc-text">3、代码设置写满自动换行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%BF%AB%E9%80%9F%E8%BF%94%E5%9B%9E%E4%B8%8A%E6%AC%A1%E7%BC%96%E8%BE%91%E7%9A%84%E5%9C%B0%E6%96%B9"><span class="toc-text">4、快速返回上次编辑的地方</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%BF%AB%E6%8D%B7%E9%94%AE-ctrl-alt-t"><span class="toc-text">5、快捷键 ctrl+alt+t</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eclipse%E4%BD%BF%E7%94%A8%E6%95%88%E7%8E%87"><span class="toc-text">eclipse使用效率</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BD%9C%E8%80%85%E5%8F%8A%E6%97%B6%E9%97%B4"><span class="toc-text">1、设置作者及时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%9B%B4%E6%8D%A2%E9%BB%98%E8%AE%A4%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-text">2、更换默认的工作空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">java其他知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%BA%90%E6%96%87%E4%BB%B6%E5%90%8D%EF%BC%9A"><span class="toc-text">1、源文件名：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81DOS%EF%BC%88cmd%E5%91%BD%E4%BB%A4%EF%BC%89"><span class="toc-text">2、DOS（cmd命令）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81cmd-%E8%BF%90%E8%A1%8C%E7%BC%96%E8%AF%91-java%E6%96%87%E4%BB%B6%E6%97%B6"><span class="toc-text">3、cmd 运行编译.java文件时</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%B8%B8%E9%87%8F"><span class="toc-text">4、常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">5、数据类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E4%B8%80%E4%B8%AA%E6%BA%90%E6%96%87%E4%BB%B6%E4%B8%AD%E5%8F%AA%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%85%AC%E5%BC%80%E7%B1%BB"><span class="toc-text">6、一个源文件中只能有一个公开类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E7%BC%96%E8%AF%91-javac-%E6%96%87%E4%BB%B6%E5%90%8D-java-%E8%BF%90%E8%A1%8C-java-%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-text">7、编译 javac + 文件名.java      运行 java + 文件名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81java%E5%8F%8D%E7%BC%96%E8%AF%91"><span class="toc-text">8、java反编译</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81package%E5%8C%85%EF%BC%9A"><span class="toc-text">9、package包：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81%E6%B3%A8%E9%87%8A"><span class="toc-text">10、注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">11、命名规范</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E3%80%81%E5%BC%BA%E5%BC%B1%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80"><span class="toc-text">12、强弱类型编程语言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">13、数据类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14%E3%80%81%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-text">14、转义字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15%E3%80%81%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">15、强制类型转换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16%E3%80%81%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B%E6%8F%90%E5%8D%87"><span class="toc-text">16、自动类型提升</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#17%E3%80%81%E9%94%AE%E7%9B%98%E5%87%BA%E5%85%A5"><span class="toc-text">17、键盘出入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18%E3%80%81%E6%8A%80%E5%B7%A7"><span class="toc-text">18、技巧</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#19%E3%80%81println%E5%92%8Cprint"><span class="toc-text">19、println和print</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20%E3%80%81eclipse%E7%9A%84java%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">20、eclipse的java快捷键</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#21%E3%80%81equals"><span class="toc-text">21、equals</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22%E3%80%81%E6%8D%A2%E8%A1%8C"><span class="toc-text">22、换行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23%E3%80%81%E6%B3%9B%E5%9E%8B"><span class="toc-text">23、泛型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24%E3%80%81%E6%96%B9%E6%B3%95%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-text">24、方法与函数</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: black"><div id="footer-wrap"><div class="footer_custom_text">Copyright © 2021 - 2023 <a href="https://yagote.github.io/">虾壳</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>